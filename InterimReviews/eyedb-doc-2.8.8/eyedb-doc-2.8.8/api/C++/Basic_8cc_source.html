<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>eyedb: Basic.cc Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    </ul>
  </div>
<h1>Basic.cc</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/* </span>
<a name="l00002"></a>00002 <span class="comment">   EyeDB Object Database Management System</span>
<a name="l00003"></a>00003 <span class="comment">   Copyright (C) 1994-2008 SYSRA</span>
<a name="l00004"></a>00004 <span class="comment">   </span>
<a name="l00005"></a>00005 <span class="comment">   EyeDB is free software; you can redistribute it and/or</span>
<a name="l00006"></a>00006 <span class="comment">   modify it under the terms of the GNU Lesser General Public</span>
<a name="l00007"></a>00007 <span class="comment">   License as published by the Free Software Foundation; either</span>
<a name="l00008"></a>00008 <span class="comment">   version 2.1 of the License, or (at your option) any later version.</span>
<a name="l00009"></a>00009 <span class="comment">   </span>
<a name="l00010"></a>00010 <span class="comment">   EyeDB is distributed in the hope that it will be useful,</span>
<a name="l00011"></a>00011 <span class="comment">   but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00012"></a>00012 <span class="comment">   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>
<a name="l00013"></a>00013 <span class="comment">   Lesser General Public License for more details.</span>
<a name="l00014"></a>00014 <span class="comment">   </span>
<a name="l00015"></a>00015 <span class="comment">   You should have received a copy of the GNU Lesser General Public</span>
<a name="l00016"></a>00016 <span class="comment">   License along with this library; if not, write to the Free Software</span>
<a name="l00017"></a>00017 <span class="comment">   Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA </span>
<a name="l00018"></a>00018 <span class="comment">*/</span>
<a name="l00019"></a>00019 
<a name="l00020"></a>00020 <span class="comment">/*</span>
<a name="l00021"></a>00021 <span class="comment">   Author: Eric Viara &lt;viara@sysra.com&gt;</span>
<a name="l00022"></a>00022 <span class="comment">*/</span>
<a name="l00023"></a>00023 
<a name="l00024"></a>00024 
<a name="l00025"></a>00025 <span class="preprocessor">#include &quot;eyedb_p.h&quot;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &quot;AttrNative.h&quot;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &quot;CollectionBE.h&quot;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &lt;assert.h&gt;</span>
<a name="l00029"></a>00029 
<a name="l00030"></a>00030 <span class="comment">//#define E_XDR_TRACE</span>
<a name="l00031"></a>00031 
<a name="l00032"></a>00032 <span class="keyword">namespace </span>eyedb {
<a name="l00033"></a>00033 
<a name="l00034"></a>00034 <span class="keyword">enum</span> {
<a name="l00035"></a>00035   CharClass_Code = 10,
<a name="l00036"></a>00036   ByteClass_Code,
<a name="l00037"></a>00037   OidPClass_Code,
<a name="l00038"></a>00038   Int16Class_Code,
<a name="l00039"></a>00039   Int32Class_Code,
<a name="l00040"></a>00040   Int64Class_Code,
<a name="l00041"></a>00041   FloatClass_Code
<a name="l00042"></a>00042 };
<a name="l00043"></a>00043 
<a name="l00044"></a>00044 <span class="keyword">const</span> <span class="keywordtype">char</span> char_class_name[]  = <span class="stringliteral">&quot;char&quot;</span>;
<a name="l00045"></a>00045 <span class="keyword">const</span> <span class="keywordtype">char</span> byte_class_name[]  = <span class="stringliteral">&quot;byte&quot;</span>;
<a name="l00046"></a>00046 <span class="keyword">const</span> <span class="keywordtype">char</span> oid_class_name[]   = <span class="stringliteral">&quot;oid&quot;</span>;
<a name="l00047"></a>00047 <span class="keyword">const</span> <span class="keywordtype">char</span> int16_class_name[] = <span class="stringliteral">&quot;int16&quot;</span>;
<a name="l00048"></a>00048 <span class="keyword">const</span> <span class="keywordtype">char</span> int32_class_name[] = <span class="stringliteral">&quot;int32&quot;</span>;
<a name="l00049"></a>00049 <span class="keyword">const</span> <span class="keywordtype">char</span> int64_class_name[] = <span class="stringliteral">&quot;int64&quot;</span>;
<a name="l00050"></a>00050 <span class="keyword">const</span> <span class="keywordtype">char</span> float_class_name[] = <span class="stringliteral">&quot;float&quot;</span>;
<a name="l00051"></a>00051 
<a name="l00052"></a>00052 CharClass    *Char_Class;
<a name="l00053"></a>00053 ByteClass    *Byte_Class;
<a name="l00054"></a>00054 OidClass    *OidP_Class;
<a name="l00055"></a>00055 Int16Class   *Int16_Class;
<a name="l00056"></a>00056 Int32Class   *Int32_Class;
<a name="l00057"></a>00057 Int64Class   *Int64_Class;
<a name="l00058"></a>00058 FloatClass   *Float_Class;
<a name="l00059"></a>00059 
<a name="l00060"></a>00060 <span class="keyword">static</span> <span class="keywordtype">void</span>
<a name="l00061"></a>00061 fprint_float(FILE *fd, <span class="keywordtype">double</span> d);
<a name="l00062"></a>00062 
<a name="l00063"></a>00063 <span class="keyword">static</span> <span class="keywordtype">int</span>
<a name="l00064"></a>00064 increment(<span class="keywordtype">int</span> n, <span class="keywordtype">int</span> dim[], <span class="keyword">const</span> TypeModifier *tmod)
<a name="l00065"></a>00065 {
<a name="l00066"></a>00066   <span class="keywordflow">if</span> (n &lt; tmod-&gt;ndims)
<a name="l00067"></a>00067     {
<a name="l00068"></a>00068       <span class="keywordflow">if</span> (dim[n] == tmod-&gt;dims[n]-1)
<a name="l00069"></a>00069         {
<a name="l00070"></a>00070           dim[n] = 0;
<a name="l00071"></a>00071           <span class="keywordflow">return</span> increment(n-1, dim, tmod) + 1;
<a name="l00072"></a>00072         }
<a name="l00073"></a>00073 
<a name="l00074"></a>00074       dim[n]++;
<a name="l00075"></a>00075       <span class="keywordflow">return</span> 0;
<a name="l00076"></a>00076     }
<a name="l00077"></a>00077 }
<a name="l00078"></a>00078 
<a name="l00079"></a>00079 <span class="keyword">static</span> <span class="keywordtype">int</span>
<a name="l00080"></a>00080 increment(<span class="keywordtype">int</span> dim[], <span class="keyword">const</span> TypeModifier *tmod)
<a name="l00081"></a>00081 {
<a name="l00082"></a>00082   <span class="keywordflow">return</span> increment(tmod-&gt;ndims-1, dim, tmod);
<a name="l00083"></a>00083 }
<a name="l00084"></a>00084 
<a name="l00085"></a>00085 <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *mk_indent(<span class="keywordtype">int</span> indent, <span class="keywordtype">int</span> n)
<a name="l00086"></a>00086 {
<a name="l00087"></a>00087 <span class="preprocessor">#define INCR 4</span>
<a name="l00088"></a>00088 <span class="preprocessor"></span><span class="preprocessor">#define MAX(X,Y) ((X) &gt; (Y) ? (X) : (Y))</span>
<a name="l00089"></a>00089 <span class="preprocessor"></span>  <span class="keyword">static</span> <span class="keywordtype">char</span> *indstr;
<a name="l00090"></a>00090   <span class="keyword">static</span> <span class="keywordtype">int</span> size;
<a name="l00091"></a>00091 
<a name="l00092"></a>00092   <span class="keywordtype">int</span> q = indent + INCR * n;
<a name="l00093"></a>00093   <span class="keywordflow">if</span> (!indstr || size &lt; q)
<a name="l00094"></a>00094     {
<a name="l00095"></a>00095       size = MAX(128, q);
<a name="l00096"></a>00096       <span class="keywordflow">if</span> (indstr)
<a name="l00097"></a>00097         free(indstr);
<a name="l00098"></a>00098       indstr = (<span class="keywordtype">char</span> *)malloc(size);
<a name="l00099"></a>00099       memset(indstr, <span class="charliteral">&apos; &apos;</span>, size-1);
<a name="l00100"></a>00100       indstr[size-1] = 0;
<a name="l00101"></a>00101     }
<a name="l00102"></a>00102 
<a name="l00103"></a>00103   <span class="keywordflow">return</span> &amp;indstr[size-q-1];
<a name="l00104"></a>00104 }
<a name="l00105"></a>00105 
<a name="l00106"></a>00106 <span class="keyword">static</span> <span class="keywordtype">void</span>
<a name="l00107"></a>00107 traceData(FILE *fd, <span class="keywordtype">int</span> indent, Data inidata,
<a name="l00108"></a>00108           Data data, TypeModifier *tmod, <span class="keywordtype">int</span> size,
<a name="l00109"></a>00109           <span class="keywordtype">void</span> (*print_data)(FILE *fd, Data data))
<a name="l00110"></a>00110 {
<a name="l00111"></a>00111   <span class="keywordtype">int</span> i, j, k;
<a name="l00112"></a>00112 
<a name="l00113"></a>00113   <span class="keywordtype">int</span> *dim = (<span class="keywordtype">int</span> *)malloc(tmod-&gt;ndims * <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>));
<a name="l00114"></a>00114   <span class="keywordflow">for</span> (j = 0; j &lt; tmod-&gt;ndims; j++)
<a name="l00115"></a>00115     {
<a name="l00116"></a>00116       dim[j] = 0;
<a name="l00117"></a>00117       fprintf(fd, <span class="stringliteral">&quot;%s{\n&quot;</span>, (j ? mk_indent(indent, j) : <span class="stringliteral">&quot;&quot;</span>));
<a name="l00118"></a>00118     }
<a name="l00119"></a>00119 
<a name="l00120"></a>00120   dim[tmod-&gt;ndims-1] = -1;
<a name="l00121"></a>00121   <span class="keywordflow">for</span> (i = 0; i &lt; tmod-&gt;pdims; i++)
<a name="l00122"></a>00122     {
<a name="l00123"></a>00123       <span class="keywordtype">int</span> r = increment(dim, tmod);
<a name="l00124"></a>00124       <span class="keywordflow">for</span> (k = r-1; k &gt;= 0; k--)
<a name="l00125"></a>00125         fprintf(fd, <span class="stringliteral">&quot;\n%s}&quot;</span>, mk_indent(indent, tmod-&gt;ndims - r + k));
<a name="l00126"></a>00126       <span class="keywordflow">if</span> (i)
<a name="l00127"></a>00127         fprintf(fd, <span class="stringliteral">&quot;,%s&quot;</span>, (r ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;\n&quot;</span>));
<a name="l00128"></a>00128       <span class="keywordflow">for</span> (k = 0; k &lt; r; k++)
<a name="l00129"></a>00129         fprintf(fd, <span class="stringliteral">&quot;\n%s{&quot;</span>, mk_indent(indent, tmod-&gt;ndims - r + k));
<a name="l00130"></a>00130                   
<a name="l00131"></a>00131       fprintf(fd, <span class="stringliteral">&quot;%s%s  &quot;</span>, (r ? <span class="stringliteral">&quot;\n&quot;</span> : <span class="stringliteral">&quot;&quot;</span>),
<a name="l00132"></a>00132               mk_indent(indent, tmod-&gt;ndims-1));
<a name="l00133"></a>00133 
<a name="l00134"></a>00134       <span class="keywordflow">for</span> (j = 0; j &lt; tmod-&gt;ndims; j++)
<a name="l00135"></a>00135         fprintf(fd, <span class="stringliteral">&quot;[%d]&quot;</span>, dim[j]);
<a name="l00136"></a>00136       
<a name="l00137"></a>00137       fprintf(fd, <span class="stringliteral">&quot; = &quot;</span>);
<a name="l00138"></a>00138       <span class="keywordflow">if</span> (<a class="code" href="classeyedb_1_1Attribute.html#a029e0951077777a20ffff3989595994e" title="Not yet documented.">Attribute::isNull</a>(inidata, 1, i))
<a name="l00139"></a>00139         fprintf(fd, <span class="stringliteral">&quot;%s&quot;</span>, NullString);
<a name="l00140"></a>00140       <span class="keywordflow">else</span>
<a name="l00141"></a>00141         print_data(fd, data);
<a name="l00142"></a>00142 
<a name="l00143"></a>00143       data += size;
<a name="l00144"></a>00144     }
<a name="l00145"></a>00145 
<a name="l00146"></a>00146   <span class="keywordflow">for</span> (j = tmod-&gt;ndims-1; j &gt;= 0; j--)
<a name="l00147"></a>00147     fprintf(fd, <span class="stringliteral">&quot;\n%s}&quot;</span>, mk_indent(indent - INDENT_INC, j));
<a name="l00148"></a>00148   free(dim);
<a name="l00149"></a>00149 }
<a name="l00150"></a>00150 
<a name="l00151"></a>00151 <span class="keyword">static</span> <span class="keywordtype">void</span>
<a name="l00152"></a>00152 print_int32_data(FILE *fd, Data data)
<a name="l00153"></a>00153 {
<a name="l00154"></a>00154   eyedblib::int32 n;
<a name="l00155"></a>00155 <span class="preprocessor">#ifdef E_XDR</span>
<a name="l00156"></a>00156 <span class="preprocessor"></span>  x2h_32_cpy(&amp;n, data);
<a name="l00157"></a>00157 <span class="preprocessor">#else</span>
<a name="l00158"></a>00158 <span class="preprocessor"></span>  memcpy(&amp;n, data, <span class="keyword">sizeof</span>(eyedblib::int32));
<a name="l00159"></a>00159 <span class="preprocessor">#endif</span>
<a name="l00160"></a>00160 <span class="preprocessor"></span>  fprintf(fd, <span class="stringliteral">&quot;%d&quot;</span>, n);
<a name="l00161"></a>00161 }
<a name="l00162"></a>00162 
<a name="l00163"></a>00163 <span class="keyword">static</span> <span class="keywordtype">void</span>
<a name="l00164"></a>00164 print_int16_data(FILE *fd, Data data)
<a name="l00165"></a>00165 {
<a name="l00166"></a>00166   eyedblib::int16 n;
<a name="l00167"></a>00167 <span class="preprocessor">#ifdef E_XDR</span>
<a name="l00168"></a>00168 <span class="preprocessor"></span>  x2h_16_cpy(&amp;n, data);
<a name="l00169"></a>00169 <span class="preprocessor">#else</span>
<a name="l00170"></a>00170 <span class="preprocessor"></span>  memcpy(&amp;n, data, <span class="keyword">sizeof</span>(eyedblib::int16));
<a name="l00171"></a>00171 <span class="preprocessor">#endif</span>
<a name="l00172"></a>00172 <span class="preprocessor"></span>  fprintf(fd, <span class="stringliteral">&quot;%d&quot;</span>, n);
<a name="l00173"></a>00173 }
<a name="l00174"></a>00174 
<a name="l00175"></a>00175 <span class="keyword">static</span> <span class="keywordtype">void</span>
<a name="l00176"></a>00176 print_int64_data(FILE *fd, Data data)
<a name="l00177"></a>00177 {
<a name="l00178"></a>00178   eyedblib::int64 n;
<a name="l00179"></a>00179 <span class="preprocessor">#ifdef E_XDR</span>
<a name="l00180"></a>00180 <span class="preprocessor"></span>  x2h_64_cpy(&amp;n, data);
<a name="l00181"></a>00181 <span class="preprocessor">#else</span>
<a name="l00182"></a>00182 <span class="preprocessor"></span>  memcpy(&amp;n, data, <span class="keyword">sizeof</span>(eyedblib::int64));
<a name="l00183"></a>00183 <span class="preprocessor">#endif</span>
<a name="l00184"></a>00184 <span class="preprocessor"></span>  fprintf(fd, <span class="stringliteral">&quot;%lld&quot;</span>, n);
<a name="l00185"></a>00185 }
<a name="l00186"></a>00186 
<a name="l00187"></a>00187 <span class="keyword">static</span> <span class="keywordtype">void</span>
<a name="l00188"></a>00188 print_xdr_float_data(FILE *fd, Data data)
<a name="l00189"></a>00189 {
<a name="l00190"></a>00190   <span class="keywordtype">double</span> d;
<a name="l00191"></a>00191 <span class="preprocessor">#ifdef E_XDR</span>
<a name="l00192"></a>00192 <span class="preprocessor"></span>  x2h_f64_cpy(&amp;d, data);
<a name="l00193"></a>00193 <span class="preprocessor">#else</span>
<a name="l00194"></a>00194 <span class="preprocessor"></span>  memcpy(&amp;d, data, <span class="keyword">sizeof</span>(<span class="keywordtype">double</span>));
<a name="l00195"></a>00195 <span class="preprocessor">#endif</span>
<a name="l00196"></a>00196 <span class="preprocessor"></span>  fprint_float(fd, d);
<a name="l00197"></a>00197 }
<a name="l00198"></a>00198 
<a name="l00199"></a>00199 <span class="keyword">static</span> <span class="keywordtype">void</span>
<a name="l00200"></a>00200 print_xdr_oid_data(FILE *fd, Data data)
<a name="l00201"></a>00201 {
<a name="l00202"></a>00202   Oid oid;
<a name="l00203"></a>00203 <span class="preprocessor">#ifdef E_XDR</span>
<a name="l00204"></a>00204 <span class="preprocessor"></span>  eyedbsm::x2h_oid(oid.getOid(), data);
<a name="l00205"></a>00205 <span class="preprocessor">#else</span>
<a name="l00206"></a>00206 <span class="preprocessor"></span>  memcpy(oid.getOid(), data, <span class="keyword">sizeof</span>(Oid));
<a name="l00207"></a>00207 <span class="preprocessor">#endif</span>
<a name="l00208"></a>00208 <span class="preprocessor"></span>  fprintf(fd, <span class="stringliteral">&quot;%s&quot;</span>, oid.getString());
<a name="l00209"></a>00209 }
<a name="l00210"></a>00210 
<a name="l00211"></a>00211 <span class="preprocessor">#define MAXPRES 80</span>
<a name="l00212"></a>00212 <span class="preprocessor"></span><span class="preprocessor">#define MINPRES  6</span>
<a name="l00213"></a>00213 <span class="preprocessor"></span>
<a name="l00214"></a>00214 <span class="keyword">static</span> <span class="keywordtype">void</span>
<a name="l00215"></a>00215 fprint_float(FILE *fd, <span class="keywordtype">double</span> d)
<a name="l00216"></a>00216 {
<a name="l00217"></a>00217   <span class="keywordtype">double</span> od = 0;
<a name="l00218"></a>00218   <span class="keywordtype">char</span> tok[128], fmt[32];
<a name="l00219"></a>00219 
<a name="l00220"></a>00220   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = MINPRES; i &lt; MAXPRES; i += 4)
<a name="l00221"></a>00221     {
<a name="l00222"></a>00222       sprintf(fmt, <span class="stringliteral">&quot;%%.%dg&quot;</span>, i);
<a name="l00223"></a>00223       sprintf(tok, fmt, d);
<a name="l00224"></a>00224       <span class="keywordtype">double</span> cd = atof(tok);
<a name="l00225"></a>00225       <span class="keywordflow">if</span> (cd == d || (i != MINPRES &amp;&amp; od != cd))
<a name="l00226"></a>00226         {
<a name="l00227"></a>00227           fprintf(fd, tok);
<a name="l00228"></a>00228           <span class="keywordflow">return</span>;
<a name="l00229"></a>00229         }
<a name="l00230"></a>00230 
<a name="l00231"></a>00231       od = cd;
<a name="l00232"></a>00232     }
<a name="l00233"></a>00233 
<a name="l00234"></a>00234   sprintf(fmt, <span class="stringliteral">&quot;%%.%dg&quot;</span>, MAXPRES);
<a name="l00235"></a>00235   sprintf(tok, fmt, d);
<a name="l00236"></a>00236   fprintf(fd, tok);
<a name="l00237"></a>00237 }
<a name="l00238"></a>00238 
<a name="l00239"></a>00239 <span class="keyword">static</span> <span class="keywordtype">void</span>
<a name="l00240"></a>00240 print_float_data(FILE *fd, Data data)
<a name="l00241"></a>00241 {
<a name="l00242"></a>00242   <span class="keywordtype">double</span> d;
<a name="l00243"></a>00243   memcpy(&amp;d, data, <span class="keyword">sizeof</span>(<span class="keywordtype">double</span>));
<a name="l00244"></a>00244   fprint_float(fd, d);
<a name="l00245"></a>00245 }
<a name="l00246"></a>00246 
<a name="l00247"></a>00247 <span class="keyword">static</span> <span class="keywordtype">void</span>
<a name="l00248"></a>00248 print_byte_data(FILE *fd, Data data)
<a name="l00249"></a>00249 {
<a name="l00250"></a>00250   fprintf(fd, <span class="stringliteral">&quot;&apos;\\%03o&apos;&quot;</span>, *data);
<a name="l00251"></a>00251 }
<a name="l00252"></a>00252 
<a name="l00253"></a>00253 <span class="keyword">static</span> <span class="keywordtype">void</span>
<a name="l00254"></a>00254 print_oid_data(FILE *fd, Data data)
<a name="l00255"></a>00255 {
<a name="l00256"></a>00256   Oid oid;
<a name="l00257"></a>00257   memcpy(&amp;oid, data, <span class="keyword">sizeof</span>(Oid));
<a name="l00258"></a>00258   fprintf(fd, oid.getString());
<a name="l00259"></a>00259 }
<a name="l00260"></a>00260 
<a name="l00261"></a>00261 <span class="keyword">static</span> <span class="keywordtype">void</span>
<a name="l00262"></a>00262 print_char_data(FILE *fd, Data data)
<a name="l00263"></a>00263 {
<a name="l00264"></a>00264   fprintf(fd, <span class="stringliteral">&quot;&apos;%c&apos;&quot;</span>, *(<span class="keywordtype">char</span> *)data);
<a name="l00265"></a>00265 }
<a name="l00266"></a>00266 
<a name="l00267"></a>00267 <span class="comment">//</span>
<a name="l00268"></a>00268 <span class="comment">// BasicClass</span>
<a name="l00269"></a>00269 <span class="comment">//</span>
<a name="l00270"></a>00270 
<a name="l00271"></a><a class="code" href="classeyedb_1_1BasicClass.html#a41c621f50b1069813afcff3c88b217a3">00271</a> <a class="code" href="classeyedb_1_1BasicClass.html#a41c621f50b1069813afcff3c88b217a3" title="Not yet documented.">BasicClass::BasicClass</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *s) : <a class="code" href="classeyedb_1_1Class.html" title="Not yet documented.">Class</a>(s)
<a name="l00272"></a>00272 {
<a name="l00273"></a>00273   parent = Class_Class;
<a name="l00274"></a>00274   type = _BasicClass_Type;
<a name="l00275"></a>00275   *Cname = 0;
<a name="l00276"></a>00276 
<a name="l00277"></a>00277   AttrNative::copy(ClassITEMS, items, items_cnt, <span class="keyword">this</span>);
<a name="l00278"></a>00278 }
<a name="l00279"></a>00279 
<a name="l00280"></a><a class="code" href="classeyedb_1_1BasicClass.html#a2b26317e28611b18e1126993d5f8cbc0">00280</a> <a class="code" href="classeyedb_1_1BasicClass.html#a41c621f50b1069813afcff3c88b217a3" title="Not yet documented.">BasicClass::BasicClass</a>(<a class="code" href="classeyedb_1_1Database.html" title="Not yet documented.">Database</a> *_db, <span class="keyword">const</span> <span class="keywordtype">char</span> *s) :
<a name="l00281"></a>00281 <a class="code" href="classeyedb_1_1Class.html" title="Not yet documented.">Class</a>(_db, s)
<a name="l00282"></a>00282 {
<a name="l00283"></a>00283   parent = Class_Class;
<a name="l00284"></a>00284   type = _BasicClass_Type;
<a name="l00285"></a>00285   *Cname = 0;
<a name="l00286"></a>00286 
<a name="l00287"></a>00287   AttrNative::copy(ClassITEMS, items, items_cnt, <span class="keyword">this</span>);
<a name="l00288"></a>00288 }
<a name="l00289"></a>00289 
<a name="l00290"></a>00290 <span class="keywordtype">void</span>
<a name="l00291"></a>00291 BasicClass::copy_realize(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1BasicClass.html" title="Not yet documented.">BasicClass</a> &amp;cl)
<a name="l00292"></a>00292 {
<a name="l00293"></a>00293   code = cl.code;
<a name="l00294"></a>00294   strcpy(Cname, cl.Cname);
<a name="l00295"></a>00295 }
<a name="l00296"></a>00296 
<a name="l00297"></a><a class="code" href="classeyedb_1_1BasicClass.html#aad9b344e67b39cec918d53ced343eace">00297</a> <a class="code" href="classeyedb_1_1BasicClass.html#a41c621f50b1069813afcff3c88b217a3" title="Not yet documented.">BasicClass::BasicClass</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1BasicClass.html" title="Not yet documented.">BasicClass</a> &amp;cl)
<a name="l00298"></a>00298   : <a class="code" href="classeyedb_1_1Class.html" title="Not yet documented.">Class</a>(cl)
<a name="l00299"></a>00299 {
<a name="l00300"></a>00300   *Cname = 0;
<a name="l00301"></a>00301   copy_realize(cl);
<a name="l00302"></a>00302 }
<a name="l00303"></a>00303 
<a name="l00304"></a>00304 <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a>
<a name="l00305"></a><a class="code" href="classeyedb_1_1BasicClass.html#a1014113b51820a3f9f8d13db984af030">00305</a> <a class="code" href="classeyedb_1_1BasicClass.html#a1014113b51820a3f9f8d13db984af030" title="Not yet documented.">BasicClass::loadComplete</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Class.html" title="Not yet documented.">Class</a> *cl)
<a name="l00306"></a>00306 {
<a name="l00307"></a>00307   assert(cl-&gt;<a class="code" href="classeyedb_1_1Object.html#a2faecc41c63507d8ac1fb9203b2a9c51" title="Not yet documented.">asBasicClass</a>());
<a name="l00308"></a>00308   <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> s = <a class="code" href="classeyedb_1_1BasicClass.html#a1014113b51820a3f9f8d13db984af030" title="Not yet documented.">Class::loadComplete</a>(cl);
<a name="l00309"></a>00309   <span class="keywordflow">if</span> (s) <span class="keywordflow">return</span> s;
<a name="l00310"></a>00310   copy_realize(*cl-&gt;<a class="code" href="classeyedb_1_1Object.html#a2faecc41c63507d8ac1fb9203b2a9c51" title="Not yet documented.">asBasicClass</a>());
<a name="l00311"></a>00311   <span class="keywordflow">return</span> Success;
<a name="l00312"></a>00312 }
<a name="l00313"></a>00313 
<a name="l00314"></a><a class="code" href="classeyedb_1_1BasicClass.html#a52cbdef0e01d9d5c2c7fe12412d5b169">00314</a> <a class="code" href="classeyedb_1_1BasicClass.html" title="Not yet documented.">BasicClass</a> &amp;<a class="code" href="classeyedb_1_1BasicClass.html#a52cbdef0e01d9d5c2c7fe12412d5b169" title="Not yet documented.">BasicClass::operator=</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1BasicClass.html" title="Not yet documented.">BasicClass</a> &amp;cl)
<a name="l00315"></a>00315 {
<a name="l00316"></a>00316   this-&gt;<a class="code" href="classeyedb_1_1BasicClass.html#a52cbdef0e01d9d5c2c7fe12412d5b169" title="Not yet documented.">Class::operator=</a>(cl);
<a name="l00317"></a>00317   copy_realize(cl);
<a name="l00318"></a>00318   <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00319"></a>00319 }
<a name="l00320"></a>00320 
<a name="l00321"></a><a class="code" href="classeyedb_1_1BasicClass.html#ad2cbeb3155ae4aa7b21dd21f5b96f79e">00321</a> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1BasicClass.html#ad2cbeb3155ae4aa7b21dd21f5b96f79e" title="Not yet documented.">BasicClass::attrsComplete</a>()
<a name="l00322"></a>00322 {
<a name="l00323"></a>00323   <span class="comment">//  return Success;</span>
<a name="l00324"></a>00324   <span class="keywordflow">return</span> <a class="code" href="classeyedb_1_1BasicClass.html#ad2cbeb3155ae4aa7b21dd21f5b96f79e" title="Not yet documented.">Class::attrsComplete</a>();
<a name="l00325"></a>00325 }
<a name="l00326"></a>00326 
<a name="l00327"></a>00327 <span class="keyword">const</span> <span class="keywordtype">char</span> *
<a name="l00328"></a><a class="code" href="classeyedb_1_1BasicClass.html#a1e5826e79e2a8f490f43072fc32779f1">00328</a> <a class="code" href="classeyedb_1_1BasicClass.html#a1e5826e79e2a8f490f43072fc32779f1" title="Not yet documented.">BasicClass::getCName</a>(Bool useAsRef)<span class="keyword"> const</span>
<a name="l00329"></a>00329 <span class="keyword"></span>{
<a name="l00330"></a>00330   <span class="keywordflow">if</span> (useAsRef) {
<a name="l00331"></a>00331       <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> prefix[] = <span class="stringliteral">&quot;eyedb::&quot;</span>;
<a name="l00332"></a>00332       <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> prefix_len = strlen(prefix);
<a name="l00333"></a>00333       strcpy(const_cast&lt;BasicClass *&gt;(<span class="keyword">this</span>)-&gt;Cname, prefix);
<a name="l00334"></a>00334       <span class="keyword">const_cast&lt;</span><a class="code" href="classeyedb_1_1BasicClass.html" title="Not yet documented.">BasicClass</a> *<span class="keyword">&gt;</span>(<span class="keyword">this</span>)-&gt;Cname[prefix_len] = *name + <span class="charliteral">&apos;A&apos;</span> - <span class="charliteral">&apos;a&apos;</span>;
<a name="l00335"></a>00335       <span class="keyword">const_cast&lt;</span><a class="code" href="classeyedb_1_1BasicClass.html" title="Not yet documented.">BasicClass</a> *<span class="keyword">&gt;</span>(<span class="keyword">this</span>)-&gt;Cname[prefix_len+1] = 0;
<a name="l00336"></a>00336       strcat(const_cast&lt;BasicClass *&gt;(<span class="keyword">this</span>)-&gt;Cname, name+1);
<a name="l00337"></a>00337   }
<a name="l00338"></a>00338   <span class="keywordflow">else</span> {
<a name="l00339"></a>00339     strcpy(const_cast&lt;BasicClass *&gt;(<span class="keyword">this</span>)-&gt;Cname, <span class="stringliteral">&quot;eyedblib::&quot;</span>);
<a name="l00340"></a>00340     strcat(const_cast&lt;BasicClass *&gt;(<span class="keyword">this</span>)-&gt;Cname, name);
<a name="l00341"></a>00341   }
<a name="l00342"></a>00342   <span class="keywordflow">return</span> Cname;
<a name="l00343"></a>00343 }
<a name="l00344"></a>00344 
<a name="l00345"></a><a class="code" href="classeyedb_1_1BasicClass.html#a7496084a678368e308cde9eb35a67352">00345</a> <span class="keywordtype">int</span> <a class="code" href="classeyedb_1_1BasicClass.html#a7496084a678368e308cde9eb35a67352" title="Not yet documented.">BasicClass::getCode</a>()<span class="keyword"> const</span>
<a name="l00346"></a>00346 <span class="keyword"></span>{
<a name="l00347"></a>00347   <span class="keywordflow">return</span> code;
<a name="l00348"></a>00348 }
<a name="l00349"></a>00349 
<a name="l00350"></a><a class="code" href="classeyedb_1_1BasicClass.html#aadd3609a5a3ad472de16e2b268049f68">00350</a> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1BasicClass.html#aadd3609a5a3ad472de16e2b268049f68" title="Not yet documented.">BasicClass::trace</a>(FILE *fd, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags, <span class="keyword">const</span> <a class="code" href="classeyedb_1_1RecMode.html" title="Not yet documented.">RecMode</a> *rcm)<span class="keyword"> const</span>
<a name="l00351"></a>00351 <span class="keyword"></span>{
<a name="l00352"></a>00352   fprintf(fd, <span class="stringliteral">&quot;%s &quot;</span>, oid.getString());
<a name="l00353"></a>00353   <span class="keywordflow">return</span> ObjectPeer::trace_realize(<span class="keyword">this</span>, fd, INDENT_INC, flags, rcm);
<a name="l00354"></a>00354 }
<a name="l00355"></a>00355 
<a name="l00356"></a><a class="code" href="classeyedb_1_1BasicClass.html#a9485fdd55c6542086212c397889e429f">00356</a> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1BasicClass.html#a9485fdd55c6542086212c397889e429f" title="Not yet documented.">BasicClass::create</a>()
<a name="l00357"></a>00357 {
<a name="l00358"></a>00358   <span class="keywordflow">if</span> (oid.isValid())
<a name="l00359"></a>00359     <span class="keywordflow">return</span> <a class="code" href="classeyedb_1_1Exception.html#abef1b4931e6b7c02fc77915f5ffdb502" title="Not yet documented.">Exception::make</a>(IDB_OBJECT_ALREADY_CREATED, <span class="stringliteral">&quot;creating basic_class &apos;%s&apos;&quot;</span>,
<a name="l00360"></a>00360                          name);
<a name="l00361"></a>00361 
<a name="l00362"></a>00362   IDB_CHECK_WRITE(db);
<a name="l00363"></a>00363 
<a name="l00364"></a>00364   RPCStatus rpc_status;
<a name="l00365"></a>00365   eyedblib::int16 kk;
<a name="l00366"></a>00366   Size alloc_size;
<a name="l00367"></a>00367   Offset offset;
<a name="l00368"></a>00368   Size size;
<a name="l00369"></a>00369   <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> status;
<a name="l00370"></a>00370 
<a name="l00371"></a>00371   alloc_size = 0;
<a name="l00372"></a>00372   <span class="comment">//idr-&gt;idr = 0;</span>
<a name="l00373"></a>00373   idr-&gt;setIDR((Size)0);
<a name="l00374"></a>00374   Data data = 0;
<a name="l00375"></a>00375 
<a name="l00376"></a>00376   <span class="comment">/*</span>
<a name="l00377"></a>00377 <span class="comment">  offset = IDB_CLASS_MAG_ORDER;</span>
<a name="l00378"></a>00378 <span class="comment">  int32_code (&amp;data, &amp;offset, &amp;alloc_size, (eyedblib::int32 *)&amp;mag_order);</span>
<a name="l00379"></a>00379 <span class="comment">  */</span>
<a name="l00380"></a>00380   offset = IDB_CLASS_IMPL_TYPE;
<a name="l00381"></a>00381   status = IndexImpl::code(data, offset, alloc_size, idximpl);
<a name="l00382"></a>00382   <span class="keywordflow">if</span> (status) <span class="keywordflow">return</span> status;
<a name="l00383"></a>00383 
<a name="l00384"></a>00384   offset = IDB_CLASS_MTYPE;
<a name="l00385"></a>00385   eyedblib::int32 mt = m_type;
<a name="l00386"></a>00386   int32_code (&amp;data, &amp;offset, &amp;alloc_size, &amp;mt);
<a name="l00387"></a>00387 
<a name="l00388"></a>00388   offset = IDB_CLASS_DSPID;
<a name="l00389"></a>00389   eyedblib::int16 dspid = get_instdspid();
<a name="l00390"></a>00390   int16_code (&amp;data, &amp;offset, &amp;alloc_size, &amp;dspid);
<a name="l00391"></a>00391 
<a name="l00392"></a>00392   offset = IDB_CLASS_HEAD_SIZE;
<a name="l00393"></a>00393       
<a name="l00394"></a>00394   status = class_name_code(db-&gt;<a class="code" href="classeyedb_1_1Database.html#adcdeae78b06ab1433af89c76ec824b5d" title="Not yet documented.">getDbHandle</a>(), getDataspaceID(), &amp;data,
<a name="l00395"></a>00395                                &amp;offset, &amp;alloc_size, name);
<a name="l00396"></a>00396   <span class="keywordflow">if</span> (status) <span class="keywordflow">return</span> status;
<a name="l00397"></a>00397 
<a name="l00398"></a>00398   int16_code  (&amp;data, &amp;offset, &amp;alloc_size, &amp;code);
<a name="l00399"></a>00399 
<a name="l00400"></a>00400   size = offset;
<a name="l00401"></a>00401   idr-&gt;setIDR(size, data);
<a name="l00402"></a>00402   headerCode(_BasicClass_Type, size);
<a name="l00403"></a>00403 
<a name="l00404"></a>00404   rpc_status = objectCreate(db-&gt;<a class="code" href="classeyedb_1_1Database.html#adcdeae78b06ab1433af89c76ec824b5d" title="Not yet documented.">getDbHandle</a>(), getDataspaceID(),
<a name="l00405"></a>00405                                 data, oid.getOid());
<a name="l00406"></a>00406 
<a name="l00407"></a>00407   <span class="keywordflow">return</span> StatusMake(rpc_status);
<a name="l00408"></a>00408 }
<a name="l00409"></a>00409 
<a name="l00410"></a><a class="code" href="classeyedb_1_1BasicClass.html#a26738dff21c0a50e421b5c9c852b827c">00410</a> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1BasicClass.html#a26738dff21c0a50e421b5c9c852b827c" title="Not yet documented.">BasicClass::update</a>()
<a name="l00411"></a>00411 {
<a name="l00412"></a>00412   <span class="keywordflow">return</span> Success;
<a name="l00413"></a>00413 }
<a name="l00414"></a>00414 
<a name="l00415"></a><a class="code" href="classeyedb_1_1BasicClass.html#a1c4f4aea088c653cd96cc5af8b6c7e4a">00415</a> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1BasicClass.html#a1c4f4aea088c653cd96cc5af8b6c7e4a" title="Not yet documented.">BasicClass::remove</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1RecMode.html" title="Not yet documented.">RecMode</a>*)
<a name="l00416"></a>00416 {
<a name="l00417"></a>00417   <span class="keywordflow">return</span> Success;
<a name="l00418"></a>00418 }
<a name="l00419"></a>00419 
<a name="l00420"></a><a class="code" href="classeyedb_1_1BasicClass.html#abf14785f8b2088d03d3e88deb94775e8">00420</a> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1BasicClass.html#abf14785f8b2088d03d3e88deb94775e8" title="Not yet documented.">BasicClass::setValue</a>(Data)
<a name="l00421"></a>00421 {
<a name="l00422"></a>00422   <span class="keywordflow">return</span> Success;
<a name="l00423"></a>00423 }
<a name="l00424"></a>00424 
<a name="l00425"></a><a class="code" href="classeyedb_1_1BasicClass.html#a5c0d7349c29ec06808ed94c72449cab2">00425</a> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1BasicClass.html#a5c0d7349c29ec06808ed94c72449cab2" title="Not yet documented.">BasicClass::getValue</a>(Data*)<span class="keyword"> const</span>
<a name="l00426"></a>00426 <span class="keyword"></span>{
<a name="l00427"></a>00427   <span class="keywordflow">return</span> Success;
<a name="l00428"></a>00428 }
<a name="l00429"></a>00429 
<a name="l00430"></a>00430 <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a>
<a name="l00431"></a>00431 basicClassMake(<a class="code" href="classeyedb_1_1Database.html" title="Not yet documented.">Database</a> *db, <span class="keyword">const</span> <a class="code" href="classeyedb_1_1Oid.html" title="Not yet documented.">Oid</a> *oid, <a class="code" href="classeyedb_1_1Object.html" title="Not yet documented.">Object</a> **o,
<a name="l00432"></a>00432                   <span class="keyword">const</span> <a class="code" href="classeyedb_1_1RecMode.html" title="Not yet documented.">RecMode</a> *rcm, <span class="keyword">const</span> ObjectHeader *hdr,
<a name="l00433"></a>00433                   Data idr, LockMode lockmode, <span class="keyword">const</span> <a class="code" href="classeyedb_1_1Class.html" title="Not yet documented.">Class</a>*)
<a name="l00434"></a>00434 {
<a name="l00435"></a>00435   RPCStatus rpc_status;
<a name="l00436"></a>00436   Data temp;
<a name="l00437"></a>00437 
<a name="l00438"></a>00438   <span class="keywordflow">if</span> (!idr)
<a name="l00439"></a>00439     {
<a name="l00440"></a>00440       temp = (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)malloc(hdr-&gt;size);
<a name="l00441"></a>00441       object_header_code_head(temp, hdr);
<a name="l00442"></a>00442       rpc_status = objectRead(db-&gt;<a class="code" href="classeyedb_1_1Database.html#adcdeae78b06ab1433af89c76ec824b5d" title="Not yet documented.">getDbHandle</a>(), temp, 0, 0, oid-&gt;<a class="code" href="classeyedb_1_1Oid.html#afa1b151e54f74f0c9da35e6ad63f9d47" title="Not yet documented.">getOid</a>(),
<a name="l00443"></a>00443                                   0, lockmode, 0);
<a name="l00444"></a>00444     }
<a name="l00445"></a>00445   <span class="keywordflow">else</span>
<a name="l00446"></a>00446     {
<a name="l00447"></a>00447       temp = idr;
<a name="l00448"></a>00448       rpc_status = RPCSuccess;
<a name="l00449"></a>00449     }
<a name="l00450"></a>00450 
<a name="l00451"></a>00451   <span class="keywordflow">if</span> (rpc_status == RPCSuccess)
<a name="l00452"></a>00452     {
<a name="l00453"></a>00453       eyedblib::int16 code;
<a name="l00454"></a>00454       Offset offset;
<a name="l00455"></a>00455       <span class="keywordtype">char</span> *s;
<a name="l00456"></a>00456 
<a name="l00457"></a>00457       <span class="comment">/*</span>
<a name="l00458"></a>00458 <span class="comment">      eyedblib::int32 mag_order;</span>
<a name="l00459"></a>00459 <span class="comment">      offset = IDB_CLASS_MAG_ORDER;</span>
<a name="l00460"></a>00460 <span class="comment">      int32_decode (temp, &amp;offset, &amp;mag_order);</span>
<a name="l00461"></a>00461 <span class="comment">      */</span>
<a name="l00462"></a>00462 
<a name="l00463"></a>00463       IndexImpl *idximpl;
<a name="l00464"></a>00464       offset = IDB_CLASS_IMPL_TYPE;
<a name="l00465"></a>00465       Status status = IndexImpl::decode(db, temp, offset, idximpl);
<a name="l00466"></a>00466       <span class="keywordflow">if</span> (status) <span class="keywordflow">return</span> status;
<a name="l00467"></a>00467 
<a name="l00468"></a>00468       <span class="keywordtype">int</span> mt;
<a name="l00469"></a>00469       offset = IDB_CLASS_MTYPE;
<a name="l00470"></a>00470       int32_decode (temp, &amp;offset, &amp;mt);
<a name="l00471"></a>00471 
<a name="l00472"></a>00472       eyedblib::int16 dspid;
<a name="l00473"></a>00473       offset = IDB_CLASS_DSPID;
<a name="l00474"></a>00474       int16_decode (temp, &amp;offset, &amp;dspid);
<a name="l00475"></a>00475 
<a name="l00476"></a>00476       offset = IDB_CLASS_HEAD_SIZE;
<a name="l00477"></a>00477       status = class_name_decode(db-&gt;<a class="code" href="classeyedb_1_1Database.html#adcdeae78b06ab1433af89c76ec824b5d" title="Not yet documented.">getDbHandle</a>(), temp, &amp;offset, &amp;s);
<a name="l00478"></a>00478       <span class="keywordflow">if</span> (status) <span class="keywordflow">return</span> status;
<a name="l00479"></a>00479       int16_decode(temp, &amp;offset, &amp;code);
<a name="l00480"></a>00480 
<a name="l00481"></a>00481       *o = db-&gt;<a class="code" href="classeyedb_1_1Database.html#a6dba1e8fac9d52f3713dc1984f7e4bec" title="Not yet documented.">getSchema</a>()-&gt;<a class="code" href="classeyedb_1_1Schema.html#a262515e2a773208ad860b8697e05c91c" title="Not yet documented.">getClass</a>(s);
<a name="l00482"></a>00482       free(s); s = 0;
<a name="l00483"></a>00483       (*o)-&gt;asClass()-&gt;setExtentImplementation(idximpl, True);
<a name="l00484"></a>00484       <span class="keywordflow">if</span> (idximpl)
<a name="l00485"></a>00485         idximpl-&gt;release();
<a name="l00486"></a>00486       (*o)-&gt;asClass()-&gt;setInstanceDspid(dspid);
<a name="l00487"></a>00487 
<a name="l00488"></a>00488       ClassPeer::setMType((Class *)*o, (Class::MType)mt);
<a name="l00489"></a>00489 
<a name="l00490"></a>00490       status = ClassPeer::makeColls(db, (Class *)*o, temp);
<a name="l00491"></a>00491 
<a name="l00492"></a>00492       <span class="keywordflow">if</span> (status)
<a name="l00493"></a>00493         {
<a name="l00494"></a>00494           <span class="keywordflow">if</span> (!idr)
<a name="l00495"></a>00495             <span class="keyword">delete</span> temp;
<a name="l00496"></a>00496           <span class="keywordflow">return</span> status;
<a name="l00497"></a>00497         }
<a name="l00498"></a>00498     }
<a name="l00499"></a>00499 
<a name="l00500"></a>00500   <span class="keywordflow">if</span> (!idr)
<a name="l00501"></a>00501     {
<a name="l00502"></a>00502       <span class="keywordflow">if</span> (!rpc_status)
<a name="l00503"></a>00503         ObjectPeer::setIDR(*o, temp, hdr-&gt;size);
<a name="l00504"></a>00504     }
<a name="l00505"></a>00505   <span class="keywordflow">return</span> StatusMake(rpc_status);
<a name="l00506"></a>00506 }
<a name="l00507"></a>00507 
<a name="l00508"></a>00508 <span class="comment">//</span>
<a name="l00509"></a>00509 <span class="comment">// Basic</span>
<a name="l00510"></a>00510 <span class="comment">// </span>
<a name="l00511"></a>00511 
<a name="l00512"></a>00512 Status Basic::create()
<a name="l00513"></a>00513 {
<a name="l00514"></a>00514   abort();
<a name="l00515"></a>00515   <span class="keywordflow">return</span> Success;
<a name="l00516"></a>00516 }
<a name="l00517"></a>00517 
<a name="l00518"></a>00518 Status Basic::update()
<a name="l00519"></a>00519 {
<a name="l00520"></a>00520   <span class="keywordflow">return</span> Success;
<a name="l00521"></a>00521 }
<a name="l00522"></a>00522 
<a name="l00523"></a><a class="code" href="classeyedb_1_1Basic.html#add3d9d62021e890416138aad7f07074e">00523</a> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Basic.html#add3d9d62021e890416138aad7f07074e" title="Not yet documented.">Basic::remove</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1RecMode.html" title="Not yet documented.">RecMode</a>*)
<a name="l00524"></a>00524 {
<a name="l00525"></a>00525   <span class="keywordflow">return</span> Success;
<a name="l00526"></a>00526 }
<a name="l00527"></a>00527 
<a name="l00528"></a><a class="code" href="classeyedb_1_1Basic.html#a1b8114a285f8603a279126deaefc7560">00528</a> <a class="code" href="classeyedb_1_1Basic.html#a1b8114a285f8603a279126deaefc7560" title="Not yet documented.">Basic::Basic</a>(<a class="code" href="classeyedb_1_1Database.html" title="Not yet documented.">Database</a> *_db, <span class="keyword">const</span> Dataspace *_dataspace) :
<a name="l00529"></a>00529   <a class="code" href="classeyedb_1_1Instance.html" title="Not yet documented.">Instance</a>(_db, _dataspace)
<a name="l00530"></a>00530 {
<a name="l00531"></a>00531 }
<a name="l00532"></a>00532 
<a name="l00533"></a><a class="code" href="classeyedb_1_1Basic.html#acac2f85e79187f7f07e3c6ec4788feb4">00533</a> <a class="code" href="classeyedb_1_1Basic.html#a1b8114a285f8603a279126deaefc7560" title="Not yet documented.">Basic::Basic</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Basic.html" title="Not yet documented.">Basic</a> *o) : <a class="code" href="classeyedb_1_1Instance.html" title="Not yet documented.">Instance</a>(o)
<a name="l00534"></a>00534 {
<a name="l00535"></a>00535 }
<a name="l00536"></a>00536 
<a name="l00537"></a><a class="code" href="classeyedb_1_1Basic.html#ae95f34e2000f3f1fd5419fa2ff06945a">00537</a> <a class="code" href="classeyedb_1_1Basic.html#a1b8114a285f8603a279126deaefc7560" title="Not yet documented.">Basic::Basic</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Basic.html" title="Not yet documented.">Basic</a> &amp;o) : <a class="code" href="classeyedb_1_1Instance.html" title="Not yet documented.">Instance</a>(o)
<a name="l00538"></a>00538 {
<a name="l00539"></a>00539 }
<a name="l00540"></a>00540 
<a name="l00541"></a>00541 <span class="keywordtype">void</span> Basic::init(<span class="keywordtype">void</span>)
<a name="l00542"></a>00542 {
<a name="l00543"></a>00543   ObjectPeer::setUnrealizable(Char_Class, True);
<a name="l00544"></a>00544   ObjectPeer::setUnrealizable(Byte_Class, True);
<a name="l00545"></a>00545   ObjectPeer::setUnrealizable(OidP_Class, True);
<a name="l00546"></a>00546   ObjectPeer::setUnrealizable(Int16_Class, True);
<a name="l00547"></a>00547   ObjectPeer::setUnrealizable(Int32_Class, True);
<a name="l00548"></a>00548   ObjectPeer::setUnrealizable(Int64_Class, True);
<a name="l00549"></a>00549   ObjectPeer::setUnrealizable(Float_Class, True);
<a name="l00550"></a>00550 }
<a name="l00551"></a>00551 
<a name="l00552"></a>00552 <span class="keywordtype">void</span> Basic::_release(<span class="keywordtype">void</span>)
<a name="l00553"></a>00553 {
<a name="l00554"></a>00554   Char_Class-&gt;release();
<a name="l00555"></a>00555   Byte_Class-&gt;release();
<a name="l00556"></a>00556   OidP_Class-&gt;release();
<a name="l00557"></a>00557   Int16_Class-&gt;release();
<a name="l00558"></a>00558   Int32_Class-&gt;release();
<a name="l00559"></a>00559   Int64_Class-&gt;release();
<a name="l00560"></a>00560   Float_Class-&gt;release();
<a name="l00561"></a>00561   Bool_Class-&gt;release();
<a name="l00562"></a>00562 }
<a name="l00563"></a>00563 
<a name="l00564"></a>00564 Status
<a name="l00565"></a>00565 basicMake(Database *db, <span class="keyword">const</span> Oid *oid, Object **o,
<a name="l00566"></a>00566               <span class="keyword">const</span> RecMode *rcm, <span class="keyword">const</span> ObjectHeader *hdr,
<a name="l00567"></a>00567               Data idr, LockMode lockmode, <span class="keyword">const</span> Class *_class)
<a name="l00568"></a>00568 {
<a name="l00569"></a>00569   RPCStatus rpc_status;
<a name="l00570"></a>00570   BasicClass *cls = (BasicClass *)_class;
<a name="l00571"></a>00571 
<a name="l00572"></a>00572   <span class="keywordflow">if</span> (!cls)
<a name="l00573"></a>00573     cls = (BasicClass *)db-&gt;getSchema()-&gt;getClass(hdr-&gt;oid_cl);
<a name="l00574"></a>00574 
<a name="l00575"></a>00575   <span class="keywordflow">if</span> (!cls)
<a name="l00576"></a>00576     <span class="keywordflow">return</span> <a class="code" href="classeyedb_1_1Exception.html#abef1b4931e6b7c02fc77915f5ffdb502" title="Not yet documented.">Exception::make</a>(IDB_CLASS_NOT_FOUND, <span class="stringliteral">&quot;basic class &apos;%s&apos;&quot;</span>,
<a name="l00577"></a>00577                          OidGetString(&amp;hdr-&gt;oid_cl));
<a name="l00578"></a>00578 
<a name="l00579"></a>00579   <span class="keywordflow">if</span> (idr &amp;&amp; !ObjectPeer::isRemoved(*hdr))
<a name="l00580"></a>00580     *o = cls-&gt;newObj(idr + IDB_OBJ_HEAD_SIZE, False);
<a name="l00581"></a>00581   <span class="keywordflow">else</span>
<a name="l00582"></a>00582     *o = cls-&gt;newObj();
<a name="l00583"></a>00583 
<a name="l00584"></a>00584   Status status = (*o)-&gt;setDatabase(db);
<a name="l00585"></a>00585 
<a name="l00586"></a>00586   <span class="keywordflow">if</span> (status)
<a name="l00587"></a>00587     <span class="keywordflow">return</span> status;
<a name="l00588"></a>00588 
<a name="l00589"></a>00589   <span class="keywordflow">if</span> (idr)
<a name="l00590"></a>00590     rpc_status = RPCSuccess;
<a name="l00591"></a>00591   <span class="keywordflow">else</span>
<a name="l00592"></a>00592     rpc_status = objectRead(db-&gt;getDbHandle(), (*o)-&gt;getIDR(), 0, 0,
<a name="l00593"></a>00593                                 oid-&gt;getOid(), 0, lockmode, 0);
<a name="l00594"></a>00594 
<a name="l00595"></a>00595   <span class="keywordflow">return</span> StatusMake(rpc_status);
<a name="l00596"></a>00596 }
<a name="l00597"></a>00597 
<a name="l00598"></a>00598 Status
<a name="l00599"></a>00599 basic_class_trace(FILE *fd, <span class="keywordtype">int</span> indent, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags, <span class="keyword">const</span> <span class="keywordtype">char</span> *name,
<a name="l00600"></a>00600                     <span class="keyword">const</span> <span class="keywordtype">char</span> *oid_str)
<a name="l00601"></a>00601 {
<a name="l00602"></a>00602   <span class="keywordtype">char</span> *indent_str = make_indent(indent);
<a name="l00603"></a>00603   fprintf(fd, <span class="stringliteral">&quot;%s %s : basic_class : class : object {\n&quot;</span>, oid_str, name);
<a name="l00604"></a>00604   fprintf(fd, <span class="stringliteral">&quot;%s&lt;abstract class&gt;;\n};\n&quot;</span>, indent_str);
<a name="l00605"></a>00605   delete_indent(indent_str);
<a name="l00606"></a>00606   <span class="keywordflow">return</span> Success;
<a name="l00607"></a>00607 }
<a name="l00608"></a>00608 
<a name="l00609"></a>00609 <span class="comment">//</span>
<a name="l00610"></a>00610 <span class="comment">// CharClass</span>
<a name="l00611"></a>00611 <span class="comment">//</span>
<a name="l00612"></a>00612 
<a name="l00613"></a>00613 Status CharClass::trace_realize(FILE *fd, <span class="keywordtype">int</span> indent, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags, <span class="keyword">const</span> RecMode *rcm)<span class="keyword"> const</span>
<a name="l00614"></a>00614 <span class="keyword"></span>{
<a name="l00615"></a>00615   <span class="keywordflow">return</span> Class::trace_realize(fd, indent, flags, rcm);
<a name="l00616"></a>00616 }
<a name="l00617"></a>00617 
<a name="l00618"></a><a class="code" href="classeyedb_1_1CharClass.html#a175edd5828cfa71320050e6dd9307e41">00618</a> <a class="code" href="classeyedb_1_1CharClass.html#a3e94f7c96ff1337fd6d4765f823836f0" title="Not yet documented.">CharClass::CharClass</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1CharClass.html" title="Not yet documented.">CharClass</a> &amp;cl)
<a name="l00619"></a>00619   : <a class="code" href="classeyedb_1_1BasicClass.html" title="Not yet documented.">BasicClass</a>(cl)
<a name="l00620"></a>00620 {
<a name="l00621"></a>00621 }
<a name="l00622"></a>00622 
<a name="l00623"></a><a class="code" href="classeyedb_1_1CharClass.html#a778ee068127e695c39822e613cc46795">00623</a> <a class="code" href="classeyedb_1_1CharClass.html" title="Not yet documented.">CharClass</a> &amp;<a class="code" href="classeyedb_1_1CharClass.html#a778ee068127e695c39822e613cc46795" title="Not yet documented.">CharClass::operator=</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1CharClass.html" title="Not yet documented.">CharClass</a> &amp;cl)
<a name="l00624"></a>00624 {
<a name="l00625"></a>00625   this-&gt;<a class="code" href="classeyedb_1_1CharClass.html#a778ee068127e695c39822e613cc46795" title="Not yet documented.">BasicClass::operator=</a>(cl);
<a name="l00626"></a>00626   <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00627"></a>00627 }
<a name="l00628"></a>00628 
<a name="l00629"></a><a class="code" href="classeyedb_1_1CharClass.html#ab56395e176eea7e1c1fe3ad5bad02a0b">00629</a> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1CharClass.html#ab56395e176eea7e1c1fe3ad5bad02a0b" title="Not yet documented.">CharClass::traceData</a>(FILE *fd, <span class="keywordtype">int</span> indent, Data inidata,
<a name="l00630"></a>00630                                   Data data, <a class="code" href="classeyedb_1_1TypeModifier.html" title="Not yet documented.">TypeModifier</a> *tmod)<span class="keyword"> const</span>
<a name="l00631"></a>00631 <span class="keyword"></span>{
<a name="l00632"></a>00632   <span class="keywordtype">int</span> i;
<a name="l00633"></a>00633   <span class="keywordflow">if</span> (data)
<a name="l00634"></a>00634     {
<a name="l00635"></a>00635       <span class="keywordflow">if</span> (tmod)
<a name="l00636"></a>00636         {
<a name="l00637"></a>00637           <span class="keywordflow">if</span> (tmod-&gt;ndims == 1)
<a name="l00638"></a>00638             fprintf(fd, <span class="stringliteral">&quot;\&quot;%s\&quot;&quot;</span>, (<span class="keywordtype">char</span> *)data);
<a name="l00639"></a>00639           <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tmod-&gt;ndims &gt; 1) {
<a name="l00640"></a>00640             <a class="code" href="classeyedb_1_1CharClass.html#ab56395e176eea7e1c1fe3ad5bad02a0b" title="Not yet documented.">eyedb::traceData</a>(fd, indent, inidata, data, tmod, <span class="keyword">sizeof</span>(<span class="keywordtype">char</span>),
<a name="l00641"></a>00641                         print_char_data);
<a name="l00642"></a>00642           }
<a name="l00643"></a>00643           <span class="keywordflow">else</span>
<a name="l00644"></a>00644             fprintf(fd, <span class="stringliteral">&quot;&apos;%c&apos;&quot;</span>,  *(<span class="keywordtype">char</span> *)data);
<a name="l00645"></a>00645         }
<a name="l00646"></a>00646       <span class="keywordflow">else</span>
<a name="l00647"></a>00647         fprintf(fd, <span class="stringliteral">&quot;&apos;%c&apos;&quot;</span>,  *(<span class="keywordtype">char</span> *)data);
<a name="l00648"></a>00648     }
<a name="l00649"></a>00649   <span class="keywordflow">else</span>
<a name="l00650"></a>00650     fprintf(fd, <span class="stringliteral">&quot;&apos;&apos;&quot;</span>);
<a name="l00651"></a>00651 
<a name="l00652"></a>00652   <span class="keywordflow">return</span> Success;
<a name="l00653"></a>00653 }
<a name="l00654"></a>00654 <span class="preprocessor">#define MetaB</span>
<a name="l00655"></a><a class="code" href="classeyedb_1_1CharClass.html#a3e94f7c96ff1337fd6d4765f823836f0">00655</a> <span class="preprocessor"></span><a class="code" href="classeyedb_1_1CharClass.html#a3e94f7c96ff1337fd6d4765f823836f0" title="Not yet documented.">CharClass::CharClass</a>(<a class="code" href="classeyedb_1_1Database.html" title="Not yet documented.">Database</a> *_db) : <a class="code" href="classeyedb_1_1BasicClass.html" title="Not yet documented.">BasicClass</a>(_db, char_class_name)
<a name="l00656"></a>00656 {
<a name="l00657"></a>00657   code = CharClass_Code;
<a name="l00658"></a>00658 <span class="preprocessor">#ifdef MetaB</span>
<a name="l00659"></a>00659 <span class="preprocessor"></span>  setClass(BasicClass_Class);
<a name="l00660"></a>00660   parent = Basic_Class;
<a name="l00661"></a>00661 <span class="preprocessor">#else</span>
<a name="l00662"></a>00662 <span class="preprocessor"></span>  setClass(Basic_Class);
<a name="l00663"></a>00663   parent = Basic_Class;
<a name="l00664"></a>00664 <span class="preprocessor">#endif</span>
<a name="l00665"></a>00665 <span class="preprocessor"></span>
<a name="l00666"></a>00666   idr_objsz = IDB_OBJ_HEAD_SIZE + <span class="keyword">sizeof</span>(char);
<a name="l00667"></a>00667   idr_psize = idr_objsz;
<a name="l00668"></a>00668   idr_vsize = 0;
<a name="l00669"></a>00669 }
<a name="l00670"></a>00670 
<a name="l00671"></a><a class="code" href="classeyedb_1_1CharClass.html#addf20a595e5f83d3fdbc44fa58057cac">00671</a> <a class="code" href="classeyedb_1_1Object.html" title="Not yet documented.">Object</a> *<a class="code" href="classeyedb_1_1CharClass.html#addf20a595e5f83d3fdbc44fa58057cac" title="Not yet documented.">CharClass::newObj</a>(<a class="code" href="classeyedb_1_1Database.html" title="Not yet documented.">Database</a> *_db)<span class="keyword"> const</span>
<a name="l00672"></a>00672 <span class="keyword"></span>{
<a name="l00673"></a>00673   <a class="code" href="classeyedb_1_1Object.html" title="Not yet documented.">Object</a> *o = <span class="keyword">new</span> <a class="code" href="classeyedb_1_1Char.html" title="Not yet documented.">Char</a>(_db);
<a name="l00674"></a>00674   ObjectPeer::setClass(o, <span class="keyword">this</span>);
<a name="l00675"></a>00675   <span class="keywordflow">return</span> o;
<a name="l00676"></a>00676 }
<a name="l00677"></a>00677 
<a name="l00678"></a><a class="code" href="classeyedb_1_1CharClass.html#a887811fa535c6fd211c2b2a7196b0b86">00678</a> <a class="code" href="classeyedb_1_1Object.html" title="Not yet documented.">Object</a> *<a class="code" href="classeyedb_1_1CharClass.html#addf20a595e5f83d3fdbc44fa58057cac" title="Not yet documented.">CharClass::newObj</a>(Data data, Bool)<span class="keyword"> const</span>
<a name="l00679"></a>00679 <span class="keyword"></span>{
<a name="l00680"></a>00680   <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classeyedb_1_1Char.html" title="Not yet documented.">Char</a>(* (<span class="keywordtype">char</span> *)data);
<a name="l00681"></a>00681 }
<a name="l00682"></a>00682 
<a name="l00683"></a>00683 <span class="keywordtype">void</span>
<a name="l00684"></a>00684 CharClass::decode(<span class="keywordtype">void</span> * hdata, <span class="comment">// to</span>
<a name="l00685"></a>00685                      <span class="keyword">const</span> <span class="keywordtype">void</span> * xdata, <span class="comment">// from</span>
<a name="l00686"></a>00686                      Size incsize, <span class="comment">// temporarely necessary </span>
<a name="l00687"></a>00687                      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nb)<span class="keyword"> const</span>
<a name="l00688"></a>00688 <span class="keyword"></span>{
<a name="l00689"></a>00689   Class::decode(hdata, xdata, incsize, nb);
<a name="l00690"></a>00690 }
<a name="l00691"></a>00691 
<a name="l00692"></a>00692 
<a name="l00693"></a>00693 <span class="keywordtype">void</span>
<a name="l00694"></a>00694 CharClass::encode(<span class="keywordtype">void</span> * xdata, <span class="comment">// to</span>
<a name="l00695"></a>00695                      <span class="keyword">const</span> <span class="keywordtype">void</span> * hdata, <span class="comment">// from</span>
<a name="l00696"></a>00696                      Size incsize, <span class="comment">// temporarely necessary </span>
<a name="l00697"></a>00697                      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nb)<span class="keyword"> const</span>
<a name="l00698"></a>00698 <span class="keyword"></span>{
<a name="l00699"></a>00699   Class::encode(xdata, hdata, incsize, nb);
<a name="l00700"></a>00700 }
<a name="l00701"></a>00701 
<a name="l00702"></a>00702 <span class="keywordtype">int</span>
<a name="l00703"></a>00703 CharClass::cmp(<span class="keyword">const</span> <span class="keywordtype">void</span> * xdata,
<a name="l00704"></a>00704                   <span class="keyword">const</span> <span class="keywordtype">void</span> * hdata,
<a name="l00705"></a>00705                   Size incsize, <span class="comment">// temporarely necessary </span>
<a name="l00706"></a>00706                   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nb)<span class="keyword"> const</span>
<a name="l00707"></a>00707 <span class="keyword"></span>{
<a name="l00708"></a>00708   <span class="keywordflow">return</span> Class::cmp(hdata, xdata, incsize, nb);
<a name="l00709"></a>00709 }
<a name="l00710"></a>00710 
<a name="l00711"></a>00711 <span class="comment">//</span>
<a name="l00712"></a>00712 <span class="comment">// Int16Class</span>
<a name="l00713"></a>00713 <span class="comment">//</span>
<a name="l00714"></a>00714 
<a name="l00715"></a><a class="code" href="classeyedb_1_1Int16Class.html#ac5f0d45eb3bf32f1147098d6855f8de4">00715</a> <a class="code" href="classeyedb_1_1Int16Class.html#ac5f0d45eb3bf32f1147098d6855f8de4" title="Not yet documented.">Int16Class::Int16Class</a>(<a class="code" href="classeyedb_1_1Database.html" title="Not yet documented.">Database</a> *_db) : <a class="code" href="classeyedb_1_1BasicClass.html" title="Not yet documented.">BasicClass</a>(_db, int16_class_name)
<a name="l00716"></a>00716 {
<a name="l00717"></a>00717   setAliasName(<span class="stringliteral">&quot;short&quot;</span>);
<a name="l00718"></a>00718   code = Int16Class_Code;
<a name="l00719"></a>00719 <span class="preprocessor">#ifdef MetaB</span>
<a name="l00720"></a>00720 <span class="preprocessor"></span>  setClass(BasicClass_Class);
<a name="l00721"></a>00721   parent = Basic_Class;
<a name="l00722"></a>00722 <span class="preprocessor">#else</span>
<a name="l00723"></a>00723 <span class="preprocessor"></span>  setClass(Basic_Class);
<a name="l00724"></a>00724   parent = Basic_Class;
<a name="l00725"></a>00725 <span class="preprocessor">#endif</span>
<a name="l00726"></a>00726 <span class="preprocessor"></span>  idr_objsz = IDB_OBJ_HEAD_SIZE + <span class="keyword">sizeof</span>(eyedblib::int16);
<a name="l00727"></a>00727   idr_psize = idr_objsz;
<a name="l00728"></a>00728   idr_vsize = 0;
<a name="l00729"></a>00729 }
<a name="l00730"></a>00730 
<a name="l00731"></a><a class="code" href="classeyedb_1_1Int16Class.html#a300be253593fe9be64e37352aab267a2">00731</a> <a class="code" href="classeyedb_1_1Int16Class.html#ac5f0d45eb3bf32f1147098d6855f8de4" title="Not yet documented.">Int16Class::Int16Class</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Int16Class.html" title="Not yet documented.">Int16Class</a> &amp;cl)
<a name="l00732"></a>00732   : <a class="code" href="classeyedb_1_1BasicClass.html" title="Not yet documented.">BasicClass</a>(cl)
<a name="l00733"></a>00733 {
<a name="l00734"></a>00734 }
<a name="l00735"></a>00735 
<a name="l00736"></a><a class="code" href="classeyedb_1_1Int16Class.html#af5f330c4d147668de20d3258fd6693dd">00736</a> <a class="code" href="classeyedb_1_1Int16Class.html" title="Not yet documented.">Int16Class</a> &amp;<a class="code" href="classeyedb_1_1Int16Class.html#af5f330c4d147668de20d3258fd6693dd" title="Not yet documented.">Int16Class::operator=</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Int16Class.html" title="Not yet documented.">Int16Class</a> &amp;cl)
<a name="l00737"></a>00737 {
<a name="l00738"></a>00738   this-&gt;<a class="code" href="classeyedb_1_1Int16Class.html#af5f330c4d147668de20d3258fd6693dd" title="Not yet documented.">BasicClass::operator=</a>(cl);
<a name="l00739"></a>00739   <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00740"></a>00740 }
<a name="l00741"></a>00741 
<a name="l00742"></a><a class="code" href="classeyedb_1_1Int16Class.html#aa73633b21698ccd70097ea6e8fa369c5">00742</a> <a class="code" href="classeyedb_1_1Object.html" title="Not yet documented.">Object</a> *<a class="code" href="classeyedb_1_1Int16Class.html#aa73633b21698ccd70097ea6e8fa369c5" title="Not yet documented.">Int16Class::newObj</a>(<a class="code" href="classeyedb_1_1Database.html" title="Not yet documented.">Database</a> *_db)<span class="keyword"> const</span>
<a name="l00743"></a>00743 <span class="keyword"></span>{
<a name="l00744"></a>00744   <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classeyedb_1_1Int16.html" title="Not yet documented.">Int16</a>(_db);
<a name="l00745"></a>00745 }
<a name="l00746"></a>00746 
<a name="l00747"></a><a class="code" href="classeyedb_1_1Int16Class.html#abb6d28cad8062b436e2cd8186d3988b9">00747</a> <a class="code" href="classeyedb_1_1Object.html" title="Not yet documented.">Object</a> *<a class="code" href="classeyedb_1_1Int16Class.html#aa73633b21698ccd70097ea6e8fa369c5" title="Not yet documented.">Int16Class::newObj</a>(Data data, Bool)<span class="keyword"> const</span>
<a name="l00748"></a>00748 <span class="keyword"></span>{
<a name="l00749"></a>00749 <span class="preprocessor">#ifdef E_XDR</span>
<a name="l00750"></a>00750 <span class="preprocessor"></span>  eyedblib::int16 l;
<a name="l00751"></a>00751   x2h_16_cpy(&amp;l, data);
<a name="l00752"></a>00752   <span class="comment">//Offset offset = 0;</span>
<a name="l00753"></a>00753   <span class="comment">//  xdr_int16_decode(data, &amp;offset, &amp;l);</span>
<a name="l00754"></a>00754   <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classeyedb_1_1Int16.html" title="Not yet documented.">Int16</a>(l);
<a name="l00755"></a>00755 <span class="preprocessor">#else</span>
<a name="l00756"></a>00756 <span class="preprocessor"></span>  <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classeyedb_1_1Int16.html" title="Not yet documented.">Int16</a>(* (eyedblib::int16 *)data);
<a name="l00757"></a>00757 <span class="preprocessor">#endif</span>
<a name="l00758"></a>00758 <span class="preprocessor"></span>}
<a name="l00759"></a>00759 
<a name="l00760"></a><a class="code" href="classeyedb_1_1Int16Class.html#a06d2a7495b9de137d34a16deb998c2e2">00760</a> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Int16Class.html#a06d2a7495b9de137d34a16deb998c2e2" title="Not yet documented.">Int16Class::traceData</a>(FILE *fd, <span class="keywordtype">int</span> indent, Data inidata,
<a name="l00761"></a>00761                                    Data data, <a class="code" href="classeyedb_1_1TypeModifier.html" title="Not yet documented.">TypeModifier</a> *tmod)<span class="keyword"> const</span>
<a name="l00762"></a>00762 <span class="keyword"></span>{
<a name="l00763"></a>00763   <span class="keywordtype">int</span> i;
<a name="l00764"></a>00764   <span class="keywordflow">if</span> (data)
<a name="l00765"></a>00765     {
<a name="l00766"></a>00766       eyedblib::int16 j;
<a name="l00767"></a>00767       <span class="keywordflow">if</span> (tmod)
<a name="l00768"></a>00768         {
<a name="l00769"></a>00769           <span class="keywordflow">if</span> (tmod-&gt;pdims &gt; 1)
<a name="l00770"></a>00770             {
<a name="l00771"></a>00771               <a class="code" href="classeyedb_1_1Int16Class.html#a06d2a7495b9de137d34a16deb998c2e2" title="Not yet documented.">eyedb::traceData</a>(fd, indent, inidata, data, tmod, <span class="keyword">sizeof</span>(eyedblib::int16),
<a name="l00772"></a>00772                           print_int16_data);
<a name="l00773"></a>00773             }
<a name="l00774"></a>00774           <span class="keywordflow">else</span>
<a name="l00775"></a>00775             {
<a name="l00776"></a>00776               <span class="comment">/*</span>
<a name="l00777"></a>00777 <span class="comment">              memcpy(&amp;j, data, sizeof(eyedblib::int16));</span>
<a name="l00778"></a>00778 <span class="comment">              fprintf(fd, &quot;%d&quot;, j);</span>
<a name="l00779"></a>00779 <span class="comment">              */</span>
<a name="l00780"></a>00780               print_int16_data(fd, data);
<a name="l00781"></a>00781             }
<a name="l00782"></a>00782         }
<a name="l00783"></a>00783       <span class="keywordflow">else</span>
<a name="l00784"></a>00784         {
<a name="l00785"></a>00785           <span class="comment">/*</span>
<a name="l00786"></a>00786 <span class="comment">          memcpy(&amp;j, data, sizeof(eyedblib::int16));</span>
<a name="l00787"></a>00787 <span class="comment">          fprintf(fd, &quot;%d&quot;, j);</span>
<a name="l00788"></a>00788 <span class="comment">          */</span>
<a name="l00789"></a>00789           print_int16_data(fd, data);
<a name="l00790"></a>00790         }
<a name="l00791"></a>00791     }
<a name="l00792"></a>00792   <span class="keywordflow">else</span>
<a name="l00793"></a>00793     fprintf(fd, <span class="stringliteral">&quot;&apos;&apos;&quot;</span>);
<a name="l00794"></a>00794 
<a name="l00795"></a>00795   <span class="keywordflow">return</span> Success;
<a name="l00796"></a>00796 }
<a name="l00797"></a>00797 
<a name="l00798"></a>00798 <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> Int16Class::trace_realize(FILE *fd, <span class="keywordtype">int</span> indent, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags, <span class="keyword">const</span> <a class="code" href="classeyedb_1_1RecMode.html" title="Not yet documented.">RecMode</a> *rcm)<span class="keyword"> const</span>
<a name="l00799"></a>00799 <span class="keyword"></span>{
<a name="l00800"></a>00800   <span class="keywordflow">return</span> Class::trace_realize(fd, indent, flags, rcm);
<a name="l00801"></a>00801 }
<a name="l00802"></a>00802 
<a name="l00803"></a>00803 <span class="keywordtype">void</span>
<a name="l00804"></a>00804 Int16Class::decode(<span class="keywordtype">void</span> * hdata, <span class="comment">// to</span>
<a name="l00805"></a>00805                       <span class="keyword">const</span> <span class="keywordtype">void</span> * xdata, <span class="comment">// from</span>
<a name="l00806"></a>00806                       Size incsize, <span class="comment">// temporarely necessary </span>
<a name="l00807"></a>00807                       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nb)<span class="keyword"> const</span>
<a name="l00808"></a>00808 <span class="keyword"></span>{
<a name="l00809"></a>00809 <span class="preprocessor">#ifdef E_XDR_TRACE</span>
<a name="l00810"></a>00810 <span class="preprocessor"></span>  std::cout &lt;&lt; <span class="stringliteral">&quot;Int16Class::decode &quot;</span> &lt;&lt; name &lt;&lt; std::endl;
<a name="l00811"></a>00811 <span class="preprocessor">#endif</span>
<a name="l00812"></a>00812 <span class="preprocessor"></span>  CHECK_INCSIZE(<span class="stringliteral">&quot;decode&quot;</span>, incsize, <span class="keyword">sizeof</span>(eyedblib::int16));
<a name="l00813"></a>00813 
<a name="l00814"></a>00814   <span class="keywordflow">if</span> (nb == 1) {
<a name="l00815"></a>00815     x2h_16_cpy(hdata, xdata);
<a name="l00816"></a>00816     <span class="keywordflow">return</span>;
<a name="l00817"></a>00817   }
<a name="l00818"></a>00818 
<a name="l00819"></a>00819   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0, inc = 0; n &lt; nb; n++, inc += <span class="keyword">sizeof</span>(eyedblib::int16))
<a name="l00820"></a>00820     x2h_16_cpy((<span class="keywordtype">char</span> *)hdata + inc, (<span class="keywordtype">char</span> *)xdata + inc);
<a name="l00821"></a>00821 }
<a name="l00822"></a>00822 
<a name="l00823"></a>00823 
<a name="l00824"></a>00824 <span class="keywordtype">void</span>
<a name="l00825"></a>00825 Int16Class::encode(<span class="keywordtype">void</span> * xdata, <span class="comment">// to</span>
<a name="l00826"></a>00826                       <span class="keyword">const</span> <span class="keywordtype">void</span> * hdata, <span class="comment">// from</span>
<a name="l00827"></a>00827                       Size incsize, <span class="comment">// temporarely necessary </span>
<a name="l00828"></a>00828                       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nb)<span class="keyword"> const</span>
<a name="l00829"></a>00829 <span class="keyword"></span>{
<a name="l00830"></a>00830 <span class="preprocessor">#ifdef E_XDR_TRACE</span>
<a name="l00831"></a>00831 <span class="preprocessor"></span>  std::cout &lt;&lt; <span class="stringliteral">&quot;Int16Class::encode &quot;</span> &lt;&lt; name &lt;&lt; std::endl;
<a name="l00832"></a>00832 <span class="preprocessor">#endif</span>
<a name="l00833"></a>00833 <span class="preprocessor"></span>  CHECK_INCSIZE(<span class="stringliteral">&quot;encode&quot;</span>, incsize, <span class="keyword">sizeof</span>(eyedblib::int16));
<a name="l00834"></a>00834 
<a name="l00835"></a>00835   <span class="keywordflow">if</span> (nb == 1) {
<a name="l00836"></a>00836     h2x_16_cpy(xdata, hdata);
<a name="l00837"></a>00837     <span class="keywordflow">return</span>;
<a name="l00838"></a>00838   }
<a name="l00839"></a>00839 
<a name="l00840"></a>00840   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0, inc = 0; n &lt; nb; n++, inc += <span class="keyword">sizeof</span>(eyedblib::int16))
<a name="l00841"></a>00841     h2x_16_cpy((<span class="keywordtype">char</span> *)xdata + inc, (<span class="keywordtype">char</span> *)hdata + inc);
<a name="l00842"></a>00842 }
<a name="l00843"></a>00843 
<a name="l00844"></a>00844 <span class="keywordtype">int</span>
<a name="l00845"></a>00845 Int16Class::cmp(<span class="keyword">const</span> <span class="keywordtype">void</span> * xdata,
<a name="l00846"></a>00846                    <span class="keyword">const</span> <span class="keywordtype">void</span> * hdata,
<a name="l00847"></a>00847                    Size incsize, <span class="comment">// temporarely necessary </span>
<a name="l00848"></a>00848                    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nb)<span class="keyword"> const</span>
<a name="l00849"></a>00849 <span class="keyword"></span>{
<a name="l00850"></a>00850 <span class="preprocessor">#ifdef E_XDR_TRACE</span>
<a name="l00851"></a>00851 <span class="preprocessor"></span>  std::cout &lt;&lt; <span class="stringliteral">&quot;Int16Class::cmp &quot;</span> &lt;&lt; name;
<a name="l00852"></a>00852 <span class="preprocessor">#endif</span>
<a name="l00853"></a>00853 <span class="preprocessor"></span>  CHECK_INCSIZE(<span class="stringliteral">&quot;cmp&quot;</span>, incsize, <span class="keyword">sizeof</span>(eyedblib::int16));
<a name="l00854"></a>00854 
<a name="l00855"></a>00855   <span class="keywordflow">if</span> (nb == 1) {
<a name="l00856"></a>00856     eyedblib::int16 l;
<a name="l00857"></a>00857     x2h_16_cpy(&amp;l, xdata);
<a name="l00858"></a>00858     <span class="keywordtype">int</span> r = memcmp(&amp;l, hdata, <span class="keyword">sizeof</span>(eyedblib::int16));
<a name="l00859"></a>00859 <span class="preprocessor">#ifdef E_XDR_TRACE</span>
<a name="l00860"></a>00860 <span class="preprocessor"></span>    std::cout &lt;&lt; <span class="stringliteral">&quot; -&gt; &quot;</span> &lt;&lt; r &lt;&lt; std::endl;
<a name="l00861"></a>00861 <span class="preprocessor">#endif</span>
<a name="l00862"></a>00862 <span class="preprocessor"></span>    <span class="keywordflow">return</span> r;
<a name="l00863"></a>00863   }
<a name="l00864"></a>00864 
<a name="l00865"></a>00865   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0, inc = 0; n &lt; nb; n++, inc += <span class="keyword">sizeof</span>(eyedblib::int16)) {
<a name="l00866"></a>00866     eyedblib::int16 l;
<a name="l00867"></a>00867     x2h_16_cpy(&amp;l, (<span class="keywordtype">char</span> *)xdata + inc);
<a name="l00868"></a>00868     <span class="keywordtype">int</span> r = memcmp(&amp;l, (<span class="keywordtype">char</span> *)hdata + inc, <span class="keyword">sizeof</span>(eyedblib::int16));
<a name="l00869"></a>00869     <span class="keywordflow">if</span> (r)
<a name="l00870"></a>00870       <span class="keywordflow">return</span> r;
<a name="l00871"></a>00871   }
<a name="l00872"></a>00872 
<a name="l00873"></a>00873   <span class="keywordflow">return</span> 0;
<a name="l00874"></a>00874 }
<a name="l00875"></a>00875 
<a name="l00876"></a>00876 <span class="comment">//</span>
<a name="l00877"></a>00877 <span class="comment">// Int32Class</span>
<a name="l00878"></a>00878 <span class="comment">//</span>
<a name="l00879"></a>00879 
<a name="l00880"></a><a class="code" href="classeyedb_1_1Int32Class.html#a74971848575c41862b94b8edb16b23cc">00880</a> <a class="code" href="classeyedb_1_1Int32Class.html#a74971848575c41862b94b8edb16b23cc" title="Not yet documented.">Int32Class::Int32Class</a>(<a class="code" href="classeyedb_1_1Database.html" title="Not yet documented.">Database</a> *_db) : <a class="code" href="classeyedb_1_1BasicClass.html" title="Not yet documented.">BasicClass</a>(_db, int32_class_name)
<a name="l00881"></a>00881 {
<a name="l00882"></a>00882   setAliasName(<span class="stringliteral">&quot;int&quot;</span>);
<a name="l00883"></a>00883   code = Int32Class_Code;
<a name="l00884"></a>00884 <span class="preprocessor">#ifdef MetaB</span>
<a name="l00885"></a>00885 <span class="preprocessor"></span>  setClass(BasicClass_Class);
<a name="l00886"></a>00886   parent = Basic_Class;
<a name="l00887"></a>00887 <span class="preprocessor">#else</span>
<a name="l00888"></a>00888 <span class="preprocessor"></span>  setClass(Basic_Class);
<a name="l00889"></a>00889   parent = Basic_Class;
<a name="l00890"></a>00890 <span class="preprocessor">#endif</span>
<a name="l00891"></a>00891 <span class="preprocessor"></span>  idr_objsz = IDB_OBJ_HEAD_SIZE + <span class="keyword">sizeof</span>(eyedblib::int32);
<a name="l00892"></a>00892   idr_psize = idr_objsz;
<a name="l00893"></a>00893   idr_vsize = 0;
<a name="l00894"></a>00894 }
<a name="l00895"></a>00895 
<a name="l00896"></a><a class="code" href="classeyedb_1_1Int32Class.html#a57c4d5a05acc52386d8abbcad973c7e7">00896</a> <a class="code" href="classeyedb_1_1Int32Class.html#a74971848575c41862b94b8edb16b23cc" title="Not yet documented.">Int32Class::Int32Class</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Int32Class.html" title="Not yet documented.">Int32Class</a> &amp;cl)
<a name="l00897"></a>00897   : <a class="code" href="classeyedb_1_1BasicClass.html" title="Not yet documented.">BasicClass</a>(cl)
<a name="l00898"></a>00898 {
<a name="l00899"></a>00899 }
<a name="l00900"></a>00900 
<a name="l00901"></a><a class="code" href="classeyedb_1_1Int32Class.html#a43894a8b5ab63ee51f6af15eaeef1a28">00901</a> <a class="code" href="classeyedb_1_1Int32Class.html" title="Not yet documented.">Int32Class</a> &amp;<a class="code" href="classeyedb_1_1Int32Class.html#a43894a8b5ab63ee51f6af15eaeef1a28" title="Not yet documented.">Int32Class::operator=</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Int32Class.html" title="Not yet documented.">Int32Class</a> &amp;cl)
<a name="l00902"></a>00902 {
<a name="l00903"></a>00903   this-&gt;<a class="code" href="classeyedb_1_1Int32Class.html#a43894a8b5ab63ee51f6af15eaeef1a28" title="Not yet documented.">BasicClass::operator=</a>(cl);
<a name="l00904"></a>00904   <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00905"></a>00905 }
<a name="l00906"></a>00906 
<a name="l00907"></a><a class="code" href="classeyedb_1_1Int32Class.html#a122c658b27e0504ceaa7e01ff9b32e71">00907</a> <a class="code" href="classeyedb_1_1Object.html" title="Not yet documented.">Object</a> *<a class="code" href="classeyedb_1_1Int32Class.html#a122c658b27e0504ceaa7e01ff9b32e71" title="Not yet documented.">Int32Class::newObj</a>(<a class="code" href="classeyedb_1_1Database.html" title="Not yet documented.">Database</a> *_db)<span class="keyword"> const</span>
<a name="l00908"></a>00908 <span class="keyword"></span>{
<a name="l00909"></a>00909   <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classeyedb_1_1Int32.html" title="Not yet documented.">Int32</a>(_db);
<a name="l00910"></a>00910 }
<a name="l00911"></a>00911 
<a name="l00912"></a><a class="code" href="classeyedb_1_1Int32Class.html#aa077c9002e34a6ea2b1e7386c6a01e8a">00912</a> <a class="code" href="classeyedb_1_1Object.html" title="Not yet documented.">Object</a> *<a class="code" href="classeyedb_1_1Int32Class.html#a122c658b27e0504ceaa7e01ff9b32e71" title="Not yet documented.">Int32Class::newObj</a>(Data data, Bool)<span class="keyword"> const</span>
<a name="l00913"></a>00913 <span class="keyword"></span>{
<a name="l00914"></a>00914 <span class="preprocessor">#ifdef E_XDR</span>
<a name="l00915"></a>00915 <span class="preprocessor"></span>  eyedblib::int32 l;
<a name="l00916"></a>00916   x2h_32_cpy(&amp;l, data);
<a name="l00917"></a>00917   <span class="comment">//Offset offset = 0;</span>
<a name="l00918"></a>00918   <span class="comment">//  xdr_int32_decode(data, &amp;offset, &amp;l);</span>
<a name="l00919"></a>00919   <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classeyedb_1_1Int32.html" title="Not yet documented.">Int32</a>(l);
<a name="l00920"></a>00920 <span class="preprocessor">#else</span>
<a name="l00921"></a>00921 <span class="preprocessor"></span>  <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classeyedb_1_1Int32.html" title="Not yet documented.">Int32</a>(* (eyedblib::int32 *)data);
<a name="l00922"></a>00922 <span class="preprocessor">#endif</span>
<a name="l00923"></a>00923 <span class="preprocessor"></span>}
<a name="l00924"></a>00924 
<a name="l00925"></a><a class="code" href="classeyedb_1_1Int32Class.html#a8324547465830ccd933012488beaeb09">00925</a> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Int32Class.html#a8324547465830ccd933012488beaeb09" title="Not yet documented.">Int32Class::traceData</a>(FILE *fd, <span class="keywordtype">int</span> indent, Data inidata,
<a name="l00926"></a>00926                                    Data data, <a class="code" href="classeyedb_1_1TypeModifier.html" title="Not yet documented.">TypeModifier</a> *tmod)<span class="keyword"> const</span>
<a name="l00927"></a>00927 <span class="keyword"></span>{
<a name="l00928"></a>00928   <span class="keywordtype">int</span> i, j, k;
<a name="l00929"></a>00929   <span class="keywordflow">if</span> (data)
<a name="l00930"></a>00930     {
<a name="l00931"></a>00931       eyedblib::int32 n;
<a name="l00932"></a>00932       <span class="keywordflow">if</span> (tmod)
<a name="l00933"></a>00933         {
<a name="l00934"></a>00934           <span class="keywordflow">if</span> (tmod-&gt;pdims &gt; 1)
<a name="l00935"></a>00935             {
<a name="l00936"></a>00936               <a class="code" href="classeyedb_1_1Int32Class.html#a8324547465830ccd933012488beaeb09" title="Not yet documented.">eyedb::traceData</a>(fd, indent, inidata, data, tmod, <span class="keyword">sizeof</span>(eyedblib::int32),
<a name="l00937"></a>00937                           print_int32_data);
<a name="l00938"></a>00938             }
<a name="l00939"></a>00939           <span class="keywordflow">else</span>
<a name="l00940"></a>00940             {
<a name="l00941"></a>00941               <span class="comment">/*</span>
<a name="l00942"></a>00942 <span class="comment">              memcpy(&amp;n, data, sizeof(eyedblib::int32));</span>
<a name="l00943"></a>00943 <span class="comment">              fprintf(fd, &quot;%d&quot;, n);</span>
<a name="l00944"></a>00944 <span class="comment">              */</span>
<a name="l00945"></a>00945               print_int32_data(fd, data);
<a name="l00946"></a>00946             }
<a name="l00947"></a>00947         }
<a name="l00948"></a>00948       <span class="keywordflow">else</span>
<a name="l00949"></a>00949         {
<a name="l00950"></a>00950           <span class="comment">/*</span>
<a name="l00951"></a>00951 <span class="comment">          memcpy(&amp;n, data, sizeof(eyedblib::int32));</span>
<a name="l00952"></a>00952 <span class="comment">          fprintf(fd, &quot;%d&quot;, n);</span>
<a name="l00953"></a>00953 <span class="comment">          */</span>
<a name="l00954"></a>00954           print_int16_data(fd, data);
<a name="l00955"></a>00955         }
<a name="l00956"></a>00956     }
<a name="l00957"></a>00957   <span class="keywordflow">else</span>
<a name="l00958"></a>00958     fprintf(fd, <span class="stringliteral">&quot;&apos;&apos;&quot;</span>);
<a name="l00959"></a>00959 
<a name="l00960"></a>00960   <span class="keywordflow">return</span> Success;
<a name="l00961"></a>00961 }
<a name="l00962"></a>00962 
<a name="l00963"></a>00963 <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> Int32Class::trace_realize(FILE *fd, <span class="keywordtype">int</span> indent, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags, <span class="keyword">const</span> <a class="code" href="classeyedb_1_1RecMode.html" title="Not yet documented.">RecMode</a> *rcm)<span class="keyword"> const</span>
<a name="l00964"></a>00964 <span class="keyword"></span>{
<a name="l00965"></a>00965   <span class="keywordflow">return</span> Class::trace_realize(fd, indent, flags, rcm);
<a name="l00966"></a>00966 }
<a name="l00967"></a>00967 
<a name="l00968"></a>00968 <span class="keywordtype">void</span>
<a name="l00969"></a>00969 Int32Class::decode(<span class="keywordtype">void</span> * hdata, <span class="comment">// to</span>
<a name="l00970"></a>00970                       <span class="keyword">const</span> <span class="keywordtype">void</span> * xdata, <span class="comment">// from</span>
<a name="l00971"></a>00971                       Size incsize, <span class="comment">// temporarely necessary </span>
<a name="l00972"></a>00972                       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nb)<span class="keyword"> const</span>
<a name="l00973"></a>00973 <span class="keyword"></span>{
<a name="l00974"></a>00974 <span class="preprocessor">#ifdef E_XDR_TRACE</span>
<a name="l00975"></a>00975 <span class="preprocessor"></span>  std::cout &lt;&lt; <span class="stringliteral">&quot;Int32Class::decode &quot;</span> &lt;&lt; name &lt;&lt; std::endl;
<a name="l00976"></a>00976 <span class="preprocessor">#endif</span>
<a name="l00977"></a>00977 <span class="preprocessor"></span>  CHECK_INCSIZE(<span class="stringliteral">&quot;decode&quot;</span>, incsize, <span class="keyword">sizeof</span>(eyedblib::int32));
<a name="l00978"></a>00978 
<a name="l00979"></a>00979   <span class="keywordflow">if</span> (nb == 1) {
<a name="l00980"></a>00980     x2h_32_cpy(hdata, xdata);
<a name="l00981"></a>00981     <span class="keywordflow">return</span>;
<a name="l00982"></a>00982   }
<a name="l00983"></a>00983 
<a name="l00984"></a>00984   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0, inc = 0; n &lt; nb; n++, inc += <span class="keyword">sizeof</span>(eyedblib::int32))
<a name="l00985"></a>00985     x2h_32_cpy((<span class="keywordtype">char</span> *)hdata + inc, (<span class="keywordtype">char</span> *)xdata + inc);
<a name="l00986"></a>00986 }
<a name="l00987"></a>00987 
<a name="l00988"></a>00988 
<a name="l00989"></a>00989 <span class="keywordtype">void</span>
<a name="l00990"></a>00990 Int32Class::encode(<span class="keywordtype">void</span> * xdata, <span class="comment">// to</span>
<a name="l00991"></a>00991                       <span class="keyword">const</span> <span class="keywordtype">void</span> * hdata, <span class="comment">// from</span>
<a name="l00992"></a>00992                       Size incsize, <span class="comment">// temporarely necessary </span>
<a name="l00993"></a>00993                       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nb)<span class="keyword"> const</span>
<a name="l00994"></a>00994 <span class="keyword"></span>{
<a name="l00995"></a>00995 <span class="preprocessor">#ifdef E_XDR_TRACE</span>
<a name="l00996"></a>00996 <span class="preprocessor"></span>  std::cout &lt;&lt; <span class="stringliteral">&quot;Int32Class::encode &quot;</span> &lt;&lt; name &lt;&lt; std::endl;
<a name="l00997"></a>00997 <span class="preprocessor">#endif</span>
<a name="l00998"></a>00998 <span class="preprocessor"></span>  CHECK_INCSIZE(<span class="stringliteral">&quot;encode&quot;</span>, incsize, <span class="keyword">sizeof</span>(eyedblib::int32));
<a name="l00999"></a>00999 
<a name="l01000"></a>01000   <span class="keywordflow">if</span> (nb == 1) {
<a name="l01001"></a>01001     h2x_32_cpy(xdata, hdata);
<a name="l01002"></a>01002     <span class="keywordflow">return</span>;
<a name="l01003"></a>01003   }
<a name="l01004"></a>01004 
<a name="l01005"></a>01005   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0, inc = 0; n &lt; nb; n++, inc += <span class="keyword">sizeof</span>(eyedblib::int32))
<a name="l01006"></a>01006     h2x_32_cpy((<span class="keywordtype">char</span> *)xdata + inc, (<span class="keywordtype">char</span> *)hdata + inc);
<a name="l01007"></a>01007 }
<a name="l01008"></a>01008 
<a name="l01009"></a>01009 <span class="keywordtype">int</span>
<a name="l01010"></a>01010 Int32Class::cmp(<span class="keyword">const</span> <span class="keywordtype">void</span> * xdata,
<a name="l01011"></a>01011                    <span class="keyword">const</span> <span class="keywordtype">void</span> * hdata,
<a name="l01012"></a>01012                    Size incsize, <span class="comment">// temporarely necessary </span>
<a name="l01013"></a>01013                    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nb)<span class="keyword"> const</span>
<a name="l01014"></a>01014 <span class="keyword"></span>{
<a name="l01015"></a>01015 <span class="preprocessor">#ifdef E_XDR_TRACE</span>
<a name="l01016"></a>01016 <span class="preprocessor"></span>  std::cout &lt;&lt; <span class="stringliteral">&quot;Int32Class::cmp &quot;</span> &lt;&lt; name;
<a name="l01017"></a>01017 <span class="preprocessor">#endif</span>
<a name="l01018"></a>01018 <span class="preprocessor"></span>  CHECK_INCSIZE(<span class="stringliteral">&quot;cmp&quot;</span>, incsize, <span class="keyword">sizeof</span>(eyedblib::int32));
<a name="l01019"></a>01019 
<a name="l01020"></a>01020   <span class="keywordflow">if</span> (nb == 1) {
<a name="l01021"></a>01021     eyedblib::int32 l;
<a name="l01022"></a>01022     x2h_32_cpy(&amp;l, xdata);
<a name="l01023"></a>01023     <span class="keywordtype">int</span> r = memcmp(&amp;l, hdata, <span class="keyword">sizeof</span>(eyedblib::int32));
<a name="l01024"></a>01024 <span class="preprocessor">#ifdef E_XDR_TRACE</span>
<a name="l01025"></a>01025 <span class="preprocessor"></span>    std::cout &lt;&lt; <span class="stringliteral">&quot; -&gt; &quot;</span> &lt;&lt; r &lt;&lt; std::endl;
<a name="l01026"></a>01026 <span class="preprocessor">#endif</span>
<a name="l01027"></a>01027 <span class="preprocessor"></span>    <span class="keywordflow">return</span> r;
<a name="l01028"></a>01028   }
<a name="l01029"></a>01029 
<a name="l01030"></a>01030   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0, inc = 0; n &lt; nb; n++, inc += <span class="keyword">sizeof</span>(eyedblib::int32)) {
<a name="l01031"></a>01031     eyedblib::int32 l;
<a name="l01032"></a>01032     x2h_32_cpy(&amp;l, (<span class="keywordtype">char</span> *)xdata + inc);
<a name="l01033"></a>01033     <span class="keywordtype">int</span> r = memcmp(&amp;l, (<span class="keywordtype">char</span> *)hdata + inc, <span class="keyword">sizeof</span>(eyedblib::int32));
<a name="l01034"></a>01034     <span class="keywordflow">if</span> (r)
<a name="l01035"></a>01035       <span class="keywordflow">return</span> r;
<a name="l01036"></a>01036   }
<a name="l01037"></a>01037 
<a name="l01038"></a>01038   <span class="keywordflow">return</span> 0;
<a name="l01039"></a>01039 }
<a name="l01040"></a>01040 
<a name="l01041"></a>01041 <span class="comment">//</span>
<a name="l01042"></a>01042 <span class="comment">// Int64Class</span>
<a name="l01043"></a>01043 <span class="comment">//</span>
<a name="l01044"></a>01044 
<a name="l01045"></a><a class="code" href="classeyedb_1_1Int64Class.html#a0840f9c1d4f688fcbe18ecd801d8a7fc">01045</a> <a class="code" href="classeyedb_1_1Int64Class.html#a0840f9c1d4f688fcbe18ecd801d8a7fc" title="Not yet documented.">Int64Class::Int64Class</a>(<a class="code" href="classeyedb_1_1Database.html" title="Not yet documented.">Database</a> *_db) : <a class="code" href="classeyedb_1_1BasicClass.html" title="Not yet documented.">BasicClass</a>(_db, int64_class_name)
<a name="l01046"></a>01046 {
<a name="l01047"></a>01047   setAliasName(<span class="stringliteral">&quot;long&quot;</span>);
<a name="l01048"></a>01048 
<a name="l01049"></a>01049   code = Int64Class_Code;
<a name="l01050"></a>01050 <span class="preprocessor">#ifdef MetaB</span>
<a name="l01051"></a>01051 <span class="preprocessor"></span>  setClass(BasicClass_Class);
<a name="l01052"></a>01052   parent = Basic_Class;
<a name="l01053"></a>01053 <span class="preprocessor">#else</span>
<a name="l01054"></a>01054 <span class="preprocessor"></span>  setClass(Basic_Class);
<a name="l01055"></a>01055   parent = Basic_Class;
<a name="l01056"></a>01056 <span class="preprocessor">#endif</span>
<a name="l01057"></a>01057 <span class="preprocessor"></span>  idr_objsz = IDB_OBJ_HEAD_SIZE + <span class="keyword">sizeof</span>(eyedblib::int64);
<a name="l01058"></a>01058   idr_psize = idr_objsz;
<a name="l01059"></a>01059   idr_vsize = 0;
<a name="l01060"></a>01060 }
<a name="l01061"></a>01061 
<a name="l01062"></a><a class="code" href="classeyedb_1_1Int64Class.html#abc0751b1d282a38c6a2460e2d7f1e038">01062</a> <a class="code" href="classeyedb_1_1Int64Class.html#a0840f9c1d4f688fcbe18ecd801d8a7fc" title="Not yet documented.">Int64Class::Int64Class</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Int64Class.html" title="Not yet documented.">Int64Class</a> &amp;cl)
<a name="l01063"></a>01063   : <a class="code" href="classeyedb_1_1BasicClass.html" title="Not yet documented.">BasicClass</a>(cl)
<a name="l01064"></a>01064 {
<a name="l01065"></a>01065 }
<a name="l01066"></a>01066 
<a name="l01067"></a><a class="code" href="classeyedb_1_1Int64Class.html#a26e4438af22693c5d33bc4c866130ded">01067</a> <a class="code" href="classeyedb_1_1Int64Class.html" title="Not yet documented.">Int64Class</a> &amp;<a class="code" href="classeyedb_1_1Int64Class.html#a26e4438af22693c5d33bc4c866130ded" title="Not yet documented.">Int64Class::operator=</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Int64Class.html" title="Not yet documented.">Int64Class</a> &amp;cl)
<a name="l01068"></a>01068 {
<a name="l01069"></a>01069   this-&gt;<a class="code" href="classeyedb_1_1Int64Class.html#a26e4438af22693c5d33bc4c866130ded" title="Not yet documented.">BasicClass::operator=</a>(cl);
<a name="l01070"></a>01070   <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l01071"></a>01071 }
<a name="l01072"></a>01072 
<a name="l01073"></a><a class="code" href="classeyedb_1_1Int64Class.html#a126015400b3eac41dcf3017db9904827">01073</a> <a class="code" href="classeyedb_1_1Object.html" title="Not yet documented.">Object</a> *<a class="code" href="classeyedb_1_1Int64Class.html#a126015400b3eac41dcf3017db9904827" title="Not yet documented.">Int64Class::newObj</a>(<a class="code" href="classeyedb_1_1Database.html" title="Not yet documented.">Database</a> *_db)<span class="keyword"> const</span>
<a name="l01074"></a>01074 <span class="keyword"></span>{
<a name="l01075"></a>01075   <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classeyedb_1_1Int64.html" title="Not yet documented.">Int64</a>(_db);
<a name="l01076"></a>01076 }
<a name="l01077"></a>01077 
<a name="l01078"></a><a class="code" href="classeyedb_1_1Int64Class.html#ad37ff09cffe3b73aaad75689211708b3">01078</a> <a class="code" href="classeyedb_1_1Object.html" title="Not yet documented.">Object</a> *<a class="code" href="classeyedb_1_1Int64Class.html#a126015400b3eac41dcf3017db9904827" title="Not yet documented.">Int64Class::newObj</a>(Data data, Bool)<span class="keyword"> const</span>
<a name="l01079"></a>01079 <span class="keyword"></span>{
<a name="l01080"></a>01080 <span class="preprocessor">#ifdef E_XDR</span>
<a name="l01081"></a>01081 <span class="preprocessor"></span>  eyedblib::int64 l;
<a name="l01082"></a>01082   <span class="comment">// called when loaded from DB, eyedboql:</span>
<a name="l01083"></a>01083   <span class="comment">// i := new int64(123);</span>
<a name="l01084"></a>01084   <span class="comment">// \p (i.e. loading)</span>
<a name="l01085"></a>01085   <span class="comment">// i-&gt;toString(); (i.e. loading)</span>
<a name="l01086"></a>01086 
<a name="l01087"></a>01087   x2h_64_cpy(&amp;l, data);
<a name="l01088"></a>01088   <span class="comment">//Offset offset = 0;</span>
<a name="l01089"></a>01089   <span class="comment">//xdr_int64_decode(pdata, &amp;offset, &amp;l);</span>
<a name="l01090"></a>01090   <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classeyedb_1_1Int64.html" title="Not yet documented.">Int64</a>(l);
<a name="l01091"></a>01091 <span class="preprocessor">#else</span>
<a name="l01092"></a>01092 <span class="preprocessor"></span>  <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classeyedb_1_1Int64.html" title="Not yet documented.">Int64</a>(* (eyedblib::int64 *)data);
<a name="l01093"></a>01093 <span class="preprocessor">#endif</span>
<a name="l01094"></a>01094 <span class="preprocessor"></span>}
<a name="l01095"></a>01095 
<a name="l01096"></a><a class="code" href="classeyedb_1_1Int64Class.html#ac4cd989cc130a1e297cac6ab7430e824">01096</a> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Int64Class.html#ac4cd989cc130a1e297cac6ab7430e824" title="Not yet documented.">Int64Class::traceData</a>(FILE *fd, <span class="keywordtype">int</span> indent, Data inidata,
<a name="l01097"></a>01097                                    Data data, <a class="code" href="classeyedb_1_1TypeModifier.html" title="Not yet documented.">TypeModifier</a> *tmod)<span class="keyword"> const</span>
<a name="l01098"></a>01098 <span class="keyword"></span>{
<a name="l01099"></a>01099   <span class="keywordtype">int</span> i, j, k;
<a name="l01100"></a>01100   <span class="keywordflow">if</span> (data)
<a name="l01101"></a>01101     {
<a name="l01102"></a>01102       eyedblib::int64 n;
<a name="l01103"></a>01103       <span class="keywordflow">if</span> (tmod)
<a name="l01104"></a>01104         {
<a name="l01105"></a>01105           <span class="keywordflow">if</span> (tmod-&gt;pdims &gt; 1) {
<a name="l01106"></a>01106             <a class="code" href="classeyedb_1_1Int64Class.html#ac4cd989cc130a1e297cac6ab7430e824" title="Not yet documented.">eyedb::traceData</a>(fd, indent, inidata, data, tmod, <span class="keyword">sizeof</span>(eyedblib::int64),
<a name="l01107"></a>01107                         print_int64_data);
<a name="l01108"></a>01108           }
<a name="l01109"></a>01109           <span class="keywordflow">else</span> {
<a name="l01110"></a>01110             <span class="comment">/*</span>
<a name="l01111"></a>01111 <span class="comment">            memcpy(&amp;n, data, sizeof(eyedblib::int64));</span>
<a name="l01112"></a>01112 <span class="comment">            fprintf(fd, &quot;%lld&quot;, n);</span>
<a name="l01113"></a>01113 <span class="comment">            */</span>
<a name="l01114"></a>01114             print_int64_data(fd, data);
<a name="l01115"></a>01115           }
<a name="l01116"></a>01116         }
<a name="l01117"></a>01117       <span class="keywordflow">else</span> {
<a name="l01118"></a>01118         <span class="comment">/*</span>
<a name="l01119"></a>01119 <span class="comment">        memcpy(&amp;n, data, sizeof(eyedblib::int64));</span>
<a name="l01120"></a>01120 <span class="comment">        fprintf(fd, &quot;%lld&quot;, n);</span>
<a name="l01121"></a>01121 <span class="comment">        */</span>
<a name="l01122"></a>01122         print_int64_data(fd, data);
<a name="l01123"></a>01123       }
<a name="l01124"></a>01124     }
<a name="l01125"></a>01125   <span class="keywordflow">else</span>
<a name="l01126"></a>01126     fprintf(fd, <span class="stringliteral">&quot;&apos;&apos;&quot;</span>);
<a name="l01127"></a>01127 
<a name="l01128"></a>01128   <span class="keywordflow">return</span> Success;
<a name="l01129"></a>01129 }
<a name="l01130"></a>01130 
<a name="l01131"></a>01131 <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> Int64Class::trace_realize(FILE *fd, <span class="keywordtype">int</span> indent, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags, <span class="keyword">const</span> <a class="code" href="classeyedb_1_1RecMode.html" title="Not yet documented.">RecMode</a> *rcm)<span class="keyword"> const</span>
<a name="l01132"></a>01132 <span class="keyword"></span>{
<a name="l01133"></a>01133   <span class="keywordflow">return</span> Class::trace_realize(fd, indent, flags, rcm);
<a name="l01134"></a>01134 }
<a name="l01135"></a>01135 
<a name="l01136"></a>01136 <span class="keywordtype">void</span>
<a name="l01137"></a>01137 Int64Class::decode(<span class="keywordtype">void</span> * hdata, <span class="comment">// to</span>
<a name="l01138"></a>01138                       <span class="keyword">const</span> <span class="keywordtype">void</span> * xdata, <span class="comment">// from</span>
<a name="l01139"></a>01139                       Size incsize, <span class="comment">// temporarely necessary </span>
<a name="l01140"></a>01140                       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nb)<span class="keyword"> const</span>
<a name="l01141"></a>01141 <span class="keyword"></span>{
<a name="l01142"></a>01142 <span class="preprocessor">#ifdef E_XDR_TRACE</span>
<a name="l01143"></a>01143 <span class="preprocessor"></span>  std::cout &lt;&lt; <span class="stringliteral">&quot;Int64Class::decode &quot;</span> &lt;&lt; name &lt;&lt; std::endl;
<a name="l01144"></a>01144 <span class="preprocessor">#endif</span>
<a name="l01145"></a>01145 <span class="preprocessor"></span>  CHECK_INCSIZE(<span class="stringliteral">&quot;decode&quot;</span>, incsize, <span class="keyword">sizeof</span>(eyedblib::int64));
<a name="l01146"></a>01146 
<a name="l01147"></a>01147   <span class="keywordflow">if</span> (nb == 1) {
<a name="l01148"></a>01148     x2h_64_cpy(hdata, xdata);
<a name="l01149"></a>01149     <span class="keywordflow">return</span>;
<a name="l01150"></a>01150   }
<a name="l01151"></a>01151 
<a name="l01152"></a>01152   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0, inc = 0; n &lt; nb; n++, inc += <span class="keyword">sizeof</span>(eyedblib::int64))
<a name="l01153"></a>01153     x2h_64_cpy((<span class="keywordtype">char</span> *)hdata + inc, (<span class="keywordtype">char</span> *)xdata + inc);
<a name="l01154"></a>01154 }
<a name="l01155"></a>01155 
<a name="l01156"></a>01156 
<a name="l01157"></a>01157 <span class="keywordtype">void</span>
<a name="l01158"></a>01158 Int64Class::encode(<span class="keywordtype">void</span> * xdata, <span class="comment">// to</span>
<a name="l01159"></a>01159                       <span class="keyword">const</span> <span class="keywordtype">void</span> * hdata, <span class="comment">// from</span>
<a name="l01160"></a>01160                       Size incsize, <span class="comment">// temporarely necessary </span>
<a name="l01161"></a>01161                       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nb)<span class="keyword"> const</span>
<a name="l01162"></a>01162 <span class="keyword"></span>{
<a name="l01163"></a>01163 <span class="preprocessor">#ifdef E_XDR_TRACE</span>
<a name="l01164"></a>01164 <span class="preprocessor"></span>  std::cout &lt;&lt; <span class="stringliteral">&quot;Int64Class::encode &quot;</span> &lt;&lt; name &lt;&lt; std::endl;
<a name="l01165"></a>01165 <span class="preprocessor">#endif</span>
<a name="l01166"></a>01166 <span class="preprocessor"></span>  CHECK_INCSIZE(<span class="stringliteral">&quot;encode&quot;</span>, incsize, <span class="keyword">sizeof</span>(eyedblib::int64));
<a name="l01167"></a>01167 
<a name="l01168"></a>01168   <span class="keywordflow">if</span> (nb == 1) {
<a name="l01169"></a>01169     h2x_64_cpy(xdata, hdata);
<a name="l01170"></a>01170     <span class="keywordflow">return</span>;
<a name="l01171"></a>01171   }
<a name="l01172"></a>01172 
<a name="l01173"></a>01173   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0, inc = 0; n &lt; nb; n++, inc += <span class="keyword">sizeof</span>(eyedblib::int64))
<a name="l01174"></a>01174     h2x_64_cpy((<span class="keywordtype">char</span> *)xdata + inc, (<span class="keywordtype">char</span> *)hdata + inc);
<a name="l01175"></a>01175 }
<a name="l01176"></a>01176 
<a name="l01177"></a>01177 <span class="keywordtype">int</span>
<a name="l01178"></a>01178 Int64Class::cmp(<span class="keyword">const</span> <span class="keywordtype">void</span> * xdata,
<a name="l01179"></a>01179                    <span class="keyword">const</span> <span class="keywordtype">void</span> * hdata,
<a name="l01180"></a>01180                    Size incsize, <span class="comment">// temporarely necessary </span>
<a name="l01181"></a>01181                    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nb)<span class="keyword"> const</span>
<a name="l01182"></a>01182 <span class="keyword"></span>{
<a name="l01183"></a>01183 <span class="preprocessor">#ifdef E_XDR_TRACE</span>
<a name="l01184"></a>01184 <span class="preprocessor"></span>  std::cout &lt;&lt; <span class="stringliteral">&quot;Int64Class::cmp &quot;</span> &lt;&lt; name;
<a name="l01185"></a>01185 <span class="preprocessor">#endif</span>
<a name="l01186"></a>01186 <span class="preprocessor"></span>  CHECK_INCSIZE(<span class="stringliteral">&quot;cmp&quot;</span>, incsize, <span class="keyword">sizeof</span>(eyedblib::int64));
<a name="l01187"></a>01187 
<a name="l01188"></a>01188   <span class="keywordflow">if</span> (nb == 1) {
<a name="l01189"></a>01189     eyedblib::int64 l;
<a name="l01190"></a>01190     x2h_64_cpy(&amp;l, xdata);
<a name="l01191"></a>01191     <span class="keywordtype">int</span> r = memcmp(&amp;l, hdata, <span class="keyword">sizeof</span>(eyedblib::int64));
<a name="l01192"></a>01192 <span class="preprocessor">#ifdef E_XDR_TRACE</span>
<a name="l01193"></a>01193 <span class="preprocessor"></span>    std::cout &lt;&lt; <span class="stringliteral">&quot; -&gt; &quot;</span> &lt;&lt; r &lt;&lt; std::endl;
<a name="l01194"></a>01194 <span class="preprocessor">#endif</span>
<a name="l01195"></a>01195 <span class="preprocessor"></span>    <span class="keywordflow">return</span> r;
<a name="l01196"></a>01196   }
<a name="l01197"></a>01197 
<a name="l01198"></a>01198   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0, inc = 0; n &lt; nb; n++, inc += <span class="keyword">sizeof</span>(eyedblib::int64)) {
<a name="l01199"></a>01199     eyedblib::int64 l;
<a name="l01200"></a>01200     x2h_64_cpy(&amp;l, (<span class="keywordtype">char</span> *)xdata + inc);
<a name="l01201"></a>01201     <span class="keywordtype">int</span> r = memcmp(&amp;l, (<span class="keywordtype">char</span> *)hdata + inc, <span class="keyword">sizeof</span>(eyedblib::int64));
<a name="l01202"></a>01202     <span class="keywordflow">if</span> (r)
<a name="l01203"></a>01203       <span class="keywordflow">return</span> r;
<a name="l01204"></a>01204   }
<a name="l01205"></a>01205 
<a name="l01206"></a>01206   <span class="keywordflow">return</span> 0;
<a name="l01207"></a>01207 }
<a name="l01208"></a>01208 
<a name="l01209"></a>01209 <span class="comment">//</span>
<a name="l01210"></a>01210 <span class="comment">// ByteClass</span>
<a name="l01211"></a>01211 <span class="comment">//</span>
<a name="l01212"></a>01212 
<a name="l01213"></a><a class="code" href="classeyedb_1_1ByteClass.html#a48abafc77cbe3b2938db081fb72c8d1d">01213</a> <a class="code" href="classeyedb_1_1ByteClass.html#a48abafc77cbe3b2938db081fb72c8d1d" title="Not yet documented.">ByteClass::ByteClass</a>(<a class="code" href="classeyedb_1_1Database.html" title="Not yet documented.">Database</a> *_db) : <a class="code" href="classeyedb_1_1BasicClass.html" title="Not yet documented.">BasicClass</a>(_db, <span class="stringliteral">&quot;byte&quot;</span>)
<a name="l01214"></a>01214 {
<a name="l01215"></a>01215   code = ByteClass_Code;
<a name="l01216"></a>01216 <span class="preprocessor">#ifdef MetaB</span>
<a name="l01217"></a>01217 <span class="preprocessor"></span>  setClass(BasicClass_Class);
<a name="l01218"></a>01218   parent = Basic_Class;
<a name="l01219"></a>01219 <span class="preprocessor">#else</span>
<a name="l01220"></a>01220 <span class="preprocessor"></span>  setClass(Basic_Class);
<a name="l01221"></a>01221   parent = Basic_Class;
<a name="l01222"></a>01222 <span class="preprocessor">#endif</span>
<a name="l01223"></a>01223 <span class="preprocessor"></span>  idr_objsz = IDB_OBJ_HEAD_SIZE + <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> char);
<a name="l01224"></a>01224   idr_psize = idr_objsz;
<a name="l01225"></a>01225   idr_vsize = 0;
<a name="l01226"></a>01226 }
<a name="l01227"></a>01227 
<a name="l01228"></a><a class="code" href="classeyedb_1_1ByteClass.html#adca5f59ef3262b4e241dc21b970b91f8">01228</a> <a class="code" href="classeyedb_1_1Object.html" title="Not yet documented.">Object</a> *<a class="code" href="classeyedb_1_1ByteClass.html#adca5f59ef3262b4e241dc21b970b91f8" title="Not yet documented.">ByteClass::newObj</a>(<a class="code" href="classeyedb_1_1Database.html" title="Not yet documented.">Database</a> *_db)<span class="keyword"> const</span>
<a name="l01229"></a>01229 <span class="keyword"></span>{
<a name="l01230"></a>01230   <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classeyedb_1_1Byte.html" title="Not yet documented.">Byte</a>(_db);
<a name="l01231"></a>01231 }
<a name="l01232"></a>01232 
<a name="l01233"></a><a class="code" href="classeyedb_1_1ByteClass.html#afcc49f0ac3ea0a98bf314024d99f551b">01233</a> <a class="code" href="classeyedb_1_1Object.html" title="Not yet documented.">Object</a> *<a class="code" href="classeyedb_1_1ByteClass.html#adca5f59ef3262b4e241dc21b970b91f8" title="Not yet documented.">ByteClass::newObj</a>(Data data, Bool)<span class="keyword"> const</span>
<a name="l01234"></a>01234 <span class="keyword"></span>{
<a name="l01235"></a>01235   <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classeyedb_1_1Byte.html" title="Not yet documented.">Byte</a>(* (<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)data);
<a name="l01236"></a>01236 }
<a name="l01237"></a>01237 
<a name="l01238"></a><a class="code" href="classeyedb_1_1ByteClass.html#ae3c6b660e4a8dad2ccc513882c0e03a6">01238</a> <a class="code" href="classeyedb_1_1ByteClass.html#a48abafc77cbe3b2938db081fb72c8d1d" title="Not yet documented.">ByteClass::ByteClass</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1ByteClass.html" title="Not yet documented.">ByteClass</a> &amp;cl)
<a name="l01239"></a>01239   : <a class="code" href="classeyedb_1_1BasicClass.html" title="Not yet documented.">BasicClass</a>(cl)
<a name="l01240"></a>01240 {
<a name="l01241"></a>01241 }
<a name="l01242"></a>01242 
<a name="l01243"></a><a class="code" href="classeyedb_1_1ByteClass.html#a6faed9cb017e4c97e731c8e6fc016946">01243</a> <a class="code" href="classeyedb_1_1ByteClass.html" title="Not yet documented.">ByteClass</a> &amp;<a class="code" href="classeyedb_1_1ByteClass.html#a6faed9cb017e4c97e731c8e6fc016946" title="Not yet documented.">ByteClass::operator=</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1ByteClass.html" title="Not yet documented.">ByteClass</a> &amp;cl)
<a name="l01244"></a>01244 {
<a name="l01245"></a>01245   this-&gt;<a class="code" href="classeyedb_1_1ByteClass.html#a6faed9cb017e4c97e731c8e6fc016946" title="Not yet documented.">BasicClass::operator=</a>(cl);
<a name="l01246"></a>01246   <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l01247"></a>01247 }
<a name="l01248"></a>01248 
<a name="l01249"></a><a class="code" href="classeyedb_1_1ByteClass.html#ab7dfd6178be77d24197a98c235f606b0">01249</a> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1ByteClass.html#ab7dfd6178be77d24197a98c235f606b0" title="Not yet documented.">ByteClass::traceData</a>(FILE *fd, <span class="keywordtype">int</span> indent, Data inidata,
<a name="l01250"></a>01250                                   Data data, <a class="code" href="classeyedb_1_1TypeModifier.html" title="Not yet documented.">TypeModifier</a> *tmod)<span class="keyword"> const</span>
<a name="l01251"></a>01251 <span class="keyword"></span>{
<a name="l01252"></a>01252   <span class="keywordtype">int</span> i;
<a name="l01253"></a>01253   <span class="keywordflow">if</span> (data)
<a name="l01254"></a>01254     {
<a name="l01255"></a>01255       <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> j;
<a name="l01256"></a>01256       <span class="keywordflow">if</span> (tmod)
<a name="l01257"></a>01257         {
<a name="l01258"></a>01258           <span class="keywordflow">if</span> (tmod-&gt;pdims &gt; 1)
<a name="l01259"></a>01259             {
<a name="l01260"></a>01260               <a class="code" href="classeyedb_1_1ByteClass.html#ab7dfd6178be77d24197a98c235f606b0" title="Not yet documented.">eyedb::traceData</a>(fd, indent, inidata, data, tmod, <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>),
<a name="l01261"></a>01261                           print_byte_data);
<a name="l01262"></a>01262             }
<a name="l01263"></a>01263           <span class="keywordflow">else</span>
<a name="l01264"></a>01264             {
<a name="l01265"></a>01265               memcpy(&amp;j, data, <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>));
<a name="l01266"></a>01266               fprintf(fd, <span class="stringliteral">&quot;\\%03o&quot;</span>, j);
<a name="l01267"></a>01267             }
<a name="l01268"></a>01268         }
<a name="l01269"></a>01269       <span class="keywordflow">else</span>
<a name="l01270"></a>01270         {
<a name="l01271"></a>01271           memcpy(&amp;j, data, <span class="keyword">sizeof</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>));
<a name="l01272"></a>01272           fprintf(fd, <span class="stringliteral">&quot;\\%03o&quot;</span>, j);
<a name="l01273"></a>01273         }
<a name="l01274"></a>01274     }
<a name="l01275"></a>01275   <span class="keywordflow">else</span>
<a name="l01276"></a>01276     fprintf(fd, <span class="stringliteral">&quot;&apos;&apos;&quot;</span>);
<a name="l01277"></a>01277 
<a name="l01278"></a>01278   <span class="keywordflow">return</span> Success;
<a name="l01279"></a>01279 }
<a name="l01280"></a>01280 
<a name="l01281"></a>01281 <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> ByteClass::trace_realize(FILE *fd, <span class="keywordtype">int</span> indent, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags, <span class="keyword">const</span> <a class="code" href="classeyedb_1_1RecMode.html" title="Not yet documented.">RecMode</a> *rcm)<span class="keyword"> const</span>
<a name="l01282"></a>01282 <span class="keyword"></span>{
<a name="l01283"></a>01283   <span class="keywordflow">return</span> Class::trace_realize(fd, indent, flags, rcm);
<a name="l01284"></a>01284 }
<a name="l01285"></a>01285 
<a name="l01286"></a>01286 <span class="keywordtype">void</span>
<a name="l01287"></a>01287 ByteClass::decode(<span class="keywordtype">void</span> * hdata, <span class="comment">// to</span>
<a name="l01288"></a>01288                      <span class="keyword">const</span> <span class="keywordtype">void</span> * xdata, <span class="comment">// from</span>
<a name="l01289"></a>01289                      Size incsize, <span class="comment">// temporarely necessary </span>
<a name="l01290"></a>01290                      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nb)<span class="keyword"> const</span>
<a name="l01291"></a>01291 <span class="keyword"></span>{
<a name="l01292"></a>01292   Class::decode(hdata, xdata, incsize, nb);
<a name="l01293"></a>01293 }
<a name="l01294"></a>01294 
<a name="l01295"></a>01295 
<a name="l01296"></a>01296 <span class="keywordtype">void</span>
<a name="l01297"></a>01297 ByteClass::encode(<span class="keywordtype">void</span> * xdata, <span class="comment">// to</span>
<a name="l01298"></a>01298                      <span class="keyword">const</span> <span class="keywordtype">void</span> * hdata, <span class="comment">// from</span>
<a name="l01299"></a>01299                      Size incsize, <span class="comment">// temporarely necessary </span>
<a name="l01300"></a>01300                      <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nb)<span class="keyword"> const</span>
<a name="l01301"></a>01301 <span class="keyword"></span>{
<a name="l01302"></a>01302   Class::encode(xdata, hdata, incsize, nb);
<a name="l01303"></a>01303 }
<a name="l01304"></a>01304 
<a name="l01305"></a>01305 <span class="keywordtype">int</span>
<a name="l01306"></a>01306 ByteClass::cmp(<span class="keyword">const</span> <span class="keywordtype">void</span> * xdata,
<a name="l01307"></a>01307                   <span class="keyword">const</span> <span class="keywordtype">void</span> * hdata,
<a name="l01308"></a>01308                   Size incsize, <span class="comment">// temporarely necessary </span>
<a name="l01309"></a>01309                   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nb)<span class="keyword"> const</span>
<a name="l01310"></a>01310 <span class="keyword"></span>{
<a name="l01311"></a>01311   <span class="keywordflow">return</span> Class::cmp(hdata, xdata, incsize, nb);
<a name="l01312"></a>01312 }
<a name="l01313"></a>01313 
<a name="l01314"></a>01314 <span class="comment">//</span>
<a name="l01315"></a>01315 <span class="comment">// FloatClass</span>
<a name="l01316"></a>01316 <span class="comment">//</span>
<a name="l01317"></a>01317 
<a name="l01318"></a><a class="code" href="classeyedb_1_1FloatClass.html#afb933a09d372364085a738f938818359">01318</a> <a class="code" href="classeyedb_1_1FloatClass.html#afb933a09d372364085a738f938818359" title="Not yet documented.">FloatClass::FloatClass</a>(<a class="code" href="classeyedb_1_1Database.html" title="Not yet documented.">Database</a> *_db) : <a class="code" href="classeyedb_1_1BasicClass.html" title="Not yet documented.">BasicClass</a>(_db, <span class="stringliteral">&quot;float&quot;</span>)
<a name="l01319"></a>01319 {
<a name="l01320"></a>01320   code = FloatClass_Code;
<a name="l01321"></a>01321 <span class="preprocessor">#ifdef MetaB</span>
<a name="l01322"></a>01322 <span class="preprocessor"></span>  setClass(BasicClass_Class);
<a name="l01323"></a>01323   parent = Basic_Class;
<a name="l01324"></a>01324 <span class="preprocessor">#else</span>
<a name="l01325"></a>01325 <span class="preprocessor"></span>  setClass(Basic_Class);
<a name="l01326"></a>01326   parent = Basic_Class;
<a name="l01327"></a>01327 <span class="preprocessor">#endif</span>
<a name="l01328"></a>01328 <span class="preprocessor"></span>  idr_objsz = IDB_OBJ_HEAD_SIZE + <span class="keyword">sizeof</span>(double);
<a name="l01329"></a>01329   idr_psize = idr_objsz;
<a name="l01330"></a>01330   idr_vsize = 0;
<a name="l01331"></a>01331 }
<a name="l01332"></a>01332 
<a name="l01333"></a><a class="code" href="classeyedb_1_1FloatClass.html#a504fccbdac14fb5563c7525de90698dc">01333</a> <a class="code" href="classeyedb_1_1FloatClass.html#afb933a09d372364085a738f938818359" title="Not yet documented.">FloatClass::FloatClass</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1FloatClass.html" title="Not yet documented.">FloatClass</a> &amp;cl)
<a name="l01334"></a>01334   : <a class="code" href="classeyedb_1_1BasicClass.html" title="Not yet documented.">BasicClass</a>(cl)
<a name="l01335"></a>01335 {
<a name="l01336"></a>01336 }
<a name="l01337"></a>01337 
<a name="l01338"></a><a class="code" href="classeyedb_1_1FloatClass.html#ae56c9ee6e58a70cd6c7d853fcc672339">01338</a> <a class="code" href="classeyedb_1_1FloatClass.html" title="Not yet documented.">FloatClass</a> &amp;<a class="code" href="classeyedb_1_1FloatClass.html#ae56c9ee6e58a70cd6c7d853fcc672339" title="Not yet documented.">FloatClass::operator=</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1FloatClass.html" title="Not yet documented.">FloatClass</a> &amp;cl)
<a name="l01339"></a>01339 {
<a name="l01340"></a>01340   this-&gt;<a class="code" href="classeyedb_1_1FloatClass.html#ae56c9ee6e58a70cd6c7d853fcc672339" title="Not yet documented.">BasicClass::operator=</a>(cl);
<a name="l01341"></a>01341   <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l01342"></a>01342 }
<a name="l01343"></a>01343 
<a name="l01344"></a><a class="code" href="classeyedb_1_1FloatClass.html#ace6c2841550b311985cb0af693487a85">01344</a> <a class="code" href="classeyedb_1_1Object.html" title="Not yet documented.">Object</a> *<a class="code" href="classeyedb_1_1FloatClass.html#ace6c2841550b311985cb0af693487a85" title="Not yet documented.">FloatClass::newObj</a>(<a class="code" href="classeyedb_1_1Database.html" title="Not yet documented.">Database</a> *_db)<span class="keyword"> const</span>
<a name="l01345"></a>01345 <span class="keyword"></span>{
<a name="l01346"></a>01346   <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classeyedb_1_1Float.html" title="Not yet documented.">Float</a>(_db);
<a name="l01347"></a>01347 }
<a name="l01348"></a>01348 
<a name="l01349"></a><a class="code" href="classeyedb_1_1FloatClass.html#af3ec4720b3eeee0b20fb32d9223197c5">01349</a> <a class="code" href="classeyedb_1_1Object.html" title="Not yet documented.">Object</a> *<a class="code" href="classeyedb_1_1FloatClass.html#ace6c2841550b311985cb0af693487a85" title="Not yet documented.">FloatClass::newObj</a>(Data data, Bool)<span class="keyword"> const</span>
<a name="l01350"></a>01350 <span class="keyword"></span>{
<a name="l01351"></a>01351 <span class="preprocessor">#ifdef E_XDR</span>
<a name="l01352"></a>01352 <span class="preprocessor"></span>  <span class="keywordtype">double</span> d;
<a name="l01353"></a>01353   x2h_f64_cpy(&amp;d, data);
<a name="l01354"></a>01354   <span class="comment">//Offset offset = 0;</span>
<a name="l01355"></a>01355   <span class="comment">//xdr_double_decode(data, &amp;offset, &amp;d);</span>
<a name="l01356"></a>01356   <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classeyedb_1_1Float.html" title="Not yet documented.">Float</a>(d);
<a name="l01357"></a>01357 <span class="preprocessor">#else</span>
<a name="l01358"></a>01358 <span class="preprocessor"></span>  <span class="keywordtype">double</span> d;
<a name="l01359"></a>01359   memcpy(&amp;d, data, <span class="keyword">sizeof</span>(<span class="keywordtype">double</span>));
<a name="l01360"></a>01360   <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classeyedb_1_1Float.html" title="Not yet documented.">Float</a>(d);
<a name="l01361"></a>01361 <span class="preprocessor">#endif</span>
<a name="l01362"></a>01362 <span class="preprocessor"></span>}
<a name="l01363"></a>01363 
<a name="l01364"></a><a class="code" href="classeyedb_1_1FloatClass.html#a614b6f27179628724590cf678e083cb8">01364</a> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1FloatClass.html#a614b6f27179628724590cf678e083cb8" title="Not yet documented.">FloatClass::traceData</a>(FILE *fd, <span class="keywordtype">int</span> indent, Data inidata,
<a name="l01365"></a>01365                                    Data data, <a class="code" href="classeyedb_1_1TypeModifier.html" title="Not yet documented.">TypeModifier</a> *tmod)<span class="keyword"> const</span>
<a name="l01366"></a>01366 <span class="keyword"></span>{
<a name="l01367"></a>01367   <span class="keywordtype">int</span> i;
<a name="l01368"></a>01368   <span class="keywordflow">if</span> (data)
<a name="l01369"></a>01369     {
<a name="l01370"></a>01370       <span class="keywordtype">double</span> j;
<a name="l01371"></a>01371       <span class="keywordflow">if</span> (tmod)
<a name="l01372"></a>01372         {
<a name="l01373"></a>01373           <span class="keywordflow">if</span> (tmod-&gt;pdims &gt; 1)
<a name="l01374"></a>01374             {
<a name="l01375"></a>01375               <a class="code" href="classeyedb_1_1FloatClass.html#a614b6f27179628724590cf678e083cb8" title="Not yet documented.">eyedb::traceData</a>(fd, indent, inidata, data, tmod, <span class="keyword">sizeof</span>(<span class="keywordtype">double</span>),
<a name="l01376"></a>01376                           print_float_data);
<a name="l01377"></a>01377             }
<a name="l01378"></a>01378           <span class="keywordflow">else</span>
<a name="l01379"></a>01379             {
<a name="l01380"></a>01380               <span class="comment">/*</span>
<a name="l01381"></a>01381 <span class="comment">              memcpy(&amp;j, data, sizeof(double));</span>
<a name="l01382"></a>01382 <span class="comment">              fprint_float(fd, j);</span>
<a name="l01383"></a>01383 <span class="comment">              */</span>
<a name="l01384"></a>01384               print_xdr_float_data(fd, data);
<a name="l01385"></a>01385             }
<a name="l01386"></a>01386         }
<a name="l01387"></a>01387       <span class="keywordflow">else</span> {
<a name="l01388"></a>01388         <span class="comment">/*</span>
<a name="l01389"></a>01389 <span class="comment">          memcpy(&amp;j, data, sizeof(double));</span>
<a name="l01390"></a>01390 <span class="comment">          fprint_float(fd, j);</span>
<a name="l01391"></a>01391 <span class="comment">        */</span>
<a name="l01392"></a>01392         print_xdr_float_data(fd, data);
<a name="l01393"></a>01393       }
<a name="l01394"></a>01394     }
<a name="l01395"></a>01395   <span class="keywordflow">else</span>
<a name="l01396"></a>01396     fprintf(fd, <span class="stringliteral">&quot;&apos;&apos;&quot;</span>);
<a name="l01397"></a>01397 
<a name="l01398"></a>01398   <span class="keywordflow">return</span> Success;
<a name="l01399"></a>01399 }
<a name="l01400"></a>01400 
<a name="l01401"></a>01401 <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> FloatClass::trace_realize(FILE *fd, <span class="keywordtype">int</span> indent, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags, <span class="keyword">const</span> <a class="code" href="classeyedb_1_1RecMode.html" title="Not yet documented.">RecMode</a> *rcm)<span class="keyword"> const</span>
<a name="l01402"></a>01402 <span class="keyword"></span>{
<a name="l01403"></a>01403   <span class="keywordflow">return</span> Class::trace_realize(fd, indent, flags, rcm);
<a name="l01404"></a>01404 }
<a name="l01405"></a>01405 
<a name="l01406"></a>01406 <span class="keywordtype">void</span>
<a name="l01407"></a>01407 FloatClass::decode(<span class="keywordtype">void</span> * hdata, <span class="comment">// to</span>
<a name="l01408"></a>01408                       <span class="keyword">const</span> <span class="keywordtype">void</span> * xdata, <span class="comment">// from</span>
<a name="l01409"></a>01409                       Size incsize, <span class="comment">// temporarely necessary </span>
<a name="l01410"></a>01410                       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nb)<span class="keyword"> const</span>
<a name="l01411"></a>01411 <span class="keyword"></span>{
<a name="l01412"></a>01412 <span class="preprocessor">#ifdef E_XDR_TRACE</span>
<a name="l01413"></a>01413 <span class="preprocessor"></span>  std::cout &lt;&lt; <span class="stringliteral">&quot;FloatClass::decode &quot;</span> &lt;&lt; name &lt;&lt; std::endl;
<a name="l01414"></a>01414 <span class="preprocessor">#endif</span>
<a name="l01415"></a>01415 <span class="preprocessor"></span>  CHECK_INCSIZE(<span class="stringliteral">&quot;decode&quot;</span>, incsize, <span class="keyword">sizeof</span>(eyedblib::float64));
<a name="l01416"></a>01416 
<a name="l01417"></a>01417   <span class="keywordflow">if</span> (nb == 1) {
<a name="l01418"></a>01418     x2h_f64_cpy(hdata, xdata);
<a name="l01419"></a>01419     <span class="keywordflow">return</span>;
<a name="l01420"></a>01420   }
<a name="l01421"></a>01421 
<a name="l01422"></a>01422   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0, inc = 0; n &lt; nb; n++, inc += <span class="keyword">sizeof</span>(eyedblib::float64))
<a name="l01423"></a>01423     x2h_f64_cpy((<span class="keywordtype">char</span> *)hdata + inc, (<span class="keywordtype">char</span> *)xdata + inc);
<a name="l01424"></a>01424 }
<a name="l01425"></a>01425 
<a name="l01426"></a>01426 
<a name="l01427"></a>01427 <span class="keywordtype">void</span>
<a name="l01428"></a>01428 FloatClass::encode(<span class="keywordtype">void</span> * xdata, <span class="comment">// to</span>
<a name="l01429"></a>01429                       <span class="keyword">const</span> <span class="keywordtype">void</span> * hdata, <span class="comment">// from</span>
<a name="l01430"></a>01430                       Size incsize, <span class="comment">// temporarely necessary </span>
<a name="l01431"></a>01431                       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nb)<span class="keyword"> const</span>
<a name="l01432"></a>01432 <span class="keyword"></span>{
<a name="l01433"></a>01433 <span class="preprocessor">#ifdef E_XDR_TRACE</span>
<a name="l01434"></a>01434 <span class="preprocessor"></span>  std::cout &lt;&lt; <span class="stringliteral">&quot;FloatClass::encode &quot;</span> &lt;&lt; name &lt;&lt; std::endl;
<a name="l01435"></a>01435 <span class="preprocessor">#endif</span>
<a name="l01436"></a>01436 <span class="preprocessor"></span>  CHECK_INCSIZE(<span class="stringliteral">&quot;encode&quot;</span>, incsize, <span class="keyword">sizeof</span>(eyedblib::float64));
<a name="l01437"></a>01437 
<a name="l01438"></a>01438   <span class="keywordflow">if</span> (nb == 1) {
<a name="l01439"></a>01439     h2x_f64_cpy(xdata, hdata);
<a name="l01440"></a>01440     <span class="keywordflow">return</span>;
<a name="l01441"></a>01441   }
<a name="l01442"></a>01442 
<a name="l01443"></a>01443   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0, inc = 0; n &lt; nb; n++, inc += <span class="keyword">sizeof</span>(eyedblib::float64))
<a name="l01444"></a>01444     h2x_f64_cpy((<span class="keywordtype">char</span> *)xdata + inc, (<span class="keywordtype">char</span> *)hdata + inc);
<a name="l01445"></a>01445 }
<a name="l01446"></a>01446 
<a name="l01447"></a>01447 <span class="keywordtype">int</span>
<a name="l01448"></a>01448 FloatClass::cmp(<span class="keyword">const</span> <span class="keywordtype">void</span> * xdata,
<a name="l01449"></a>01449                    <span class="keyword">const</span> <span class="keywordtype">void</span> * hdata,
<a name="l01450"></a>01450                    Size incsize, <span class="comment">// temporarely necessary </span>
<a name="l01451"></a>01451                    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nb)<span class="keyword"> const</span>
<a name="l01452"></a>01452 <span class="keyword"></span>{
<a name="l01453"></a>01453 <span class="preprocessor">#ifdef E_XDR_TRACE</span>
<a name="l01454"></a>01454 <span class="preprocessor"></span>  std::cout &lt;&lt; <span class="stringliteral">&quot;FloatClass::cmp &quot;</span> &lt;&lt; name;
<a name="l01455"></a>01455 <span class="preprocessor">#endif</span>
<a name="l01456"></a>01456 <span class="preprocessor"></span>  CHECK_INCSIZE(<span class="stringliteral">&quot;cmp&quot;</span>, incsize, <span class="keyword">sizeof</span>(eyedblib::float64));
<a name="l01457"></a>01457 
<a name="l01458"></a>01458   <span class="keywordflow">if</span> (nb == 1) {
<a name="l01459"></a>01459     eyedblib::float64 l;
<a name="l01460"></a>01460     x2h_f64_cpy(&amp;l, xdata);
<a name="l01461"></a>01461     <span class="keywordtype">int</span> r = memcmp(&amp;l, hdata, <span class="keyword">sizeof</span>(eyedblib::float64));
<a name="l01462"></a>01462 <span class="preprocessor">#ifdef E_XDR_TRACE</span>
<a name="l01463"></a>01463 <span class="preprocessor"></span>    std::cout &lt;&lt; <span class="stringliteral">&quot; -&gt; &quot;</span> &lt;&lt; r &lt;&lt; std::endl;
<a name="l01464"></a>01464 <span class="preprocessor">#endif</span>
<a name="l01465"></a>01465 <span class="preprocessor"></span>    <span class="keywordflow">return</span> r;
<a name="l01466"></a>01466   }
<a name="l01467"></a>01467 
<a name="l01468"></a>01468   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0, inc = 0; n &lt; nb; n++, inc += <span class="keyword">sizeof</span>(eyedblib::float64)) {
<a name="l01469"></a>01469     eyedblib::float64 l;
<a name="l01470"></a>01470     x2h_f64_cpy(&amp;l, (<span class="keywordtype">char</span> *)xdata + inc);
<a name="l01471"></a>01471     <span class="keywordtype">int</span> r = memcmp(&amp;l, (<span class="keywordtype">char</span> *)hdata + inc, <span class="keyword">sizeof</span>(eyedblib::float64));
<a name="l01472"></a>01472     <span class="keywordflow">if</span> (r)
<a name="l01473"></a>01473       <span class="keywordflow">return</span> r;
<a name="l01474"></a>01474   }
<a name="l01475"></a>01475 
<a name="l01476"></a>01476   <span class="keywordflow">return</span> 0;
<a name="l01477"></a>01477 }
<a name="l01478"></a>01478 
<a name="l01479"></a>01479 <span class="comment">//</span>
<a name="l01480"></a>01480 <span class="comment">// OidClass</span>
<a name="l01481"></a>01481 <span class="comment">//</span>
<a name="l01482"></a>01482 
<a name="l01483"></a><a class="code" href="classeyedb_1_1OidClass.html#abd9cb38437c994dd3eb15b0a11a426ec">01483</a> <a class="code" href="classeyedb_1_1OidClass.html#abd9cb38437c994dd3eb15b0a11a426ec" title="Not yet documented.">OidClass::OidClass</a>(<a class="code" href="classeyedb_1_1Database.html" title="Not yet documented.">Database</a> *_db) : <a class="code" href="classeyedb_1_1BasicClass.html" title="Not yet documented.">BasicClass</a>(_db, <span class="stringliteral">&quot;oid&quot;</span>)
<a name="l01484"></a>01484 {
<a name="l01485"></a>01485   code = OidPClass_Code;
<a name="l01486"></a>01486 <span class="preprocessor">#ifdef MetaB</span>
<a name="l01487"></a>01487 <span class="preprocessor"></span>  setClass(BasicClass_Class);
<a name="l01488"></a>01488   parent = Basic_Class;
<a name="l01489"></a>01489 <span class="preprocessor">#else</span>
<a name="l01490"></a>01490 <span class="preprocessor"></span>  setClass(Basic_Class);
<a name="l01491"></a>01491   parent = Basic_Class;
<a name="l01492"></a>01492 <span class="preprocessor">#endif</span>
<a name="l01493"></a>01493 <span class="preprocessor"></span>  idr_objsz = IDB_OBJ_HEAD_SIZE + <span class="keyword">sizeof</span>(<a class="code" href="classeyedb_1_1Oid.html" title="Not yet documented.">Oid</a>);
<a name="l01494"></a>01494   idr_psize = idr_objsz;
<a name="l01495"></a>01495   idr_vsize = 0;
<a name="l01496"></a>01496 }
<a name="l01497"></a>01497 
<a name="l01498"></a><a class="code" href="classeyedb_1_1OidClass.html#ad69b6ef53865f36e51658d40d98561eb">01498</a> <a class="code" href="classeyedb_1_1OidClass.html#abd9cb38437c994dd3eb15b0a11a426ec" title="Not yet documented.">OidClass::OidClass</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1OidClass.html" title="Not yet documented.">OidClass</a> &amp;cl)
<a name="l01499"></a>01499   : <a class="code" href="classeyedb_1_1BasicClass.html" title="Not yet documented.">BasicClass</a>(cl)
<a name="l01500"></a>01500 {
<a name="l01501"></a>01501 }
<a name="l01502"></a>01502 
<a name="l01503"></a><a class="code" href="classeyedb_1_1OidClass.html#a7f658d9abd36c6f86fea6c6667e3d240">01503</a> <a class="code" href="classeyedb_1_1OidClass.html" title="Not yet documented.">OidClass</a> &amp;<a class="code" href="classeyedb_1_1OidClass.html#a7f658d9abd36c6f86fea6c6667e3d240" title="Not yet documented.">OidClass::operator=</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1OidClass.html" title="Not yet documented.">OidClass</a> &amp;cl)
<a name="l01504"></a>01504 {
<a name="l01505"></a>01505   this-&gt;<a class="code" href="classeyedb_1_1OidClass.html#a7f658d9abd36c6f86fea6c6667e3d240" title="Not yet documented.">BasicClass::operator=</a>(cl);
<a name="l01506"></a>01506   <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l01507"></a>01507 }
<a name="l01508"></a>01508 
<a name="l01509"></a><a class="code" href="classeyedb_1_1OidClass.html#a10987a95b8a5f746f915af772d4141ed">01509</a> <a class="code" href="classeyedb_1_1Object.html" title="Not yet documented.">Object</a> *<a class="code" href="classeyedb_1_1OidClass.html#a10987a95b8a5f746f915af772d4141ed" title="Not yet documented.">OidClass::newObj</a>(<a class="code" href="classeyedb_1_1Database.html" title="Not yet documented.">Database</a> *_db)<span class="keyword"> const</span>
<a name="l01510"></a>01510 <span class="keyword"></span>{
<a name="l01511"></a>01511   <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classeyedb_1_1OidP.html" title="Not yet documented.">OidP</a>(_db);
<a name="l01512"></a>01512 }
<a name="l01513"></a>01513 
<a name="l01514"></a><a class="code" href="classeyedb_1_1OidClass.html#a0bb48f1735dfec404873cd3515b3dda9">01514</a> <a class="code" href="classeyedb_1_1Object.html" title="Not yet documented.">Object</a> *<a class="code" href="classeyedb_1_1OidClass.html#a10987a95b8a5f746f915af772d4141ed" title="Not yet documented.">OidClass::newObj</a>(Data data, Bool)<span class="keyword"> const</span>
<a name="l01515"></a>01515 <span class="keyword"></span>{
<a name="l01516"></a>01516 <span class="preprocessor">#ifdef E_XDR</span>
<a name="l01517"></a>01517 <span class="preprocessor"></span>  <a class="code" href="classeyedb_1_1Oid.html" title="Not yet documented.">Oid</a> _oid;
<a name="l01518"></a>01518   eyedbsm::x2h_oid(_oid.<a class="code" href="classeyedb_1_1Oid.html#afa1b151e54f74f0c9da35e6ad63f9d47" title="Not yet documented.">getOid</a>(), data);
<a name="l01519"></a>01519   <span class="comment">//Offset offset = 0;</span>
<a name="l01520"></a>01520   <span class="comment">//xdr_oid_decode(data, &amp;offset, _oid.getOid());</span>
<a name="l01521"></a>01521   <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classeyedb_1_1OidP.html" title="Not yet documented.">OidP</a>(&amp;_oid);
<a name="l01522"></a>01522 <span class="preprocessor">#else</span>
<a name="l01523"></a>01523 <span class="preprocessor"></span>  <a class="code" href="classeyedb_1_1Oid.html" title="Not yet documented.">Oid</a> _oid;
<a name="l01524"></a>01524   memcpy(&amp;_oid, data, <span class="keyword">sizeof</span>(<a class="code" href="classeyedb_1_1Oid.html" title="Not yet documented.">Oid</a>));
<a name="l01525"></a>01525   <span class="keywordflow">return</span> <span class="keyword">new</span> OidP(&amp;_oid);
<a name="l01526"></a>01526 <span class="preprocessor">#endif</span>
<a name="l01527"></a>01527 <span class="preprocessor"></span>}
<a name="l01528"></a>01528 
<a name="l01529"></a><a class="code" href="classeyedb_1_1OidClass.html#af455c8aacb7d81ea2c401dd57d392b99">01529</a> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1OidClass.html#af455c8aacb7d81ea2c401dd57d392b99" title="Not yet documented.">OidClass::traceData</a>(FILE *fd, <span class="keywordtype">int</span> indent, Data inidata,
<a name="l01530"></a>01530                                   Data data, <a class="code" href="classeyedb_1_1TypeModifier.html" title="Not yet documented.">TypeModifier</a> *tmod)<span class="keyword"> const</span>
<a name="l01531"></a>01531 <span class="keyword"></span>{
<a name="l01532"></a>01532   <span class="keywordtype">int</span> i;
<a name="l01533"></a>01533   <span class="keywordflow">if</span> (data)
<a name="l01534"></a>01534     {
<a name="l01535"></a>01535       <a class="code" href="classeyedb_1_1Oid.html" title="Not yet documented.">Oid</a> j;
<a name="l01536"></a>01536       <span class="keywordflow">if</span> (tmod)
<a name="l01537"></a>01537         {
<a name="l01538"></a>01538           <span class="keywordflow">if</span> (tmod-&gt;pdims &gt; 1)
<a name="l01539"></a>01539             {
<a name="l01540"></a>01540               <a class="code" href="classeyedb_1_1OidClass.html#af455c8aacb7d81ea2c401dd57d392b99" title="Not yet documented.">eyedb::traceData</a>(fd, indent, inidata, data, tmod, <span class="keyword">sizeof</span>(<a class="code" href="classeyedb_1_1Oid.html" title="Not yet documented.">Oid</a>),
<a name="l01541"></a>01541                           print_oid_data);
<a name="l01542"></a>01542             }
<a name="l01543"></a>01543           <span class="keywordflow">else</span>
<a name="l01544"></a>01544             {
<a name="l01545"></a>01545               <span class="comment">/*</span>
<a name="l01546"></a>01546 <span class="comment">              memcpy(&amp;j, data, sizeof(Oid));</span>
<a name="l01547"></a>01547 <span class="comment">              fprintf(fd, &quot;%s&quot;, j.getString());</span>
<a name="l01548"></a>01548 <span class="comment">              */</span>
<a name="l01549"></a>01549               print_xdr_oid_data(fd, data);
<a name="l01550"></a>01550             }
<a name="l01551"></a>01551         }
<a name="l01552"></a>01552       <span class="keywordflow">else</span>
<a name="l01553"></a>01553         {
<a name="l01554"></a>01554           <span class="comment">/*</span>
<a name="l01555"></a>01555 <span class="comment">          memcpy(&amp;j, data, sizeof(Oid));</span>
<a name="l01556"></a>01556 <span class="comment">          fprintf(fd, &quot;%s&quot;, j.getString());</span>
<a name="l01557"></a>01557 <span class="comment">          */</span>
<a name="l01558"></a>01558           print_xdr_oid_data(fd, data);
<a name="l01559"></a>01559         }
<a name="l01560"></a>01560     }
<a name="l01561"></a>01561   <span class="keywordflow">else</span>
<a name="l01562"></a>01562     fprintf(fd, <span class="stringliteral">&quot;&apos;&apos;&quot;</span>);
<a name="l01563"></a>01563 
<a name="l01564"></a>01564   <span class="keywordflow">return</span> Success;
<a name="l01565"></a>01565 }
<a name="l01566"></a>01566 
<a name="l01567"></a>01567 <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> OidClass::trace_realize(FILE *fd, <span class="keywordtype">int</span> indent, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags, <span class="keyword">const</span> <a class="code" href="classeyedb_1_1RecMode.html" title="Not yet documented.">RecMode</a> *rcm)<span class="keyword"> const</span>
<a name="l01568"></a>01568 <span class="keyword"></span>{
<a name="l01569"></a>01569   <span class="keywordflow">return</span> Class::trace_realize(fd, indent, flags, rcm);
<a name="l01570"></a>01570 }
<a name="l01571"></a>01571 
<a name="l01572"></a>01572 <span class="keywordtype">void</span>
<a name="l01573"></a>01573 OidClass::decode(<span class="keywordtype">void</span> * hdata, <span class="comment">// to</span>
<a name="l01574"></a>01574                     <span class="keyword">const</span> <span class="keywordtype">void</span> * xdata, <span class="comment">// from</span>
<a name="l01575"></a>01575                     Size incsize, <span class="comment">// temporarely necessary </span>
<a name="l01576"></a>01576                     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nb)<span class="keyword"> const</span>
<a name="l01577"></a>01577 <span class="keyword"></span>{
<a name="l01578"></a>01578 <span class="preprocessor">#ifdef E_XDR_TRACE</span>
<a name="l01579"></a>01579 <span class="preprocessor"></span>  std::cout &lt;&lt; <span class="stringliteral">&quot;OidClass::decode &quot;</span> &lt;&lt; name &lt;&lt; std::endl;
<a name="l01580"></a>01580 <span class="preprocessor">#endif</span>
<a name="l01581"></a>01581 <span class="preprocessor"></span>  CHECK_INCSIZE(<span class="stringliteral">&quot;decode&quot;</span>, incsize, <span class="keyword">sizeof</span>(Oid));
<a name="l01582"></a>01582 
<a name="l01583"></a>01583   <span class="keywordflow">if</span> (nb == 1) {
<a name="l01584"></a>01584     eyedbsm::Oid hoid;
<a name="l01585"></a>01585     eyedbsm::x2h_oid(&amp;hoid, xdata);
<a name="l01586"></a>01586     memcpy(hdata, &amp;hoid, <span class="keyword">sizeof</span>(hoid));
<a name="l01587"></a>01587     <span class="keywordflow">return</span>;
<a name="l01588"></a>01588   }
<a name="l01589"></a>01589 
<a name="l01590"></a>01590   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0, inc = 0; n &lt; nb; n++, inc += <span class="keyword">sizeof</span>(Oid)) {
<a name="l01591"></a>01591     eyedbsm::Oid hoid;
<a name="l01592"></a>01592     eyedbsm::x2h_oid(&amp;hoid, (<span class="keywordtype">char</span> *)xdata + inc);
<a name="l01593"></a>01593     memcpy((<span class="keywordtype">char</span> *)hdata + inc, &amp;hoid, <span class="keyword">sizeof</span>(hoid));
<a name="l01594"></a>01594   }
<a name="l01595"></a>01595 }
<a name="l01596"></a>01596 
<a name="l01597"></a>01597 
<a name="l01598"></a>01598 <span class="keywordtype">void</span>
<a name="l01599"></a>01599 OidClass::encode(<span class="keywordtype">void</span> * xdata, <span class="comment">// to</span>
<a name="l01600"></a>01600                       <span class="keyword">const</span> <span class="keywordtype">void</span> * hdata, <span class="comment">// from</span>
<a name="l01601"></a>01601                       Size incsize, <span class="comment">// temporarely necessary </span>
<a name="l01602"></a>01602                       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nb)<span class="keyword"> const</span>
<a name="l01603"></a>01603 <span class="keyword"></span>{
<a name="l01604"></a>01604 <span class="preprocessor">#ifdef E_XDR_TRACE</span>
<a name="l01605"></a>01605 <span class="preprocessor"></span>  std::cout &lt;&lt; <span class="stringliteral">&quot;OidClass::encode &quot;</span> &lt;&lt; name &lt;&lt; std::endl;
<a name="l01606"></a>01606 <span class="preprocessor">#endif</span>
<a name="l01607"></a>01607 <span class="preprocessor"></span>  CHECK_INCSIZE(<span class="stringliteral">&quot;encode&quot;</span>, incsize, <span class="keyword">sizeof</span>(Oid));
<a name="l01608"></a>01608 
<a name="l01609"></a>01609   <span class="keywordflow">if</span> (nb == 1) {
<a name="l01610"></a>01610     eyedbsm::Oid hoid;
<a name="l01611"></a>01611     memcpy(&amp;hoid, hdata, <span class="keyword">sizeof</span>(hoid));
<a name="l01612"></a>01612     eyedbsm::h2x_oid(xdata, &amp;hoid);
<a name="l01613"></a>01613     <span class="keywordflow">return</span>;
<a name="l01614"></a>01614   }
<a name="l01615"></a>01615 
<a name="l01616"></a>01616   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0, inc = 0; n &lt; nb; n++, inc += <span class="keyword">sizeof</span>(Oid)) {
<a name="l01617"></a>01617     eyedbsm::Oid hoid;
<a name="l01618"></a>01618     memcpy(&amp;hoid, (<span class="keywordtype">char</span> *)hdata + inc, <span class="keyword">sizeof</span>(hoid));
<a name="l01619"></a>01619     eyedbsm::h2x_oid((<span class="keywordtype">char</span> *)xdata + inc, &amp;hoid);
<a name="l01620"></a>01620   }
<a name="l01621"></a>01621 }
<a name="l01622"></a>01622 
<a name="l01623"></a>01623 <span class="keywordtype">int</span>
<a name="l01624"></a>01624 OidClass::cmp(<span class="keyword">const</span> <span class="keywordtype">void</span> * xdata,
<a name="l01625"></a>01625                  <span class="keyword">const</span> <span class="keywordtype">void</span> * hdata,
<a name="l01626"></a>01626                  Size incsize, <span class="comment">// temporarely necessary </span>
<a name="l01627"></a>01627                  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nb)<span class="keyword"> const</span>
<a name="l01628"></a>01628 <span class="keyword"></span>{
<a name="l01629"></a>01629 <span class="preprocessor">#ifdef E_XDR_TRACE</span>
<a name="l01630"></a>01630 <span class="preprocessor"></span>  std::cout &lt;&lt; <span class="stringliteral">&quot;OidClass::cmp &quot;</span> &lt;&lt; name;
<a name="l01631"></a>01631 <span class="preprocessor">#endif</span>
<a name="l01632"></a>01632 <span class="preprocessor"></span>  CHECK_INCSIZE(<span class="stringliteral">&quot;cmp&quot;</span>, incsize, <span class="keyword">sizeof</span>(Oid));
<a name="l01633"></a>01633 
<a name="l01634"></a>01634   <span class="keywordflow">if</span> (nb == 1) {
<a name="l01635"></a>01635     eyedbsm::Oid xoid;
<a name="l01636"></a>01636     eyedbsm::x2h_oid(&amp;xoid, xdata);
<a name="l01637"></a>01637     <span class="keywordtype">int</span> r = memcmp(&amp;xoid, hdata, <span class="keyword">sizeof</span>(xoid));
<a name="l01638"></a>01638 <span class="preprocessor">#ifdef E_XDR_TRACE</span>
<a name="l01639"></a>01639 <span class="preprocessor"></span>    std::cout &lt;&lt; <span class="stringliteral">&quot; -&gt; &quot;</span> &lt;&lt; r &lt;&lt; std::endl;
<a name="l01640"></a>01640 <span class="preprocessor">#endif</span>
<a name="l01641"></a>01641 <span class="preprocessor"></span>    <span class="keywordflow">return</span> r;
<a name="l01642"></a>01642   }
<a name="l01643"></a>01643 
<a name="l01644"></a>01644   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> n = 0, inc = 0; n &lt; nb; n++, inc += <span class="keyword">sizeof</span>(eyedbsm::Oid)) {
<a name="l01645"></a>01645     eyedbsm::Oid xoid;
<a name="l01646"></a>01646     eyedbsm::x2h_oid(&amp;xoid, (<span class="keywordtype">char</span> *)xdata + inc);
<a name="l01647"></a>01647     <span class="keywordtype">int</span> r = memcmp(&amp;xoid, (<span class="keywordtype">char</span> *)hdata + inc, <span class="keyword">sizeof</span>(eyedbsm::Oid));
<a name="l01648"></a>01648     <span class="keywordflow">if</span> (r)
<a name="l01649"></a>01649       <span class="keywordflow">return</span> r;
<a name="l01650"></a>01650   }
<a name="l01651"></a>01651 
<a name="l01652"></a>01652   <span class="keywordflow">return</span> 0;
<a name="l01653"></a>01653 }
<a name="l01654"></a>01654 
<a name="l01655"></a>01655 <span class="comment">//</span>
<a name="l01656"></a>01656 <span class="comment">// Char</span>
<a name="l01657"></a>01657 <span class="comment">//</span>
<a name="l01658"></a>01658 
<a name="l01659"></a><a class="code" href="classeyedb_1_1Char.html#ac364aefcd6e8b5f657338b16af4c2e2c">01659</a> <a class="code" href="classeyedb_1_1Char.html#ac364aefcd6e8b5f657338b16af4c2e2c" title="Not yet documented.">Char::Char</a>(<span class="keywordtype">char</span> c) : <a class="code" href="classeyedb_1_1Basic.html" title="Not yet documented.">Basic</a>()
<a name="l01660"></a>01660 {
<a name="l01661"></a>01661   setClass(Char_Class);
<a name="l01662"></a>01662   val = c;
<a name="l01663"></a>01663 
<a name="l01664"></a>01664   <span class="comment">/*</span>
<a name="l01665"></a>01665 <span class="comment">  idr-&gt;idr_sz = cls-&gt;getIDRObjectSize();</span>
<a name="l01666"></a>01666 <span class="comment">  idr-&gt;idr = (unsigned char *)malloc(idr-&gt;idr_sz);</span>
<a name="l01667"></a>01667 <span class="comment">  */</span>
<a name="l01668"></a>01668   type = Basic_Type;
<a name="l01669"></a>01669   idr-&gt;setIDR(<a class="code" href="classeyedb_1_1Object.html#a7d3e24a2bc7b368c8c39458ab0c3313e" title="Not yet documented.">getClass</a>()-&gt;getIDRObjectSize());
<a name="l01670"></a>01670 
<a name="l01671"></a>01671   headerCode(_Basic_Type, idr-&gt;getSize());
<a name="l01672"></a>01672 }
<a name="l01673"></a>01673 
<a name="l01674"></a><a class="code" href="classeyedb_1_1Char.html#a581e492beee0610a353612b54ff20f59">01674</a> <a class="code" href="classeyedb_1_1Char.html#ac364aefcd6e8b5f657338b16af4c2e2c" title="Not yet documented.">Char::Char</a>(<a class="code" href="classeyedb_1_1Database.html" title="Not yet documented.">Database</a> *_db, <span class="keywordtype">char</span> c, <span class="keyword">const</span> Dataspace *_dataspace) : <a class="code" href="classeyedb_1_1Basic.html" title="Not yet documented.">Basic</a>(_db, _dataspace)
<a name="l01675"></a>01675 {
<a name="l01676"></a>01676   setClass(Char_Class);
<a name="l01677"></a>01677   val = c;
<a name="l01678"></a>01678 
<a name="l01679"></a>01679   <span class="comment">/*</span>
<a name="l01680"></a>01680 <span class="comment">  idr-&gt;idr_sz = cls-&gt;getIDRObjectSize();</span>
<a name="l01681"></a>01681 <span class="comment">  idr-&gt;idr = (unsigned char *)malloc(idr-&gt;idr_sz);</span>
<a name="l01682"></a>01682 <span class="comment">  */</span>
<a name="l01683"></a>01683   idr-&gt;setIDR(<a class="code" href="classeyedb_1_1Object.html#a7d3e24a2bc7b368c8c39458ab0c3313e" title="Not yet documented.">getClass</a>()-&gt;getIDRObjectSize());
<a name="l01684"></a>01684   type = Basic_Type;
<a name="l01685"></a>01685 
<a name="l01686"></a>01686   headerCode(_Basic_Type, idr-&gt;getSize());
<a name="l01687"></a>01687 }
<a name="l01688"></a>01688 
<a name="l01689"></a><a class="code" href="classeyedb_1_1Char.html#ab1faf89a6a58c659a069a056a23ea694">01689</a> <a class="code" href="classeyedb_1_1Char.html#ac364aefcd6e8b5f657338b16af4c2e2c" title="Not yet documented.">Char::Char</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Char.html" title="Not yet documented.">Char</a> *o) : <a class="code" href="classeyedb_1_1Basic.html" title="Not yet documented.">Basic</a>(o)
<a name="l01690"></a>01690 {
<a name="l01691"></a>01691   val = (o ? o-&gt;val : 0);
<a name="l01692"></a>01692 }
<a name="l01693"></a>01693 
<a name="l01694"></a><a class="code" href="classeyedb_1_1Char.html#ab6a8bd9a31e08a2902cc1f743e515499">01694</a> <a class="code" href="classeyedb_1_1Char.html#ac364aefcd6e8b5f657338b16af4c2e2c" title="Not yet documented.">Char::Char</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Char.html" title="Not yet documented.">Char</a> &amp;o) : <a class="code" href="classeyedb_1_1Basic.html" title="Not yet documented.">Basic</a>(o)
<a name="l01695"></a>01695 {
<a name="l01696"></a>01696   val = o.val;
<a name="l01697"></a>01697 }
<a name="l01698"></a>01698 
<a name="l01699"></a><a class="code" href="classeyedb_1_1Char.html#a6ca6e29d329575476d0dc336b4013e43">01699</a> <a class="code" href="classeyedb_1_1Char.html" title="Not yet documented.">Char</a>&amp; <a class="code" href="classeyedb_1_1Char.html#a6ca6e29d329575476d0dc336b4013e43" title="Not yet documented.">Char::operator=</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Char.html" title="Not yet documented.">Char</a>&amp; o)
<a name="l01700"></a>01700 {
<a name="l01701"></a>01701   <span class="keywordflow">if</span> (&amp;o == <span class="keyword">this</span>)
<a name="l01702"></a>01702     <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l01703"></a>01703 
<a name="l01704"></a>01704   *(<a class="code" href="classeyedb_1_1Basic.html" title="Not yet documented.">Basic</a> *)<span class="keyword">this</span> = Basic::operator=((<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Basic.html" title="Not yet documented.">Basic</a> &amp;)o);
<a name="l01705"></a>01705 
<a name="l01706"></a>01706   val = o.val;
<a name="l01707"></a>01707   <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l01708"></a>01708 }
<a name="l01709"></a>01709 
<a name="l01710"></a><a class="code" href="classeyedb_1_1Char.html#a7685496ba2480e8f13b352fb8e042fcb">01710</a> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Char.html#a7685496ba2480e8f13b352fb8e042fcb" title="Not yet documented.">Char::setValue</a>(Data data)
<a name="l01711"></a>01711 {
<a name="l01712"></a>01712   val = *(<span class="keywordtype">char</span> *)data;
<a name="l01713"></a>01713   <span class="keywordflow">return</span> Success;
<a name="l01714"></a>01714 }
<a name="l01715"></a>01715 
<a name="l01716"></a><a class="code" href="classeyedb_1_1Char.html#a705408aa75d98f0272e2e4c794a81d38">01716</a> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Char.html#a705408aa75d98f0272e2e4c794a81d38" title="Not yet documented.">Char::getValue</a>(Data* data)<span class="keyword"> const</span>
<a name="l01717"></a>01717 <span class="keyword"></span>{
<a name="l01718"></a>01718   *data = (Data)&amp;val;
<a name="l01719"></a>01719   <span class="keywordflow">return</span> Success;
<a name="l01720"></a>01720 }
<a name="l01721"></a>01721 
<a name="l01722"></a>01722 <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> Char::create()
<a name="l01723"></a>01723 {
<a name="l01724"></a>01724   <span class="keywordflow">if</span> (oid.isValid())
<a name="l01725"></a>01725     <span class="keywordflow">return</span> <a class="code" href="classeyedb_1_1Exception.html#abef1b4931e6b7c02fc77915f5ffdb502" title="Not yet documented.">Exception::make</a>(IDB_OBJECT_ALREADY_CREATED, <span class="stringliteral">&quot;creating char&quot;</span>);
<a name="l01726"></a>01726 
<a name="l01727"></a>01727   IDB_CHECK_WRITE(db);
<a name="l01728"></a>01728 
<a name="l01729"></a>01729   RPCStatus rpc_status;
<a name="l01730"></a>01730   
<a name="l01731"></a>01731   Offset offset;
<a name="l01732"></a>01732   Size alloc_size;
<a name="l01733"></a>01733 
<a name="l01734"></a>01734   alloc_size = idr-&gt;getSize();
<a name="l01735"></a>01735   offset = IDB_OBJ_HEAD_SIZE;
<a name="l01736"></a>01736 
<a name="l01737"></a>01737   Data data = idr-&gt;getIDR();
<a name="l01738"></a>01738   char_code(&amp;data, &amp;offset, &amp;alloc_size, &amp;val);
<a name="l01739"></a>01739 
<a name="l01740"></a>01740   classOidCode();
<a name="l01741"></a>01741   rpc_status = objectCreate(db-&gt;getDbHandle(), getDataspaceID(),
<a name="l01742"></a>01742                                 data, oid.getOid());
<a name="l01743"></a>01743 
<a name="l01744"></a>01744   <span class="keywordflow">return</span> StatusMake(rpc_status);
<a name="l01745"></a>01745 }
<a name="l01746"></a>01746 
<a name="l01747"></a>01747 Status Char::update()
<a name="l01748"></a>01748 {
<a name="l01749"></a>01749   <span class="keywordflow">if</span> (!oid.isValid()) <span class="comment">/* &amp;&amp; modify */</span>
<a name="l01750"></a>01750     <span class="keywordflow">return</span> <a class="code" href="classeyedb_1_1Exception.html#abef1b4931e6b7c02fc77915f5ffdb502" title="Not yet documented.">Exception::make</a>(IDB_OBJECT_NOT_CREATED, <span class="stringliteral">&quot;updating char&quot;</span>);
<a name="l01751"></a>01751 
<a name="l01752"></a>01752   IDB_CHECK_WRITE(db);
<a name="l01753"></a>01753   RPCStatus rpc_status;
<a name="l01754"></a>01754   
<a name="l01755"></a>01755   Offset offset;
<a name="l01756"></a>01756   Size alloc_size;
<a name="l01757"></a>01757 
<a name="l01758"></a>01758   alloc_size = idr-&gt;getSize();
<a name="l01759"></a>01759   offset = IDB_OBJ_HEAD_SIZE;
<a name="l01760"></a>01760 
<a name="l01761"></a>01761   Data data = idr-&gt;getIDR();
<a name="l01762"></a>01762   char_code(&amp;data, &amp;offset, &amp;alloc_size, &amp;val);
<a name="l01763"></a>01763 
<a name="l01764"></a>01764   rpc_status = objectWrite(db-&gt;getDbHandle(), data, oid.getOid());
<a name="l01765"></a>01765 
<a name="l01766"></a>01766   <span class="keywordflow">return</span> Success;
<a name="l01767"></a>01767 }
<a name="l01768"></a>01768 
<a name="l01769"></a><a class="code" href="classeyedb_1_1Char.html#accc5990ea7c0a336e954f5efd57d4fbc">01769</a> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Char.html#accc5990ea7c0a336e954f5efd57d4fbc" title="Not yet documented.">Char::trace</a>(FILE* fd, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags, <span class="keyword">const</span> <a class="code" href="classeyedb_1_1RecMode.html" title="Not yet documented.">RecMode</a> *rcm)<span class="keyword"> const</span>
<a name="l01770"></a>01770 <span class="keyword"></span>{
<a name="l01771"></a>01771   fprintf(fd, <span class="stringliteral">&quot;%s char = &quot;</span>, oid.getString());
<a name="l01772"></a>01772   <span class="keywordflow">return</span> trace_realize(fd, INDENT_INC, flags, rcm);
<a name="l01773"></a>01773 }
<a name="l01774"></a>01774 
<a name="l01775"></a>01775 <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> Char::trace_realize(FILE* fd, <span class="keywordtype">int</span> indent, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags, <span class="keyword">const</span> <a class="code" href="classeyedb_1_1RecMode.html" title="Not yet documented.">RecMode</a> *rcm)<span class="keyword"> const</span>
<a name="l01776"></a>01776 <span class="keyword"></span>{
<a name="l01777"></a>01777   fprintf(fd, <span class="stringliteral">&quot;&apos;%c&apos;;\n&quot;</span>, val);
<a name="l01778"></a>01778   <span class="keywordflow">return</span> Success;
<a name="l01779"></a>01779 }
<a name="l01780"></a>01780 
<a name="l01781"></a>01781 <span class="comment">//</span>
<a name="l01782"></a>01782 <span class="comment">// Byte</span>
<a name="l01783"></a>01783 <span class="comment">//</span>
<a name="l01784"></a>01784 
<a name="l01785"></a><a class="code" href="classeyedb_1_1Byte.html#a5f8758da10d9fe123ed33deba838e270">01785</a> <a class="code" href="classeyedb_1_1Byte.html#a5f8758da10d9fe123ed33deba838e270" title="Not yet documented.">Byte::Byte</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> c) : <a class="code" href="classeyedb_1_1Basic.html" title="Not yet documented.">Basic</a>()
<a name="l01786"></a>01786 {
<a name="l01787"></a>01787   setClass(Byte_Class);
<a name="l01788"></a>01788   val = c;
<a name="l01789"></a>01789 
<a name="l01790"></a>01790   <span class="comment">/*</span>
<a name="l01791"></a>01791 <span class="comment">  idr-&gt;idr_sz = getClass()-&gt;getIDRObjectSize();</span>
<a name="l01792"></a>01792 <span class="comment">  idr-&gt;idr = (unsigned char *)malloc(idr-&gt;idr_sz);</span>
<a name="l01793"></a>01793 <span class="comment">  */</span>
<a name="l01794"></a>01794   idr-&gt;setIDR(<a class="code" href="classeyedb_1_1Object.html#a7d3e24a2bc7b368c8c39458ab0c3313e" title="Not yet documented.">getClass</a>()-&gt;getIDRObjectSize());
<a name="l01795"></a>01795   type = Basic_Type;
<a name="l01796"></a>01796 
<a name="l01797"></a>01797   headerCode(_Basic_Type, idr-&gt;getSize());
<a name="l01798"></a>01798 }
<a name="l01799"></a>01799 
<a name="l01800"></a><a class="code" href="classeyedb_1_1Byte.html#a29b4ae3192cb391a198d17c73c590f8f">01800</a> <a class="code" href="classeyedb_1_1Byte.html#a5f8758da10d9fe123ed33deba838e270" title="Not yet documented.">Byte::Byte</a>(<a class="code" href="classeyedb_1_1Database.html" title="Not yet documented.">Database</a> *_db, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> c, <span class="keyword">const</span> Dataspace *_dataspace) : <a class="code" href="classeyedb_1_1Basic.html" title="Not yet documented.">Basic</a>(_db, _dataspace)
<a name="l01801"></a>01801 {
<a name="l01802"></a>01802   setClass(Byte_Class);
<a name="l01803"></a>01803   val = c;
<a name="l01804"></a>01804 
<a name="l01805"></a>01805   <span class="comment">/*</span>
<a name="l01806"></a>01806 <span class="comment">  idr-&gt;idr_sz = getClass()-&gt;getIDRObjectSize();</span>
<a name="l01807"></a>01807 <span class="comment">  idr-&gt;idr = (unsigned char *)malloc(idr-&gt;idr_sz);</span>
<a name="l01808"></a>01808 <span class="comment">  */</span>
<a name="l01809"></a>01809   idr-&gt;setIDR(<a class="code" href="classeyedb_1_1Object.html#a7d3e24a2bc7b368c8c39458ab0c3313e" title="Not yet documented.">getClass</a>()-&gt;getIDRObjectSize());
<a name="l01810"></a>01810   type = Basic_Type;
<a name="l01811"></a>01811 
<a name="l01812"></a>01812   headerCode(_Basic_Type, idr-&gt;getSize());
<a name="l01813"></a>01813 }
<a name="l01814"></a>01814 
<a name="l01815"></a><a class="code" href="classeyedb_1_1Byte.html#aeaa9c6f1a1a23609a40791d6f93b7a1b">01815</a> <a class="code" href="classeyedb_1_1Byte.html#a5f8758da10d9fe123ed33deba838e270" title="Not yet documented.">Byte::Byte</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Byte.html" title="Not yet documented.">Byte</a> *o) : <a class="code" href="classeyedb_1_1Basic.html" title="Not yet documented.">Basic</a>(o)
<a name="l01816"></a>01816 {
<a name="l01817"></a>01817   val = (o ? o-&gt;val : 0);
<a name="l01818"></a>01818 }
<a name="l01819"></a>01819 
<a name="l01820"></a><a class="code" href="classeyedb_1_1Byte.html#a55b022d1a02aef1e8e43a106d3359304">01820</a> <a class="code" href="classeyedb_1_1Byte.html#a5f8758da10d9fe123ed33deba838e270" title="Not yet documented.">Byte::Byte</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Byte.html" title="Not yet documented.">Byte</a> &amp;o) : <a class="code" href="classeyedb_1_1Basic.html" title="Not yet documented.">Basic</a>(o)
<a name="l01821"></a>01821 {
<a name="l01822"></a>01822   val = o.val;
<a name="l01823"></a>01823 }
<a name="l01824"></a>01824 
<a name="l01825"></a><a class="code" href="classeyedb_1_1Byte.html#a071639995d188ae32afdd46f52e6a383">01825</a> <a class="code" href="classeyedb_1_1Byte.html" title="Not yet documented.">Byte</a>&amp; <a class="code" href="classeyedb_1_1Byte.html#a071639995d188ae32afdd46f52e6a383" title="Not yet documented.">Byte::operator=</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Byte.html" title="Not yet documented.">Byte</a>&amp; o)
<a name="l01826"></a>01826 {
<a name="l01827"></a>01827   <span class="keywordflow">if</span> (&amp;o == <span class="keyword">this</span>)
<a name="l01828"></a>01828     <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l01829"></a>01829 
<a name="l01830"></a>01830   *(<a class="code" href="classeyedb_1_1Basic.html" title="Not yet documented.">Basic</a> *)<span class="keyword">this</span> = Basic::operator=((<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Basic.html" title="Not yet documented.">Basic</a> &amp;)o);
<a name="l01831"></a>01831 
<a name="l01832"></a>01832   val = o.val;
<a name="l01833"></a>01833   <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l01834"></a>01834 }
<a name="l01835"></a>01835 
<a name="l01836"></a><a class="code" href="classeyedb_1_1Byte.html#a78225c3b5e669df4c33472e84112615d">01836</a> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Byte.html#a78225c3b5e669df4c33472e84112615d" title="Not yet documented.">Byte::setValue</a>(Data data)
<a name="l01837"></a>01837 {
<a name="l01838"></a>01838   val = *(<span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *)data;
<a name="l01839"></a>01839   <span class="keywordflow">return</span> Success;
<a name="l01840"></a>01840 }
<a name="l01841"></a>01841 
<a name="l01842"></a><a class="code" href="classeyedb_1_1Byte.html#a2232507d1a55974a70ebbec0f1a931d7">01842</a> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Byte.html#a2232507d1a55974a70ebbec0f1a931d7" title="Not yet documented.">Byte::getValue</a>(Data* data)<span class="keyword"> const</span>
<a name="l01843"></a>01843 <span class="keyword"></span>{
<a name="l01844"></a>01844   *data = (Data)&amp;val;
<a name="l01845"></a>01845   <span class="keywordflow">return</span> Success;
<a name="l01846"></a>01846 }
<a name="l01847"></a>01847 
<a name="l01848"></a>01848 <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> Byte::create()
<a name="l01849"></a>01849 {
<a name="l01850"></a>01850   <span class="keywordflow">if</span> (oid.isValid())
<a name="l01851"></a>01851     <span class="keywordflow">return</span> <a class="code" href="classeyedb_1_1Exception.html#abef1b4931e6b7c02fc77915f5ffdb502" title="Not yet documented.">Exception::make</a>(IDB_OBJECT_ALREADY_CREATED, <span class="stringliteral">&quot;creating Byte&quot;</span>);
<a name="l01852"></a>01852 
<a name="l01853"></a>01853   IDB_CHECK_WRITE(db);
<a name="l01854"></a>01854 
<a name="l01855"></a>01855   RPCStatus rpc_status;
<a name="l01856"></a>01856   
<a name="l01857"></a>01857   Offset offset;
<a name="l01858"></a>01858   Size alloc_size;
<a name="l01859"></a>01859 
<a name="l01860"></a>01860   alloc_size = idr-&gt;getSize();
<a name="l01861"></a>01861   offset = IDB_OBJ_HEAD_SIZE;
<a name="l01862"></a>01862   Data data = idr-&gt;getIDR();
<a name="l01863"></a>01863   char_code(&amp;data, &amp;offset, &amp;alloc_size, (<span class="keywordtype">char</span> *)&amp;val);
<a name="l01864"></a>01864 
<a name="l01865"></a>01865   classOidCode();
<a name="l01866"></a>01866   rpc_status = objectCreate(db-&gt;getDbHandle(), getDataspaceID(),
<a name="l01867"></a>01867                                 data, oid.getOid());
<a name="l01868"></a>01868 
<a name="l01869"></a>01869   <span class="keywordflow">return</span> StatusMake(rpc_status);
<a name="l01870"></a>01870 }
<a name="l01871"></a>01871 
<a name="l01872"></a>01872 Status Byte::update()
<a name="l01873"></a>01873 {
<a name="l01874"></a>01874   <span class="keywordflow">if</span> (!oid.isValid()) <span class="comment">/* &amp;&amp; modify */</span>
<a name="l01875"></a>01875     <span class="keywordflow">return</span> <a class="code" href="classeyedb_1_1Exception.html#abef1b4931e6b7c02fc77915f5ffdb502" title="Not yet documented.">Exception::make</a>(IDB_OBJECT_NOT_CREATED, <span class="stringliteral">&quot;updating byte&quot;</span>);
<a name="l01876"></a>01876 
<a name="l01877"></a>01877   IDB_CHECK_WRITE(db);
<a name="l01878"></a>01878   RPCStatus rpc_status;
<a name="l01879"></a>01879   
<a name="l01880"></a>01880   Offset offset;
<a name="l01881"></a>01881   Size alloc_size;
<a name="l01882"></a>01882 
<a name="l01883"></a>01883   alloc_size = idr-&gt;getSize();
<a name="l01884"></a>01884   offset = IDB_OBJ_HEAD_SIZE;
<a name="l01885"></a>01885 
<a name="l01886"></a>01886   Data data = idr-&gt;getIDR();
<a name="l01887"></a>01887   char_code(&amp;data, &amp;offset, &amp;alloc_size, (<span class="keywordtype">char</span> *)&amp;val);
<a name="l01888"></a>01888 
<a name="l01889"></a>01889   rpc_status = objectWrite(db-&gt;getDbHandle(), data, oid.getOid());
<a name="l01890"></a>01890 
<a name="l01891"></a>01891   <span class="keywordflow">return</span> Success;
<a name="l01892"></a>01892 }
<a name="l01893"></a>01893 
<a name="l01894"></a><a class="code" href="classeyedb_1_1Byte.html#af659583b3f484797a05c157ca8a65298">01894</a> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Byte.html#af659583b3f484797a05c157ca8a65298" title="Not yet documented.">Byte::trace</a>(FILE* fd, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags, <span class="keyword">const</span> <a class="code" href="classeyedb_1_1RecMode.html" title="Not yet documented.">RecMode</a> *rcm)<span class="keyword"> const</span>
<a name="l01895"></a>01895 <span class="keyword"></span>{
<a name="l01896"></a>01896   fprintf(fd, <span class="stringliteral">&quot;%s byte = &quot;</span>, oid.getString());
<a name="l01897"></a>01897   <span class="keywordflow">return</span> trace_realize(fd, INDENT_INC, flags, rcm);
<a name="l01898"></a>01898 }
<a name="l01899"></a>01899 
<a name="l01900"></a>01900 <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> Byte::trace_realize(FILE* fd, <span class="keywordtype">int</span> indent, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags, <span class="keyword">const</span> <a class="code" href="classeyedb_1_1RecMode.html" title="Not yet documented.">RecMode</a> *rcm)<span class="keyword"> const</span>
<a name="l01901"></a>01901 <span class="keyword"></span>{
<a name="l01902"></a>01902   fprintf(fd, <span class="stringliteral">&quot;&apos;\\%03o&apos;;\n&quot;</span>, val);
<a name="l01903"></a>01903   <span class="keywordflow">return</span> Success;
<a name="l01904"></a>01904 }
<a name="l01905"></a>01905 
<a name="l01906"></a>01906 <span class="comment">//</span>
<a name="l01907"></a>01907 <span class="comment">// Int16</span>
<a name="l01908"></a>01908 <span class="comment">//</span>
<a name="l01909"></a>01909 
<a name="l01910"></a><a class="code" href="classeyedb_1_1Int16.html#a43ab3dce91ca6c50f781f29d456f9ac2">01910</a> <a class="code" href="classeyedb_1_1Int16.html#a43ab3dce91ca6c50f781f29d456f9ac2" title="Not yet documented.">Int16::Int16</a>(eyedblib::int16 i) : <a class="code" href="classeyedb_1_1Basic.html" title="Not yet documented.">Basic</a>()
<a name="l01911"></a>01911 {
<a name="l01912"></a>01912   setClass(Int16_Class);
<a name="l01913"></a>01913   val = i;
<a name="l01914"></a>01914 
<a name="l01915"></a>01915   <span class="comment">/*</span>
<a name="l01916"></a>01916 <span class="comment">  idr-&gt;idr_sz = getClass()-&gt;getIDRObjectSize();</span>
<a name="l01917"></a>01917 <span class="comment">  idr-&gt;idr = (unsigned char *)malloc(idr-&gt;idr_sz);</span>
<a name="l01918"></a>01918 <span class="comment">  */</span>
<a name="l01919"></a>01919   idr-&gt;setIDR(<a class="code" href="classeyedb_1_1Object.html#a7d3e24a2bc7b368c8c39458ab0c3313e" title="Not yet documented.">getClass</a>()-&gt;getIDRObjectSize());
<a name="l01920"></a>01920 
<a name="l01921"></a>01921   type = Basic_Type;
<a name="l01922"></a>01922 
<a name="l01923"></a>01923   headerCode(_Basic_Type, idr-&gt;getSize());
<a name="l01924"></a>01924 }
<a name="l01925"></a>01925 
<a name="l01926"></a><a class="code" href="classeyedb_1_1Int16.html#aa735e0bc8972b9b407d6132c611df2c0">01926</a> <a class="code" href="classeyedb_1_1Int16.html#a43ab3dce91ca6c50f781f29d456f9ac2" title="Not yet documented.">Int16::Int16</a>(<a class="code" href="classeyedb_1_1Database.html" title="Not yet documented.">Database</a> *_db, eyedblib::int16 i, <span class="keyword">const</span> Dataspace *_dataspace) : <a class="code" href="classeyedb_1_1Basic.html" title="Not yet documented.">Basic</a>(_db, _dataspace)
<a name="l01927"></a>01927 {
<a name="l01928"></a>01928   setClass(Int16_Class);
<a name="l01929"></a>01929   val = i;
<a name="l01930"></a>01930 
<a name="l01931"></a>01931   <span class="comment">/*</span>
<a name="l01932"></a>01932 <span class="comment">  idr-&gt;idr_sz = getClass()-&gt;getIDRObjectSize();</span>
<a name="l01933"></a>01933 <span class="comment">  idr-&gt;idr = (unsigned char *)malloc(idr-&gt;idr_sz);</span>
<a name="l01934"></a>01934 <span class="comment">  */</span>
<a name="l01935"></a>01935   idr-&gt;setIDR(<a class="code" href="classeyedb_1_1Object.html#a7d3e24a2bc7b368c8c39458ab0c3313e" title="Not yet documented.">getClass</a>()-&gt;getIDRObjectSize());
<a name="l01936"></a>01936 
<a name="l01937"></a>01937   type = Basic_Type;
<a name="l01938"></a>01938 
<a name="l01939"></a>01939   headerCode(_Basic_Type, idr-&gt;getSize());
<a name="l01940"></a>01940 }
<a name="l01941"></a>01941 
<a name="l01942"></a><a class="code" href="classeyedb_1_1Int16.html#a8f0d6ead9bc146377c5c5a690dcc57ee">01942</a> <a class="code" href="classeyedb_1_1Int16.html#a43ab3dce91ca6c50f781f29d456f9ac2" title="Not yet documented.">Int16::Int16</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Int16.html" title="Not yet documented.">Int16</a> *o) : <a class="code" href="classeyedb_1_1Basic.html" title="Not yet documented.">Basic</a>(o)
<a name="l01943"></a>01943 {
<a name="l01944"></a>01944   val = (o ? o-&gt;val : 0);
<a name="l01945"></a>01945 }
<a name="l01946"></a>01946 
<a name="l01947"></a><a class="code" href="classeyedb_1_1Int16.html#aaa5161ea0079b1272a350d32ae690e43">01947</a> <a class="code" href="classeyedb_1_1Int16.html#a43ab3dce91ca6c50f781f29d456f9ac2" title="Not yet documented.">Int16::Int16</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Int16.html" title="Not yet documented.">Int16</a> &amp;o) : <a class="code" href="classeyedb_1_1Basic.html" title="Not yet documented.">Basic</a>(o)
<a name="l01948"></a>01948 {
<a name="l01949"></a>01949   val = o.val;
<a name="l01950"></a>01950 }
<a name="l01951"></a>01951 
<a name="l01952"></a><a class="code" href="classeyedb_1_1Int16.html#a5b5a6f18970b88a2a22b79f0e754f400">01952</a> <a class="code" href="classeyedb_1_1Int16.html" title="Not yet documented.">Int16</a>&amp; <a class="code" href="classeyedb_1_1Int16.html#a5b5a6f18970b88a2a22b79f0e754f400" title="Not yet documented.">Int16::operator=</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Int16.html" title="Not yet documented.">Int16</a>&amp; o)
<a name="l01953"></a>01953 {
<a name="l01954"></a>01954   <span class="keywordflow">if</span> (&amp;o == <span class="keyword">this</span>)
<a name="l01955"></a>01955     <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l01956"></a>01956 
<a name="l01957"></a>01957   *(<a class="code" href="classeyedb_1_1Basic.html" title="Not yet documented.">Basic</a> *)<span class="keyword">this</span> = Basic::operator=((<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Basic.html" title="Not yet documented.">Basic</a> &amp;)o);
<a name="l01958"></a>01958 
<a name="l01959"></a>01959   val = o.val;
<a name="l01960"></a>01960   <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l01961"></a>01961 }
<a name="l01962"></a>01962 
<a name="l01963"></a><a class="code" href="classeyedb_1_1Int16.html#ae5f017935c9fcdd6e2b02316593c53e8">01963</a> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Int16.html#ae5f017935c9fcdd6e2b02316593c53e8" title="Not yet documented.">Int16::trace</a>(FILE* fd, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags, <span class="keyword">const</span> <a class="code" href="classeyedb_1_1RecMode.html" title="Not yet documented.">RecMode</a> *rcm)<span class="keyword"> const</span>
<a name="l01964"></a>01964 <span class="keyword"></span>{
<a name="l01965"></a>01965   fprintf(fd, <span class="stringliteral">&quot;%s int16 = &quot;</span>, oid.getString());
<a name="l01966"></a>01966   <span class="keywordflow">return</span> trace_realize(fd, INDENT_INC, flags, rcm);
<a name="l01967"></a>01967 }
<a name="l01968"></a>01968 
<a name="l01969"></a>01969 <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> Int16::trace_realize(FILE* fd, <span class="keywordtype">int</span> indent, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags, <span class="keyword">const</span> <a class="code" href="classeyedb_1_1RecMode.html" title="Not yet documented.">RecMode</a> *rcm)<span class="keyword"> const</span>
<a name="l01970"></a>01970 <span class="keyword"></span>{
<a name="l01971"></a>01971   fprintf(fd, <span class="stringliteral">&quot;%d;\n&quot;</span>, val);
<a name="l01972"></a>01972   <span class="keywordflow">return</span> Success;
<a name="l01973"></a>01973 }
<a name="l01974"></a>01974 
<a name="l01975"></a>01975 Status Int16::create()
<a name="l01976"></a>01976 {
<a name="l01977"></a>01977   <span class="keywordflow">if</span> (oid.isValid())
<a name="l01978"></a>01978     <span class="keywordflow">return</span> <a class="code" href="classeyedb_1_1Exception.html#abef1b4931e6b7c02fc77915f5ffdb502" title="Not yet documented.">Exception::make</a>(IDB_OBJECT_ALREADY_CREATED, <span class="stringliteral">&quot;creating eyedblib::int16&quot;</span>);
<a name="l01979"></a>01979 
<a name="l01980"></a>01980   IDB_CHECK_WRITE(db);
<a name="l01981"></a>01981 
<a name="l01982"></a>01982   RPCStatus rpc_status;
<a name="l01983"></a>01983   
<a name="l01984"></a>01984   Offset offset;
<a name="l01985"></a>01985   Size alloc_size;
<a name="l01986"></a>01986 
<a name="l01987"></a>01987   alloc_size = idr-&gt;getSize();
<a name="l01988"></a>01988   offset = IDB_OBJ_HEAD_SIZE;
<a name="l01989"></a>01989 
<a name="l01990"></a>01990   Data data = idr-&gt;getIDR();
<a name="l01991"></a>01991   xdr_int16_code(&amp;data, &amp;offset, &amp;alloc_size, &amp;val);
<a name="l01992"></a>01992 
<a name="l01993"></a>01993   classOidCode();
<a name="l01994"></a>01994   rpc_status = objectCreate(db-&gt;getDbHandle(), getDataspaceID(),
<a name="l01995"></a>01995                                 data, oid.getOid());
<a name="l01996"></a>01996 
<a name="l01997"></a>01997   <span class="keywordflow">return</span> StatusMake(rpc_status);
<a name="l01998"></a>01998 }
<a name="l01999"></a>01999 
<a name="l02000"></a>02000 Status Int16::update()
<a name="l02001"></a>02001 {
<a name="l02002"></a>02002   <span class="keywordflow">if</span> (!oid.isValid()) <span class="comment">/* &amp;&amp; modify */</span>
<a name="l02003"></a>02003     <span class="keywordflow">return</span> <a class="code" href="classeyedb_1_1Exception.html#abef1b4931e6b7c02fc77915f5ffdb502" title="Not yet documented.">Exception::make</a>(IDB_OBJECT_NOT_CREATED, <span class="stringliteral">&quot;updating eyedblib::int16&quot;</span>);
<a name="l02004"></a>02004 
<a name="l02005"></a>02005   IDB_CHECK_WRITE(db);
<a name="l02006"></a>02006   RPCStatus rpc_status;
<a name="l02007"></a>02007   
<a name="l02008"></a>02008   Offset offset;
<a name="l02009"></a>02009   Size alloc_size;
<a name="l02010"></a>02010 
<a name="l02011"></a>02011   alloc_size = idr-&gt;getSize();
<a name="l02012"></a>02012   offset = IDB_OBJ_HEAD_SIZE;
<a name="l02013"></a>02013 
<a name="l02014"></a>02014   Data data = idr-&gt;getIDR();
<a name="l02015"></a>02015   xdr_int16_code(&amp;data, &amp;offset, &amp;alloc_size, &amp;val);
<a name="l02016"></a>02016 
<a name="l02017"></a>02017   rpc_status = objectWrite(db-&gt;getDbHandle(), data, oid.getOid());
<a name="l02018"></a>02018 
<a name="l02019"></a>02019   <span class="keywordflow">return</span> Success;
<a name="l02020"></a>02020 }
<a name="l02021"></a>02021 
<a name="l02022"></a><a class="code" href="classeyedb_1_1Int16.html#a9178b6df100208e90942ed4ef6f50c32">02022</a> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Int16.html#a9178b6df100208e90942ed4ef6f50c32" title="Not yet documented.">Int16::setValue</a>(Data data)
<a name="l02023"></a>02023 {
<a name="l02024"></a>02024   memcpy(&amp;val, data, <span class="keyword">sizeof</span>(eyedblib::int16));
<a name="l02025"></a>02025   <span class="keywordflow">return</span> Success;
<a name="l02026"></a>02026 }
<a name="l02027"></a>02027 
<a name="l02028"></a><a class="code" href="classeyedb_1_1Int16.html#a323d40bbd1756eafa7a33b8c51ab9037">02028</a> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Int16.html#a323d40bbd1756eafa7a33b8c51ab9037" title="Not yet documented.">Int16::getValue</a>(Data* data)<span class="keyword"> const</span>
<a name="l02029"></a>02029 <span class="keyword"></span>{
<a name="l02030"></a>02030   *data = (Data)&amp;val;
<a name="l02031"></a>02031   <span class="keywordflow">return</span> Success;
<a name="l02032"></a>02032 }
<a name="l02033"></a>02033 
<a name="l02034"></a>02034 <span class="comment">//</span>
<a name="l02035"></a>02035 <span class="comment">// OidP</span>
<a name="l02036"></a>02036 <span class="comment">//</span>
<a name="l02037"></a>02037 
<a name="l02038"></a><a class="code" href="classeyedb_1_1OidP.html#a053b0fdd8a0b02544c32ec3a2137b17f">02038</a> <a class="code" href="classeyedb_1_1OidP.html#a053b0fdd8a0b02544c32ec3a2137b17f" title="Not yet documented.">OidP::OidP</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Oid.html" title="Not yet documented.">Oid</a> *_oid) : <a class="code" href="classeyedb_1_1Basic.html" title="Not yet documented.">Basic</a>()
<a name="l02039"></a>02039 {
<a name="l02040"></a>02040   setClass(OidP_Class);
<a name="l02041"></a>02041 
<a name="l02042"></a>02042   <span class="keywordflow">if</span> (_oid)
<a name="l02043"></a>02043     val = *_oid;
<a name="l02044"></a>02044 
<a name="l02045"></a>02045   <span class="comment">/*</span>
<a name="l02046"></a>02046 <span class="comment">  idr-&gt;idr_sz = getClass()-&gt;getIDRObjectSize();</span>
<a name="l02047"></a>02047 <span class="comment">  idr-&gt;idr = (unsigned char *)malloc(idr-&gt;idr_sz);</span>
<a name="l02048"></a>02048 <span class="comment">  */</span>
<a name="l02049"></a>02049   idr-&gt;setIDR(<a class="code" href="classeyedb_1_1Object.html#a7d3e24a2bc7b368c8c39458ab0c3313e" title="Not yet documented.">getClass</a>()-&gt;getIDRObjectSize());
<a name="l02050"></a>02050 
<a name="l02051"></a>02051   type = Basic_Type;
<a name="l02052"></a>02052 
<a name="l02053"></a>02053   headerCode(_Basic_Type, idr-&gt;getSize());
<a name="l02054"></a>02054 }
<a name="l02055"></a>02055 
<a name="l02056"></a><a class="code" href="classeyedb_1_1OidP.html#a5684db139bfd3304cb9780ef9b9b8615">02056</a> <a class="code" href="classeyedb_1_1OidP.html#a053b0fdd8a0b02544c32ec3a2137b17f" title="Not yet documented.">OidP::OidP</a>(<a class="code" href="classeyedb_1_1Database.html" title="Not yet documented.">Database</a> *_db, <span class="keyword">const</span> <a class="code" href="classeyedb_1_1Oid.html" title="Not yet documented.">Oid</a> *_oid, <span class="keyword">const</span> Dataspace *_dataspace) : <a class="code" href="classeyedb_1_1Basic.html" title="Not yet documented.">Basic</a>(_db, _dataspace)
<a name="l02057"></a>02057 {
<a name="l02058"></a>02058   setClass(OidP_Class);
<a name="l02059"></a>02059 
<a name="l02060"></a>02060   <span class="keywordflow">if</span> (_oid)
<a name="l02061"></a>02061     val = *_oid;
<a name="l02062"></a>02062 
<a name="l02063"></a>02063   <span class="comment">/*</span>
<a name="l02064"></a>02064 <span class="comment">  idr-&gt;idr_sz = getClass()-&gt;getIDRObjectSize();</span>
<a name="l02065"></a>02065 <span class="comment">  idr-&gt;idr = (unsigned char *)malloc(idr-&gt;idr_sz);</span>
<a name="l02066"></a>02066 <span class="comment">  */</span>
<a name="l02067"></a>02067   idr-&gt;setIDR(<a class="code" href="classeyedb_1_1Object.html#a7d3e24a2bc7b368c8c39458ab0c3313e" title="Not yet documented.">getClass</a>()-&gt;getIDRObjectSize());
<a name="l02068"></a>02068 
<a name="l02069"></a>02069   type = Basic_Type;
<a name="l02070"></a>02070 
<a name="l02071"></a>02071   headerCode(_Basic_Type, idr-&gt;getSize());
<a name="l02072"></a>02072 }
<a name="l02073"></a>02073 
<a name="l02074"></a><a class="code" href="classeyedb_1_1OidP.html#a2b4692646ea3f62b4d91327f77b8a06b">02074</a> <a class="code" href="classeyedb_1_1OidP.html#a053b0fdd8a0b02544c32ec3a2137b17f" title="Not yet documented.">OidP::OidP</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1OidP.html" title="Not yet documented.">OidP</a> *o) : <a class="code" href="classeyedb_1_1Basic.html" title="Not yet documented.">Basic</a>(o)
<a name="l02075"></a>02075 {
<a name="l02076"></a>02076   <span class="keywordflow">if</span> (o)
<a name="l02077"></a>02077     val = o-&gt;val;
<a name="l02078"></a>02078 }
<a name="l02079"></a>02079 
<a name="l02080"></a><a class="code" href="classeyedb_1_1OidP.html#a4fd8a113515c68860feb62724d516001">02080</a> <a class="code" href="classeyedb_1_1OidP.html#a053b0fdd8a0b02544c32ec3a2137b17f" title="Not yet documented.">OidP::OidP</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1OidP.html" title="Not yet documented.">OidP</a> &amp;o) : <a class="code" href="classeyedb_1_1Basic.html" title="Not yet documented.">Basic</a>(o)
<a name="l02081"></a>02081 {
<a name="l02082"></a>02082   val = o.val;
<a name="l02083"></a>02083 }
<a name="l02084"></a>02084 
<a name="l02085"></a><a class="code" href="classeyedb_1_1OidP.html#ac12359b6c7bf7922a4805eb941d1dbfe">02085</a> <a class="code" href="classeyedb_1_1OidP.html" title="Not yet documented.">OidP</a>&amp; <a class="code" href="classeyedb_1_1OidP.html#ac12359b6c7bf7922a4805eb941d1dbfe" title="Not yet documented.">OidP::operator=</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1OidP.html" title="Not yet documented.">OidP</a>&amp; o)
<a name="l02086"></a>02086 {
<a name="l02087"></a>02087   <span class="keywordflow">if</span> (&amp;o == <span class="keyword">this</span>)
<a name="l02088"></a>02088     <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l02089"></a>02089 
<a name="l02090"></a>02090   *(<a class="code" href="classeyedb_1_1Basic.html" title="Not yet documented.">Basic</a> *)<span class="keyword">this</span> = Basic::operator=((<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Basic.html" title="Not yet documented.">Basic</a> &amp;)o);
<a name="l02091"></a>02091 
<a name="l02092"></a>02092   val = o.val;
<a name="l02093"></a>02093   <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l02094"></a>02094 }
<a name="l02095"></a>02095 
<a name="l02096"></a><a class="code" href="classeyedb_1_1OidP.html#a31ce450478943ff84a86cf5b57c7557e">02096</a> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1OidP.html#a31ce450478943ff84a86cf5b57c7557e" title="Not yet documented.">OidP::trace</a>(FILE* fd, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags, <span class="keyword">const</span> <a class="code" href="classeyedb_1_1RecMode.html" title="Not yet documented.">RecMode</a> *rcm)<span class="keyword"> const</span>
<a name="l02097"></a>02097 <span class="keyword"></span>{
<a name="l02098"></a>02098   fprintf(fd, <span class="stringliteral">&quot;%s oid = &quot;</span>, oid.getString());
<a name="l02099"></a>02099   <span class="keywordflow">return</span> trace_realize(fd, INDENT_INC, flags, rcm);
<a name="l02100"></a>02100 }
<a name="l02101"></a>02101 
<a name="l02102"></a>02102 <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> OidP::trace_realize(FILE* fd, <span class="keywordtype">int</span> indent, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags, <span class="keyword">const</span> <a class="code" href="classeyedb_1_1RecMode.html" title="Not yet documented.">RecMode</a> *rcm)<span class="keyword"> const</span>
<a name="l02103"></a>02103 <span class="keyword"></span>{
<a name="l02104"></a>02104   fprintf(fd, <span class="stringliteral">&quot;%s;\n&quot;</span>, val.<a class="code" href="classeyedb_1_1Oid.html#acd55f1b6e66455b9875296c9ff413984" title="Not yet documented.">getString</a>());
<a name="l02105"></a>02105   <span class="keywordflow">return</span> Success;
<a name="l02106"></a>02106 }
<a name="l02107"></a>02107 
<a name="l02108"></a>02108 Status OidP::create()
<a name="l02109"></a>02109 {
<a name="l02110"></a>02110   <span class="keywordflow">if</span> (oid.isValid())
<a name="l02111"></a>02111     <span class="keywordflow">return</span> <a class="code" href="classeyedb_1_1Exception.html#abef1b4931e6b7c02fc77915f5ffdb502" title="Not yet documented.">Exception::make</a>(IDB_OBJECT_ALREADY_CREATED, <span class="stringliteral">&quot;creating OidP&quot;</span>);
<a name="l02112"></a>02112 
<a name="l02113"></a>02113   IDB_CHECK_WRITE(db);
<a name="l02114"></a>02114   RPCStatus rpc_status;
<a name="l02115"></a>02115   
<a name="l02116"></a>02116   Offset offset;
<a name="l02117"></a>02117   Size alloc_size;
<a name="l02118"></a>02118 
<a name="l02119"></a>02119   alloc_size = idr-&gt;getSize();
<a name="l02120"></a>02120   offset = IDB_OBJ_HEAD_SIZE;
<a name="l02121"></a>02121 
<a name="l02122"></a>02122   Data data = idr-&gt;getIDR();
<a name="l02123"></a>02123   xdr_oid_code(&amp;data, &amp;offset, &amp;alloc_size, val.getOid());
<a name="l02124"></a>02124 
<a name="l02125"></a>02125   classOidCode();
<a name="l02126"></a>02126   rpc_status = objectCreate(db-&gt;getDbHandle(), getDataspaceID(), data, oid.getOid());
<a name="l02127"></a>02127 
<a name="l02128"></a>02128   <span class="keywordflow">return</span> StatusMake(rpc_status);
<a name="l02129"></a>02129 }
<a name="l02130"></a>02130 
<a name="l02131"></a>02131 Status OidP::update()
<a name="l02132"></a>02132 {
<a name="l02133"></a>02133   <span class="keywordflow">if</span> (!oid.isValid()) <span class="comment">/* &amp;&amp; modify */</span>
<a name="l02134"></a>02134     <span class="keywordflow">return</span> <a class="code" href="classeyedb_1_1Exception.html#abef1b4931e6b7c02fc77915f5ffdb502" title="Not yet documented.">Exception::make</a>(IDB_OBJECT_NOT_CREATED, <span class="stringliteral">&quot;updating OidP&quot;</span>);
<a name="l02135"></a>02135 
<a name="l02136"></a>02136   IDB_CHECK_WRITE(db);
<a name="l02137"></a>02137   RPCStatus rpc_status;
<a name="l02138"></a>02138   
<a name="l02139"></a>02139   Offset offset;
<a name="l02140"></a>02140   Size alloc_size;
<a name="l02141"></a>02141 
<a name="l02142"></a>02142   alloc_size = idr-&gt;getSize();
<a name="l02143"></a>02143   offset = IDB_OBJ_HEAD_SIZE;
<a name="l02144"></a>02144 
<a name="l02145"></a>02145   Data data = idr-&gt;getIDR();
<a name="l02146"></a>02146   xdr_oid_code(&amp;data, &amp;offset, &amp;alloc_size, val.getOid());
<a name="l02147"></a>02147 
<a name="l02148"></a>02148   rpc_status = objectWrite(db-&gt;getDbHandle(), data, oid.getOid());
<a name="l02149"></a>02149 
<a name="l02150"></a>02150   <span class="keywordflow">return</span> Success;
<a name="l02151"></a>02151 }
<a name="l02152"></a>02152 
<a name="l02153"></a><a class="code" href="classeyedb_1_1OidP.html#a1a1ffa2bc2d142a32bacf0615342d843">02153</a> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1OidP.html#a1a1ffa2bc2d142a32bacf0615342d843" title="Not yet documented.">OidP::setValue</a>(Data data)
<a name="l02154"></a>02154 {
<a name="l02155"></a>02155   memcpy(&amp;val, data, <span class="keyword">sizeof</span>(<a class="code" href="classeyedb_1_1Oid.html" title="Not yet documented.">Oid</a>));
<a name="l02156"></a>02156   <span class="keywordflow">return</span> Success;
<a name="l02157"></a>02157 }
<a name="l02158"></a>02158 
<a name="l02159"></a><a class="code" href="classeyedb_1_1OidP.html#a45fa02b973c4b1c1180f8d9d2b57cf99">02159</a> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1OidP.html#a45fa02b973c4b1c1180f8d9d2b57cf99" title="Not yet documented.">OidP::getValue</a>(Data* data)<span class="keyword"> const</span>
<a name="l02160"></a>02160 <span class="keyword"></span>{
<a name="l02161"></a>02161   memcpy(data, &amp;val, <span class="keyword">sizeof</span>(<a class="code" href="classeyedb_1_1Oid.html" title="Not yet documented.">Oid</a>));
<a name="l02162"></a>02162   <span class="keywordflow">return</span> Success;
<a name="l02163"></a>02163 }
<a name="l02164"></a>02164 
<a name="l02165"></a>02165 <span class="comment">//</span>
<a name="l02166"></a>02166 <span class="comment">// Int32</span>
<a name="l02167"></a>02167 <span class="comment">//</span>
<a name="l02168"></a>02168 
<a name="l02169"></a><a class="code" href="classeyedb_1_1Int32.html#a0c28d4d448fa766bfae6581916e7d4dd">02169</a> <a class="code" href="classeyedb_1_1Int32.html#a0c28d4d448fa766bfae6581916e7d4dd" title="Not yet documented.">Int32::Int32</a>(eyedblib::int32 i) : <a class="code" href="classeyedb_1_1Basic.html" title="Not yet documented.">Basic</a>()
<a name="l02170"></a>02170 {
<a name="l02171"></a>02171   setClass(Int32_Class);
<a name="l02172"></a>02172   val = i;
<a name="l02173"></a>02173 
<a name="l02174"></a>02174   <span class="comment">/*</span>
<a name="l02175"></a>02175 <span class="comment">  idr-&gt;idr_sz = getClass()-&gt;getIDRObjectSize();</span>
<a name="l02176"></a>02176 <span class="comment">  idr-&gt;idr = (unsigned char *)malloc(idr-&gt;idr_sz);</span>
<a name="l02177"></a>02177 <span class="comment">  */</span>
<a name="l02178"></a>02178   idr-&gt;setIDR(<a class="code" href="classeyedb_1_1Object.html#a7d3e24a2bc7b368c8c39458ab0c3313e" title="Not yet documented.">getClass</a>()-&gt;getIDRObjectSize());
<a name="l02179"></a>02179 
<a name="l02180"></a>02180   type = Basic_Type;
<a name="l02181"></a>02181 
<a name="l02182"></a>02182   headerCode(_Basic_Type, idr-&gt;getSize());
<a name="l02183"></a>02183 }
<a name="l02184"></a>02184 
<a name="l02185"></a><a class="code" href="classeyedb_1_1Int32.html#a33a8da6022306f8e056f2ffe67622793">02185</a> <a class="code" href="classeyedb_1_1Int32.html#a0c28d4d448fa766bfae6581916e7d4dd" title="Not yet documented.">Int32::Int32</a>(<a class="code" href="classeyedb_1_1Database.html" title="Not yet documented.">Database</a> *_db, eyedblib::int32 i, <span class="keyword">const</span> Dataspace *_dataspace) : <a class="code" href="classeyedb_1_1Basic.html" title="Not yet documented.">Basic</a>(_db, _dataspace)
<a name="l02186"></a>02186 {
<a name="l02187"></a>02187   setClass(Int32_Class);
<a name="l02188"></a>02188   val = i;
<a name="l02189"></a>02189 
<a name="l02190"></a>02190   <span class="comment">/*</span>
<a name="l02191"></a>02191 <span class="comment">  idr-&gt;idr_sz = getClass()-&gt;getIDRObjectSize();</span>
<a name="l02192"></a>02192 <span class="comment">  idr-&gt;idr = (unsigned char *)malloc(idr-&gt;idr_sz);</span>
<a name="l02193"></a>02193 <span class="comment">  */</span>
<a name="l02194"></a>02194   idr-&gt;setIDR(<a class="code" href="classeyedb_1_1Object.html#a7d3e24a2bc7b368c8c39458ab0c3313e" title="Not yet documented.">getClass</a>()-&gt;getIDRObjectSize());
<a name="l02195"></a>02195 
<a name="l02196"></a>02196   type = Basic_Type;
<a name="l02197"></a>02197 
<a name="l02198"></a>02198   headerCode(_Basic_Type, idr-&gt;getSize());
<a name="l02199"></a>02199 }
<a name="l02200"></a>02200 
<a name="l02201"></a><a class="code" href="classeyedb_1_1Int32.html#ae78552dd529ffc8214b9066ebb12537f">02201</a> <a class="code" href="classeyedb_1_1Int32.html#a0c28d4d448fa766bfae6581916e7d4dd" title="Not yet documented.">Int32::Int32</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Int32.html" title="Not yet documented.">Int32</a> *o) : <a class="code" href="classeyedb_1_1Basic.html" title="Not yet documented.">Basic</a>(o)
<a name="l02202"></a>02202 {
<a name="l02203"></a>02203   val = (o ? o-&gt;val : 0);
<a name="l02204"></a>02204 }
<a name="l02205"></a>02205 
<a name="l02206"></a><a class="code" href="classeyedb_1_1Int32.html#a8e93e0bf5bc8043967050ad6dc88056d">02206</a> <a class="code" href="classeyedb_1_1Int32.html#a0c28d4d448fa766bfae6581916e7d4dd" title="Not yet documented.">Int32::Int32</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Int32.html" title="Not yet documented.">Int32</a> &amp;o) : <a class="code" href="classeyedb_1_1Basic.html" title="Not yet documented.">Basic</a>(o)
<a name="l02207"></a>02207 {
<a name="l02208"></a>02208   val = o.val;
<a name="l02209"></a>02209 }
<a name="l02210"></a>02210 
<a name="l02211"></a><a class="code" href="classeyedb_1_1Int32.html#a15441a67a26dfea0f064f764df9d7a3a">02211</a> <a class="code" href="classeyedb_1_1Int32.html" title="Not yet documented.">Int32</a>&amp; <a class="code" href="classeyedb_1_1Int32.html#a15441a67a26dfea0f064f764df9d7a3a" title="Not yet documented.">Int32::operator=</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Int32.html" title="Not yet documented.">Int32</a>&amp; o)
<a name="l02212"></a>02212 {
<a name="l02213"></a>02213   <span class="keywordflow">if</span> (&amp;o == <span class="keyword">this</span>)
<a name="l02214"></a>02214     <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l02215"></a>02215 
<a name="l02216"></a>02216   *(<a class="code" href="classeyedb_1_1Basic.html" title="Not yet documented.">Basic</a> *)<span class="keyword">this</span> = Basic::operator=((<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Basic.html" title="Not yet documented.">Basic</a> &amp;)o);
<a name="l02217"></a>02217 
<a name="l02218"></a>02218   val = o.val;
<a name="l02219"></a>02219   <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l02220"></a>02220 }
<a name="l02221"></a>02221 
<a name="l02222"></a><a class="code" href="classeyedb_1_1Int32.html#a746e37af8599c61ff9b7ffb785dd9b56">02222</a> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Int32.html#a746e37af8599c61ff9b7ffb785dd9b56" title="Not yet documented.">Int32::trace</a>(FILE* fd, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags, <span class="keyword">const</span> <a class="code" href="classeyedb_1_1RecMode.html" title="Not yet documented.">RecMode</a> *rcm)<span class="keyword"> const</span>
<a name="l02223"></a>02223 <span class="keyword"></span>{
<a name="l02224"></a>02224   fprintf(fd, <span class="stringliteral">&quot;%s int32 = &quot;</span>, oid.getString());
<a name="l02225"></a>02225   <span class="keywordflow">return</span> trace_realize(fd, INDENT_INC, flags, rcm);
<a name="l02226"></a>02226 }
<a name="l02227"></a>02227 
<a name="l02228"></a>02228 <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> Int32::trace_realize(FILE* fd, <span class="keywordtype">int</span> indent, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags, <span class="keyword">const</span> <a class="code" href="classeyedb_1_1RecMode.html" title="Not yet documented.">RecMode</a> *rcm)<span class="keyword"> const</span>
<a name="l02229"></a>02229 <span class="keyword"></span>{
<a name="l02230"></a>02230   fprintf(fd, <span class="stringliteral">&quot;%d;\n&quot;</span>, val);
<a name="l02231"></a>02231   <span class="keywordflow">return</span> Success;
<a name="l02232"></a>02232 }
<a name="l02233"></a>02233 
<a name="l02234"></a>02234 Status Int32::create()
<a name="l02235"></a>02235 {
<a name="l02236"></a>02236   <span class="keywordflow">if</span> (oid.isValid())
<a name="l02237"></a>02237     <span class="keywordflow">return</span> <a class="code" href="classeyedb_1_1Exception.html#abef1b4931e6b7c02fc77915f5ffdb502" title="Not yet documented.">Exception::make</a>(IDB_OBJECT_ALREADY_CREATED, <span class="stringliteral">&quot;creating eyedblib::int32&quot;</span>);
<a name="l02238"></a>02238 
<a name="l02239"></a>02239   IDB_CHECK_WRITE(db);
<a name="l02240"></a>02240 
<a name="l02241"></a>02241   RPCStatus rpc_status;
<a name="l02242"></a>02242   
<a name="l02243"></a>02243   Offset offset;
<a name="l02244"></a>02244   Size alloc_size;
<a name="l02245"></a>02245 
<a name="l02246"></a>02246   alloc_size = idr-&gt;getSize();
<a name="l02247"></a>02247   offset = IDB_OBJ_HEAD_SIZE;
<a name="l02248"></a>02248 
<a name="l02249"></a>02249   Data data = idr-&gt;getIDR();
<a name="l02250"></a>02250   xdr_int32_code(&amp;data, &amp;offset, &amp;alloc_size, &amp;val);
<a name="l02251"></a>02251 
<a name="l02252"></a>02252   classOidCode();
<a name="l02253"></a>02253   rpc_status = objectCreate(db-&gt;getDbHandle(), getDataspaceID(), data, oid.getOid());
<a name="l02254"></a>02254 
<a name="l02255"></a>02255   <span class="keywordflow">return</span> StatusMake(rpc_status);
<a name="l02256"></a>02256 }
<a name="l02257"></a>02257 
<a name="l02258"></a>02258 Status Int32::update()
<a name="l02259"></a>02259 {
<a name="l02260"></a>02260   <span class="keywordflow">if</span> (!oid.isValid()) <span class="comment">/* &amp;&amp; modify */</span>
<a name="l02261"></a>02261     <span class="keywordflow">return</span> <a class="code" href="classeyedb_1_1Exception.html#abef1b4931e6b7c02fc77915f5ffdb502" title="Not yet documented.">Exception::make</a>(IDB_OBJECT_NOT_CREATED, <span class="stringliteral">&quot;updating eyedblib::int32&quot;</span>);
<a name="l02262"></a>02262 
<a name="l02263"></a>02263   IDB_CHECK_WRITE(db);
<a name="l02264"></a>02264   RPCStatus rpc_status;
<a name="l02265"></a>02265   
<a name="l02266"></a>02266   Offset offset;
<a name="l02267"></a>02267   Size alloc_size;
<a name="l02268"></a>02268 
<a name="l02269"></a>02269   alloc_size = idr-&gt;getSize();
<a name="l02270"></a>02270   offset = IDB_OBJ_HEAD_SIZE;
<a name="l02271"></a>02271 
<a name="l02272"></a>02272   Data data = idr-&gt;getIDR();
<a name="l02273"></a>02273   xdr_int32_code(&amp;data, &amp;offset, &amp;alloc_size, &amp;val);
<a name="l02274"></a>02274 
<a name="l02275"></a>02275   rpc_status = objectWrite(db-&gt;getDbHandle(), data, oid.getOid());
<a name="l02276"></a>02276 
<a name="l02277"></a>02277   <span class="keywordflow">return</span> Success;
<a name="l02278"></a>02278 }
<a name="l02279"></a>02279 
<a name="l02280"></a><a class="code" href="classeyedb_1_1Int32.html#ae385d462e8c5608a2cab51c3b4694c9b">02280</a> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Int32.html#ae385d462e8c5608a2cab51c3b4694c9b" title="Not yet documented.">Int32::setValue</a>(Data data)
<a name="l02281"></a>02281 {
<a name="l02282"></a>02282   val = *(eyedblib::int32 *)data;
<a name="l02283"></a>02283   <span class="keywordflow">return</span> Success;
<a name="l02284"></a>02284 }
<a name="l02285"></a>02285 
<a name="l02286"></a><a class="code" href="classeyedb_1_1Int32.html#aa1f1b513dd3c65fedd13d980f2d01a0e">02286</a> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Int32.html#aa1f1b513dd3c65fedd13d980f2d01a0e" title="Not yet documented.">Int32::getValue</a>(Data* data)<span class="keyword"> const</span>
<a name="l02287"></a>02287 <span class="keyword"></span>{
<a name="l02288"></a>02288   *data = (Data)&amp;val;
<a name="l02289"></a>02289   <span class="keywordflow">return</span> Success;
<a name="l02290"></a>02290 }
<a name="l02291"></a>02291 
<a name="l02292"></a>02292 <span class="comment">//</span>
<a name="l02293"></a>02293 <span class="comment">// Int64</span>
<a name="l02294"></a>02294 <span class="comment">//</span>
<a name="l02295"></a>02295 
<a name="l02296"></a><a class="code" href="classeyedb_1_1Int64.html#a0508b184cf1150be3f3f31958e77203a">02296</a> <a class="code" href="classeyedb_1_1Int64.html#a0508b184cf1150be3f3f31958e77203a" title="Not yet documented.">Int64::Int64</a>(eyedblib::int64 i) : <a class="code" href="classeyedb_1_1Basic.html" title="Not yet documented.">Basic</a>()
<a name="l02297"></a>02297 {
<a name="l02298"></a>02298   setClass(Int64_Class);
<a name="l02299"></a>02299   val = i;
<a name="l02300"></a>02300 
<a name="l02301"></a>02301   idr-&gt;setIDR(<a class="code" href="classeyedb_1_1Object.html#a7d3e24a2bc7b368c8c39458ab0c3313e" title="Not yet documented.">getClass</a>()-&gt;getIDRObjectSize());
<a name="l02302"></a>02302 
<a name="l02303"></a>02303   type = Basic_Type;
<a name="l02304"></a>02304 
<a name="l02305"></a>02305   headerCode(_Basic_Type, idr-&gt;getSize());
<a name="l02306"></a>02306 }
<a name="l02307"></a>02307 
<a name="l02308"></a><a class="code" href="classeyedb_1_1Int64.html#a39ac2c3244663103ad551fd99302af85">02308</a> <a class="code" href="classeyedb_1_1Int64.html#a0508b184cf1150be3f3f31958e77203a" title="Not yet documented.">Int64::Int64</a>(<a class="code" href="classeyedb_1_1Database.html" title="Not yet documented.">Database</a> *_db, eyedblib::int64 i, <span class="keyword">const</span> Dataspace *_dataspace) : <a class="code" href="classeyedb_1_1Basic.html" title="Not yet documented.">Basic</a>(_db, _dataspace)
<a name="l02309"></a>02309 {
<a name="l02310"></a>02310   setClass(Int64_Class);
<a name="l02311"></a>02311   val = i;
<a name="l02312"></a>02312 
<a name="l02313"></a>02313   idr-&gt;setIDR(<a class="code" href="classeyedb_1_1Object.html#a7d3e24a2bc7b368c8c39458ab0c3313e" title="Not yet documented.">getClass</a>()-&gt;getIDRObjectSize());
<a name="l02314"></a>02314 
<a name="l02315"></a>02315   type = Basic_Type;
<a name="l02316"></a>02316 
<a name="l02317"></a>02317   headerCode(_Basic_Type, idr-&gt;getSize());
<a name="l02318"></a>02318 }
<a name="l02319"></a>02319 
<a name="l02320"></a><a class="code" href="classeyedb_1_1Int64.html#a0cafac271ea2bc95de9d64b77e31aa38">02320</a> <a class="code" href="classeyedb_1_1Int64.html#a0508b184cf1150be3f3f31958e77203a" title="Not yet documented.">Int64::Int64</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Int64.html" title="Not yet documented.">Int64</a> *o) : <a class="code" href="classeyedb_1_1Basic.html" title="Not yet documented.">Basic</a>(o)
<a name="l02321"></a>02321 {
<a name="l02322"></a>02322   val = (o ? o-&gt;val : 0);
<a name="l02323"></a>02323 }
<a name="l02324"></a>02324 
<a name="l02325"></a><a class="code" href="classeyedb_1_1Int64.html#a33d58921d74b843c6d49527b4740a6d6">02325</a> <a class="code" href="classeyedb_1_1Int64.html#a0508b184cf1150be3f3f31958e77203a" title="Not yet documented.">Int64::Int64</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Int64.html" title="Not yet documented.">Int64</a> &amp;o) : <a class="code" href="classeyedb_1_1Basic.html" title="Not yet documented.">Basic</a>(o)
<a name="l02326"></a>02326 {
<a name="l02327"></a>02327   val = o.val;
<a name="l02328"></a>02328 }
<a name="l02329"></a>02329 
<a name="l02330"></a><a class="code" href="classeyedb_1_1Int64.html#a4413e2db98ac3bf391c47228e453ab9a">02330</a> <a class="code" href="classeyedb_1_1Int64.html" title="Not yet documented.">Int64</a>&amp; <a class="code" href="classeyedb_1_1Int64.html#a4413e2db98ac3bf391c47228e453ab9a" title="Not yet documented.">Int64::operator=</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Int64.html" title="Not yet documented.">Int64</a>&amp; o)
<a name="l02331"></a>02331 {
<a name="l02332"></a>02332   <span class="keywordflow">if</span> (&amp;o == <span class="keyword">this</span>)
<a name="l02333"></a>02333     <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l02334"></a>02334 
<a name="l02335"></a>02335   *(<a class="code" href="classeyedb_1_1Basic.html" title="Not yet documented.">Basic</a> *)<span class="keyword">this</span> = Basic::operator=((<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Basic.html" title="Not yet documented.">Basic</a> &amp;)o);
<a name="l02336"></a>02336 
<a name="l02337"></a>02337   val = o.val;
<a name="l02338"></a>02338   <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l02339"></a>02339 }
<a name="l02340"></a>02340 
<a name="l02341"></a><a class="code" href="classeyedb_1_1Int64.html#a23ded90f6d2a246d4e628820067b5096">02341</a> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Int64.html#a23ded90f6d2a246d4e628820067b5096" title="Not yet documented.">Int64::trace</a>(FILE* fd, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags, <span class="keyword">const</span> <a class="code" href="classeyedb_1_1RecMode.html" title="Not yet documented.">RecMode</a> *rcm)<span class="keyword"> const</span>
<a name="l02342"></a>02342 <span class="keyword"></span>{
<a name="l02343"></a>02343   fprintf(fd, <span class="stringliteral">&quot;%s int64 = &quot;</span>, oid.getString());
<a name="l02344"></a>02344   <span class="keywordflow">return</span> trace_realize(fd, INDENT_INC, flags, rcm);
<a name="l02345"></a>02345 }
<a name="l02346"></a>02346 
<a name="l02347"></a>02347 <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> Int64::trace_realize(FILE* fd, <span class="keywordtype">int</span> indent, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags, <span class="keyword">const</span> <a class="code" href="classeyedb_1_1RecMode.html" title="Not yet documented.">RecMode</a> *rcm)<span class="keyword"> const</span>
<a name="l02348"></a>02348 <span class="keyword"></span>{
<a name="l02349"></a>02349   fprintf(fd, <span class="stringliteral">&quot;%lld;\n&quot;</span>, val);
<a name="l02350"></a>02350   <span class="keywordflow">return</span> Success;
<a name="l02351"></a>02351 }
<a name="l02352"></a>02352 
<a name="l02353"></a>02353 Status Int64::create()
<a name="l02354"></a>02354 {
<a name="l02355"></a>02355   <span class="keywordflow">if</span> (oid.isValid())
<a name="l02356"></a>02356     <span class="keywordflow">return</span> <a class="code" href="classeyedb_1_1Exception.html#abef1b4931e6b7c02fc77915f5ffdb502" title="Not yet documented.">Exception::make</a>(IDB_OBJECT_ALREADY_CREATED, <span class="stringliteral">&quot;creating eyedblib::int64&quot;</span>);
<a name="l02357"></a>02357 
<a name="l02358"></a>02358   IDB_CHECK_WRITE(db);
<a name="l02359"></a>02359   RPCStatus rpc_status;
<a name="l02360"></a>02360   
<a name="l02361"></a>02361   Offset offset;
<a name="l02362"></a>02362   Size alloc_size;
<a name="l02363"></a>02363 
<a name="l02364"></a>02364   alloc_size = idr-&gt;getSize();
<a name="l02365"></a>02365   offset = IDB_OBJ_HEAD_SIZE;
<a name="l02366"></a>02366 
<a name="l02367"></a>02367   Data data = idr-&gt;getIDR();
<a name="l02368"></a>02368 <span class="preprocessor">#ifdef E_XDR</span>
<a name="l02369"></a>02369 <span class="preprocessor"></span>  xdr_int64_code(&amp;data, &amp;offset, &amp;alloc_size, &amp;val);
<a name="l02370"></a>02370 <span class="preprocessor">#endif</span>
<a name="l02371"></a>02371 <span class="preprocessor"></span>
<a name="l02372"></a>02372   classOidCode();
<a name="l02373"></a>02373   rpc_status = objectCreate(db-&gt;getDbHandle(), getDataspaceID(), data, oid.getOid());
<a name="l02374"></a>02374 
<a name="l02375"></a>02375   <span class="keywordflow">return</span> StatusMake(rpc_status);
<a name="l02376"></a>02376 }
<a name="l02377"></a>02377 
<a name="l02378"></a>02378 Status Int64::update()
<a name="l02379"></a>02379 {
<a name="l02380"></a>02380   <span class="keywordflow">if</span> (!oid.isValid()) <span class="comment">/* &amp;&amp; modify */</span>
<a name="l02381"></a>02381     <span class="keywordflow">return</span> <a class="code" href="classeyedb_1_1Exception.html#abef1b4931e6b7c02fc77915f5ffdb502" title="Not yet documented.">Exception::make</a>(IDB_OBJECT_NOT_CREATED, <span class="stringliteral">&quot;updating eyedblib::int64&quot;</span>);
<a name="l02382"></a>02382 
<a name="l02383"></a>02383   IDB_CHECK_WRITE(db);
<a name="l02384"></a>02384 
<a name="l02385"></a>02385   RPCStatus rpc_status;
<a name="l02386"></a>02386   
<a name="l02387"></a>02387   Offset offset;
<a name="l02388"></a>02388   Size alloc_size;
<a name="l02389"></a>02389 
<a name="l02390"></a>02390   alloc_size = idr-&gt;getSize();
<a name="l02391"></a>02391   offset = IDB_OBJ_HEAD_SIZE;
<a name="l02392"></a>02392 
<a name="l02393"></a>02393   Data data = idr-&gt;getIDR();
<a name="l02394"></a>02394 <span class="preprocessor">#ifdef E_XDR</span>
<a name="l02395"></a>02395 <span class="preprocessor"></span>  xdr_int64_code(&amp;data, &amp;offset, &amp;alloc_size, &amp;val);
<a name="l02396"></a>02396 <span class="preprocessor">#endif</span>
<a name="l02397"></a>02397 <span class="preprocessor"></span>
<a name="l02398"></a>02398   rpc_status = objectWrite(db-&gt;getDbHandle(), data, oid.getOid());
<a name="l02399"></a>02399 
<a name="l02400"></a>02400   <span class="keywordflow">return</span> Success;
<a name="l02401"></a>02401 }
<a name="l02402"></a>02402 
<a name="l02403"></a><a class="code" href="classeyedb_1_1Int64.html#acf29631e982c661113e9dff320f619b9">02403</a> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Int64.html#acf29631e982c661113e9dff320f619b9" title="Not yet documented.">Int64::setValue</a>(Data data)
<a name="l02404"></a>02404 {
<a name="l02405"></a>02405   val = *(eyedblib::int64 *)data;
<a name="l02406"></a>02406   <span class="keywordflow">return</span> Success;
<a name="l02407"></a>02407 }
<a name="l02408"></a>02408 
<a name="l02409"></a><a class="code" href="classeyedb_1_1Int64.html#a00f392be5b2f1ea648dcdf46e34584a5">02409</a> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Int64.html#a00f392be5b2f1ea648dcdf46e34584a5" title="Not yet documented.">Int64::getValue</a>(Data* data)<span class="keyword"> const</span>
<a name="l02410"></a>02410 <span class="keyword"></span>{
<a name="l02411"></a>02411   *data = (Data)&amp;val;
<a name="l02412"></a>02412   <span class="keywordflow">return</span> Success;
<a name="l02413"></a>02413 }
<a name="l02414"></a>02414 
<a name="l02415"></a>02415 <span class="comment">//</span>
<a name="l02416"></a>02416 <span class="comment">// Float</span>
<a name="l02417"></a>02417 <span class="comment">//</span>
<a name="l02418"></a>02418 
<a name="l02419"></a><a class="code" href="classeyedb_1_1Float.html#a2dcf0bfc394aaf9dae9bd25e2c64330a">02419</a> <a class="code" href="classeyedb_1_1Float.html#a2dcf0bfc394aaf9dae9bd25e2c64330a" title="Not yet documented.">Float::Float</a>(<span class="keywordtype">double</span> d) : <a class="code" href="classeyedb_1_1Basic.html" title="Not yet documented.">Basic</a>()
<a name="l02420"></a>02420 {
<a name="l02421"></a>02421   setClass(Float_Class);
<a name="l02422"></a>02422   val = d;
<a name="l02423"></a>02423 
<a name="l02424"></a>02424   <span class="comment">/*</span>
<a name="l02425"></a>02425 <span class="comment">  idr-&gt;idr_sz = getClass()-&gt;getIDRObjectSize();</span>
<a name="l02426"></a>02426 <span class="comment">  idr-&gt;idr = (unsigned char *)malloc(idr-&gt;idr_sz);</span>
<a name="l02427"></a>02427 <span class="comment">  */</span>
<a name="l02428"></a>02428   idr-&gt;setIDR(<a class="code" href="classeyedb_1_1Object.html#a7d3e24a2bc7b368c8c39458ab0c3313e" title="Not yet documented.">getClass</a>()-&gt;getIDRObjectSize());
<a name="l02429"></a>02429 
<a name="l02430"></a>02430   type = Basic_Type;
<a name="l02431"></a>02431 
<a name="l02432"></a>02432   headerCode(_Basic_Type, idr-&gt;getSize());
<a name="l02433"></a>02433 }
<a name="l02434"></a>02434 
<a name="l02435"></a><a class="code" href="classeyedb_1_1Float.html#af47e50183a74a613155b39f69a551fd5">02435</a> <a class="code" href="classeyedb_1_1Float.html#a2dcf0bfc394aaf9dae9bd25e2c64330a" title="Not yet documented.">Float::Float</a>(<a class="code" href="classeyedb_1_1Database.html" title="Not yet documented.">Database</a> *_db, <span class="keywordtype">double</span> d, <span class="keyword">const</span> Dataspace *_dataspace) : <a class="code" href="classeyedb_1_1Basic.html" title="Not yet documented.">Basic</a>(_db, _dataspace)
<a name="l02436"></a>02436 {
<a name="l02437"></a>02437   setClass(Float_Class);
<a name="l02438"></a>02438   val = d;
<a name="l02439"></a>02439 
<a name="l02440"></a>02440   <span class="comment">/*</span>
<a name="l02441"></a>02441 <span class="comment">  idr-&gt;idr_sz = getClass()-&gt;getIDRObjectSize();</span>
<a name="l02442"></a>02442 <span class="comment">  idr-&gt;idr = (unsigned char *)malloc(idr-&gt;idr_sz);</span>
<a name="l02443"></a>02443 <span class="comment">  */</span>
<a name="l02444"></a>02444   idr-&gt;setIDR(<a class="code" href="classeyedb_1_1Object.html#a7d3e24a2bc7b368c8c39458ab0c3313e" title="Not yet documented.">getClass</a>()-&gt;getIDRObjectSize());
<a name="l02445"></a>02445 
<a name="l02446"></a>02446   type = Basic_Type;
<a name="l02447"></a>02447 
<a name="l02448"></a>02448   headerCode(_Basic_Type, idr-&gt;getSize());
<a name="l02449"></a>02449 }
<a name="l02450"></a>02450 
<a name="l02451"></a><a class="code" href="classeyedb_1_1Float.html#acdc8710838d0942e6397a0230c869c27">02451</a> <a class="code" href="classeyedb_1_1Float.html#a2dcf0bfc394aaf9dae9bd25e2c64330a" title="Not yet documented.">Float::Float</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Float.html" title="Not yet documented.">Float</a> *o) : <a class="code" href="classeyedb_1_1Basic.html" title="Not yet documented.">Basic</a>(o)
<a name="l02452"></a>02452 {
<a name="l02453"></a>02453   val = (o ? o-&gt;val : 0.);
<a name="l02454"></a>02454 }
<a name="l02455"></a>02455 
<a name="l02456"></a><a class="code" href="classeyedb_1_1Float.html#a2dd62b279de8baf25248c61dda351280">02456</a> <a class="code" href="classeyedb_1_1Float.html#a2dcf0bfc394aaf9dae9bd25e2c64330a" title="Not yet documented.">Float::Float</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Float.html" title="Not yet documented.">Float</a> &amp;o) : <a class="code" href="classeyedb_1_1Basic.html" title="Not yet documented.">Basic</a>(o)
<a name="l02457"></a>02457 {
<a name="l02458"></a>02458   val = o.val;
<a name="l02459"></a>02459 }
<a name="l02460"></a>02460 
<a name="l02461"></a><a class="code" href="classeyedb_1_1Float.html#a803990486aa5950aa39de31132ecee75">02461</a> <a class="code" href="classeyedb_1_1Float.html" title="Not yet documented.">Float</a>&amp; <a class="code" href="classeyedb_1_1Float.html#a803990486aa5950aa39de31132ecee75" title="Not yet documented.">Float::operator=</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Float.html" title="Not yet documented.">Float</a>&amp; o)
<a name="l02462"></a>02462 {
<a name="l02463"></a>02463   <span class="keywordflow">if</span> (&amp;o == <span class="keyword">this</span>)
<a name="l02464"></a>02464     <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l02465"></a>02465 
<a name="l02466"></a>02466   *(<a class="code" href="classeyedb_1_1Basic.html" title="Not yet documented.">Basic</a> *)<span class="keyword">this</span> = Basic::operator=((<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Basic.html" title="Not yet documented.">Basic</a> &amp;)o);
<a name="l02467"></a>02467 
<a name="l02468"></a>02468   val = o.val;
<a name="l02469"></a>02469   <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l02470"></a>02470 }
<a name="l02471"></a>02471 
<a name="l02472"></a><a class="code" href="classeyedb_1_1Float.html#a296e49c570cc0b1861065c42b206ff6c">02472</a> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Float.html#a296e49c570cc0b1861065c42b206ff6c" title="Not yet documented.">Float::trace</a>(FILE* fd, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags, <span class="keyword">const</span> <a class="code" href="classeyedb_1_1RecMode.html" title="Not yet documented.">RecMode</a> *rcm)<span class="keyword"> const</span>
<a name="l02473"></a>02473 <span class="keyword"></span>{
<a name="l02474"></a>02474   fprintf(fd, <span class="stringliteral">&quot;%s float = &quot;</span>, oid.getString());
<a name="l02475"></a>02475   <span class="keywordflow">return</span> trace_realize(fd, INDENT_INC, flags, rcm);
<a name="l02476"></a>02476 }
<a name="l02477"></a>02477 
<a name="l02478"></a>02478 <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> Float::trace_realize(FILE* fd, <span class="keywordtype">int</span> indent, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags, <span class="keyword">const</span> <a class="code" href="classeyedb_1_1RecMode.html" title="Not yet documented.">RecMode</a> *rcm)<span class="keyword"> const</span>
<a name="l02479"></a>02479 <span class="keyword"></span>{
<a name="l02480"></a>02480   fprint_float(fd, val);
<a name="l02481"></a>02481   fprintf(fd, <span class="stringliteral">&quot;;\n&quot;</span>);
<a name="l02482"></a>02482   <span class="keywordflow">return</span> Success;
<a name="l02483"></a>02483 }
<a name="l02484"></a>02484 
<a name="l02485"></a>02485 Status Float::create()
<a name="l02486"></a>02486 {
<a name="l02487"></a>02487   <span class="keywordflow">if</span> (oid.isValid())
<a name="l02488"></a>02488     <span class="keywordflow">return</span> <a class="code" href="classeyedb_1_1Exception.html#abef1b4931e6b7c02fc77915f5ffdb502" title="Not yet documented.">Exception::make</a>(IDB_OBJECT_ALREADY_CREATED, <span class="stringliteral">&quot;creating float&quot;</span>);
<a name="l02489"></a>02489 
<a name="l02490"></a>02490   IDB_CHECK_WRITE(db);
<a name="l02491"></a>02491 
<a name="l02492"></a>02492   RPCStatus rpc_status;
<a name="l02493"></a>02493   
<a name="l02494"></a>02494   Offset offset;
<a name="l02495"></a>02495   Size alloc_size;
<a name="l02496"></a>02496 
<a name="l02497"></a>02497   alloc_size = idr-&gt;getSize();
<a name="l02498"></a>02498   offset = IDB_OBJ_HEAD_SIZE;
<a name="l02499"></a>02499 
<a name="l02500"></a>02500   Data data = idr-&gt;getIDR();
<a name="l02501"></a>02501   xdr_double_code(&amp;data, &amp;offset, &amp;alloc_size, &amp;val);
<a name="l02502"></a>02502 
<a name="l02503"></a>02503   classOidCode();
<a name="l02504"></a>02504   rpc_status = objectCreate(db-&gt;getDbHandle(), getDataspaceID(), data, oid.getOid());
<a name="l02505"></a>02505 
<a name="l02506"></a>02506   <span class="keywordflow">return</span> StatusMake(rpc_status);
<a name="l02507"></a>02507 }
<a name="l02508"></a>02508 
<a name="l02509"></a>02509 Status Float::update()
<a name="l02510"></a>02510 {
<a name="l02511"></a>02511   <span class="keywordflow">if</span> (!oid.isValid()) <span class="comment">/* &amp;&amp; modify */</span>
<a name="l02512"></a>02512     <span class="keywordflow">return</span> <a class="code" href="classeyedb_1_1Exception.html#abef1b4931e6b7c02fc77915f5ffdb502" title="Not yet documented.">Exception::make</a>(IDB_OBJECT_NOT_CREATED, <span class="stringliteral">&quot;updating float&quot;</span>);
<a name="l02513"></a>02513 
<a name="l02514"></a>02514   IDB_CHECK_WRITE(db);
<a name="l02515"></a>02515   RPCStatus rpc_status;
<a name="l02516"></a>02516   
<a name="l02517"></a>02517   Offset offset;
<a name="l02518"></a>02518   Size alloc_size;
<a name="l02519"></a>02519 
<a name="l02520"></a>02520   alloc_size = idr-&gt;getSize();
<a name="l02521"></a>02521   offset = IDB_OBJ_HEAD_SIZE;
<a name="l02522"></a>02522 
<a name="l02523"></a>02523   Data data = idr-&gt;getIDR();
<a name="l02524"></a>02524   xdr_double_code(&amp;data, &amp;offset, &amp;alloc_size, &amp;val);
<a name="l02525"></a>02525 
<a name="l02526"></a>02526   rpc_status = objectWrite(db-&gt;getDbHandle(), data, oid.getOid());
<a name="l02527"></a>02527 
<a name="l02528"></a>02528   <span class="keywordflow">return</span> Success;
<a name="l02529"></a>02529 }
<a name="l02530"></a>02530 
<a name="l02531"></a><a class="code" href="classeyedb_1_1Float.html#a8cad6db58759eaaefe9c6f1fcec64e38">02531</a> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Float.html#a8cad6db58759eaaefe9c6f1fcec64e38" title="Not yet documented.">Float::setValue</a>(Data data)
<a name="l02532"></a>02532 {
<a name="l02533"></a>02533   memcpy(&amp;val, data, <span class="keyword">sizeof</span>(<span class="keywordtype">double</span>));
<a name="l02534"></a>02534   <span class="keywordflow">return</span> Success;
<a name="l02535"></a>02535 }
<a name="l02536"></a>02536 
<a name="l02537"></a><a class="code" href="classeyedb_1_1Float.html#a8007b9d31e91946d1ed91bfb6b8e86c3">02537</a> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Float.html#a8007b9d31e91946d1ed91bfb6b8e86c3" title="Not yet documented.">Float::getValue</a>(Data* data)<span class="keyword"> const</span>
<a name="l02538"></a>02538 <span class="keyword"></span>{
<a name="l02539"></a>02539   memcpy(data, &amp;val, <span class="keyword">sizeof</span>(<span class="keywordtype">double</span>));
<a name="l02540"></a>02540   <span class="keywordflow">return</span> Success;
<a name="l02541"></a>02541 }
<a name="l02542"></a>02542 
<a name="l02543"></a>02543 }
</pre></div></div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Wed May 26 10:24:57 2010 for eyedb by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
