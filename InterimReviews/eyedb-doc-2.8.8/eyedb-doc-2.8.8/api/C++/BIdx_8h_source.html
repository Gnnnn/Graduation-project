<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>eyedb: BIdx.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    </ul>
  </div>
<h1>BIdx.h</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/* </span>
<a name="l00002"></a>00002 <span class="comment">   EyeDB Object Database Management System</span>
<a name="l00003"></a>00003 <span class="comment">   Copyright (C) 1994-2008 SYSRA</span>
<a name="l00004"></a>00004 <span class="comment">   </span>
<a name="l00005"></a>00005 <span class="comment">   EyeDB is free software; you can redistribute it and/or</span>
<a name="l00006"></a>00006 <span class="comment">   modify it under the terms of the GNU Lesser General Public</span>
<a name="l00007"></a>00007 <span class="comment">   License as published by the Free Software Foundation; either</span>
<a name="l00008"></a>00008 <span class="comment">   version 2.1 of the License, or (at your option) any later version.</span>
<a name="l00009"></a>00009 <span class="comment">   </span>
<a name="l00010"></a>00010 <span class="comment">   EyeDB is distributed in the hope that it will be useful,</span>
<a name="l00011"></a>00011 <span class="comment">   but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00012"></a>00012 <span class="comment">   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>
<a name="l00013"></a>00013 <span class="comment">   Lesser General Public License for more details.</span>
<a name="l00014"></a>00014 <span class="comment">   </span>
<a name="l00015"></a>00015 <span class="comment">   You should have received a copy of the GNU Lesser General Public</span>
<a name="l00016"></a>00016 <span class="comment">   License along with this library; if not, write to the Free Software</span>
<a name="l00017"></a>00017 <span class="comment">   Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA </span>
<a name="l00018"></a>00018 <span class="comment">*/</span>
<a name="l00019"></a>00019 
<a name="l00020"></a>00020 <span class="comment">/*</span>
<a name="l00021"></a>00021 <span class="comment">   Authors: Stuart Pook</span>
<a name="l00022"></a>00022 <span class="comment">            Eric Viara &lt;viara@sysra.com&gt;</span>
<a name="l00023"></a>00023 <span class="comment">*/</span>
<a name="l00024"></a>00024 
<a name="l00025"></a>00025 
<a name="l00026"></a>00026 <span class="preprocessor">#ifndef _eyedbsm_BIdx_</span>
<a name="l00027"></a>00027 <span class="preprocessor"></span><span class="preprocessor">#define _eyedbsm_BIdx_</span>
<a name="l00028"></a>00028 <span class="preprocessor"></span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &lt;string.h&gt;</span>
<a name="l00030"></a>00030 
<a name="l00031"></a>00031 <span class="preprocessor">#include &lt;eyedbsm/Idx.h&gt;</span>
<a name="l00032"></a>00032 
<a name="l00033"></a>00033 <span class="keyword">namespace </span>eyedbsm {
<a name="l00034"></a>00034 
<a name="l00040"></a>00040   <span class="keyword">enum</span> {
<a name="l00041"></a>00041     BIDX_DEF_DEGREE = 128
<a name="l00042"></a>00042   };
<a name="l00043"></a>00043 
<a name="l00047"></a><a class="code" href="classeyedbsm_1_1BIdx.html">00047</a>   <span class="keyword">class </span><a class="code" href="classeyedbsm_1_1BIdx.html" title="Not yet documented.">BIdx</a> : <span class="keyword">public</span> Idx {
<a name="l00048"></a>00048   <span class="keyword">public</span>:
<a name="l00049"></a>00049     <span class="keyword">class </span>BTree;
<a name="l00050"></a>00050     <span class="keyword">class </span>Node;
<a name="l00051"></a>00051     <span class="keyword">class </span>Space;
<a name="l00052"></a>00052     <span class="keyword">class </span>InCore;
<a name="l00053"></a>00053 
<a name="l00054"></a>00054   <span class="keyword">private</span>:
<a name="l00055"></a>00055 
<a name="l00056"></a>00056     <span class="keyword">friend</span> <span class="keyword">class </span>InCore;
<a name="l00057"></a>00057     <span class="keyword">friend</span> <span class="keyword">class </span>Node;
<a name="l00058"></a>00058     <span class="keyword">friend</span> <span class="keyword">class </span>Space;
<a name="l00059"></a>00059     <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classeyedbsm_1_1BIdxCursor.html" title="Not yet documented.">BIdxCursor</a>;
<a name="l00060"></a>00060     Space * free;
<a name="l00061"></a>00061     Space * occupied;
<a name="l00062"></a>00062 
<a name="l00063"></a>00063     eyedbsm::DbHandle * <span class="keyword">const</span> dbh;
<a name="l00064"></a>00064     eyedbsm::Oid treeOid;
<a name="l00065"></a>00065     KeyType * _keyType;
<a name="l00066"></a>00066     <span class="keywordtype">unsigned</span> _nkeys;
<a name="l00067"></a>00067     <span class="keywordtype">unsigned</span> keySize;
<a name="l00068"></a>00068     <span class="keywordtype">unsigned</span> dataSize;
<a name="l00069"></a>00069     <span class="keywordtype">short</span> dspid;
<a name="l00070"></a>00070     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> degree;
<a name="l00071"></a>00071     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> maxchildren;
<a name="l00072"></a>00072     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> count;
<a name="l00073"></a>00073     eyedbsm::Status stat;
<a name="l00074"></a>00074     <a class="code" href="classeyedbsm_1_1BIdx.html" title="Not yet documented.">BIdx</a>(<a class="code" href="classeyedbsm_1_1BIdx.html" title="Not yet documented.">BIdx</a> <span class="keyword">const</span> &amp;);                 <span class="comment">// prevent copying</span>
<a name="l00075"></a>00075     <a class="code" href="classeyedbsm_1_1BIdx.html" title="Not yet documented.">BIdx</a> &amp; operator=(<a class="code" href="classeyedbsm_1_1BIdx.html" title="Not yet documented.">BIdx</a> <span class="keyword">const</span> &amp;);     <span class="comment">// prevent copying</span>
<a name="l00076"></a>00076     eyedbsm::Status fatal();
<a name="l00077"></a>00077     eyedbsm::Status fatal(eyedbsm::Status);
<a name="l00078"></a>00078     <span class="keywordtype">void</span> kdCopy(<span class="keywordtype">void</span> * kO, <span class="keywordtype">void</span> * dO, <span class="keywordtype">void</span> <span class="keyword">const</span> * k, <span class="keywordtype">void</span> <span class="keyword">const</span> * d,
<a name="l00079"></a>00079                 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cnt = 1) <span class="keyword">const</span>;
<a name="l00080"></a>00080     eyedbsm::Status create(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> degree, <span class="keywordtype">unsigned</span> dataSize, KeyType <span class="keyword">const</span> types[], <span class="keywordtype">unsigned</span> ntypes, <span class="keywordtype">short</span> dspid);
<a name="l00081"></a>00081     eyedbsm::Status count_manage(<span class="keywordtype">int</span> inc);
<a name="l00082"></a>00082     eyedbsm::Status copy_realize(Idx *idx) <span class="keyword">const</span>;
<a name="l00083"></a>00083     eyedbsm::Status readBTree(BTree &amp;) <span class="keyword">const</span>;
<a name="l00084"></a>00084     eyedbsm::Status writeBTree(<span class="keyword">const</span> BTree &amp;) <span class="keyword">const</span>;
<a name="l00085"></a>00085     eyedbsm::Status readKeyType(KeyType *&amp;, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nkeys, <span class="keyword">const</span> eyedbsm::Oid &amp;) <span class="keyword">const</span>;
<a name="l00086"></a>00086     eyedbsm::Status createKeyType(<span class="keyword">const</span> KeyType *, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nkeys, eyedbsm::Oid *) <span class="keyword">const</span>;
<a name="l00087"></a>00087     eyedbsm::Status readNode(Node *, <span class="keyword">const</span> eyedbsm::Oid &amp;) <span class="keyword">const</span>;
<a name="l00088"></a>00088     eyedbsm::Status writeNode(<span class="keyword">const</span> Node *, <span class="keyword">const</span> eyedbsm::Oid &amp;) <span class="keyword">const</span>;
<a name="l00089"></a>00089     eyedbsm::Status createNode(<span class="keyword">const</span> Node *, eyedbsm::Oid *) <span class="keyword">const</span>;
<a name="l00090"></a>00090     eyedbsm::Status searchPerform(<span class="keyword">const</span> <span class="keywordtype">void</span> *key, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *found_cnt, Boolean found_any, <span class="keywordtype">void</span> * data);
<a name="l00091"></a>00091     Node *tmpnode;
<a name="l00092"></a>00092 
<a name="l00093"></a>00093   <span class="keyword">public</span>:
<a name="l00101"></a>00101     <span class="keywordtype">int</span> <a class="code" href="classeyedbsm_1_1BIdx.html#a65c8f2bb87dc58c5d327692055fe7383" title="Not yet documented.">cmp</a>(<span class="keywordtype">void</span> <span class="keyword">const</span> *key, <span class="keywordtype">void</span> <span class="keyword">const</span> *d, <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> bswap);
<a name="l00102"></a>00102 
<a name="l00112"></a>00112     <a class="code" href="classeyedbsm_1_1BIdx.html" title="Not yet documented.">BIdx</a>(eyedbsm::DbHandle * vh, <span class="keywordtype">unsigned</span> dataSize, KeyType <span class="keyword">const</span> types[],
<a name="l00113"></a>00113          <span class="keywordtype">short</span> dspid,
<a name="l00114"></a>00114          <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> degree = BIDX_DEF_DEGREE,
<a name="l00115"></a>00115          <span class="keywordtype">unsigned</span> ntypes = 1);
<a name="l00116"></a>00116 
<a name="l00125"></a>00125     <a class="code" href="classeyedbsm_1_1BIdx.html" title="Not yet documented.">BIdx</a>(eyedbsm::DbHandle * vh, Type type, <span class="keywordtype">unsigned</span> dataSize,
<a name="l00126"></a>00126          <span class="keywordtype">short</span> dspid,
<a name="l00127"></a>00127          <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> degree = BIDX_DEF_DEGREE);
<a name="l00128"></a>00128 
<a name="l00135"></a>00135     <a class="code" href="classeyedbsm_1_1BIdx.html" title="Not yet documented.">BIdx</a>(eyedbsm::DbHandle * vh, 
<a name="l00136"></a>00136          eyedbsm::Oid <span class="keyword">const</span> &amp;idx,
<a name="l00137"></a>00137          eyedbsm::Boolean (*precmp)(<span class="keywordtype">void</span> <span class="keyword">const</span> * p, <span class="keywordtype">void</span> <span class="keyword">const</span> * q, KeyType <span class="keyword">const</span> * type, <span class="keywordtype">int</span> &amp; r) = 0);
<a name="l00138"></a>00138 
<a name="l00143"></a>00143     <span class="keywordtype">void</span> <a class="code" href="classeyedbsm_1_1BIdx.html#a7f680b37492e53f1c196f7ed679aba05" title="Not yet documented.">open</a>(eyedbsm::Boolean (*precmp)(<span class="keywordtype">void</span> <span class="keyword">const</span> * p, <span class="keywordtype">void</span> <span class="keyword">const</span> * q,
<a name="l00144"></a>00144                                          KeyType <span class="keyword">const</span> * type, <span class="keywordtype">int</span> &amp; r) = 0);
<a name="l00145"></a>00145 
<a name="l00150"></a><a class="code" href="classeyedbsm_1_1BIdx.html#aefe088caba8bfb5668c2c7d367ca4363">00150</a>     <span class="keyword">virtual</span> <a class="code" href="classeyedbsm_1_1BIdx.html" title="Not yet documented.">BIdx</a> *<a class="code" href="classeyedbsm_1_1BIdx.html#aefe088caba8bfb5668c2c7d367ca4363" title="Not yet documented.">asBIdx</a>() {<span class="keywordflow">return</span> <span class="keyword">this</span>;}
<a name="l00151"></a>00151 
<a name="l00157"></a>00157     Status <a class="code" href="classeyedbsm_1_1BIdx.html#a8241e78eda36a9c64d14fb503662e269" title="Not yet documented.">move</a>(<span class="keywordtype">short</span> dspid, eyedbsm::Oid &amp;newoid);
<a name="l00158"></a>00158 
<a name="l00172"></a>00172     eyedbsm::Status <a class="code" href="classeyedbsm_1_1BIdx.html#a1f5082731bab8f1c18b885d3af62e54b" title="Not yet documented.">reimplementToHash</a>(eyedbsm::Oid &amp;newoid, <span class="keywordtype">int</span> key_count, <span class="keywordtype">int</span> mag_order = 0,
<a name="l00173"></a>00173                                       <span class="keywordtype">short</span> dspid = eyedbsm::DefaultDspid,
<a name="l00174"></a>00174                                       <span class="keyword">const</span> <span class="keywordtype">int</span> *impl_hints = 0,
<a name="l00175"></a>00175                                       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> impl_hints_cnt = 0,
<a name="l00176"></a>00176                                       hash_key_t hash_key = 0,
<a name="l00177"></a>00177                                       <span class="keywordtype">void</span> *hash_data = 0,
<a name="l00178"></a>00178                                       KeyType *ktype = 0);
<a name="l00179"></a>00179 
<a name="l00187"></a>00187     eyedbsm::Status <a class="code" href="classeyedbsm_1_1BIdx.html#a227439c2d3eb79f80835c93c5355de57" title="Not yet documented.">reimplementToBTree</a>(eyedbsm::Oid &amp;newoid, <span class="keywordtype">int</span> degree = 0,
<a name="l00188"></a>00188                                        <span class="keywordtype">short</span> dspid = eyedbsm::DefaultDspid);
<a name="l00189"></a>00189 
<a name="l00190"></a>00190     <span class="comment">// stats methods not implemented</span>
<a name="l00191"></a>00191     <span class="keyword">struct </span>Stats {
<a name="l00192"></a>00192       <span class="keyword">const</span> <a class="code" href="classeyedbsm_1_1BIdx.html" title="Not yet documented.">BIdx</a> *idx;
<a name="l00193"></a>00193       <span class="comment">/*</span>
<a name="l00194"></a>00194 <span class="comment">        unsigned int degree;</span>
<a name="l00195"></a>00195 <span class="comment">        unsigned int dataSize;</span>
<a name="l00196"></a>00196 <span class="comment">        unsigned int keySize;</span>
<a name="l00197"></a>00197 <span class="comment">      */</span>
<a name="l00198"></a>00198       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyOffset;
<a name="l00199"></a>00199       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> keyType;
<a name="l00200"></a>00200 
<a name="l00201"></a>00201       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> total_object_count;
<a name="l00202"></a>00202       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> total_btree_object_count;
<a name="l00203"></a>00203       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> btree_node_size;
<a name="l00204"></a>00204       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> total_btree_node_count;
<a name="l00205"></a>00205       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> btree_key_object_size;
<a name="l00206"></a>00206       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> btree_data_object_size;
<a name="l00207"></a>00207       <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> total_btree_object_size;
<a name="l00208"></a>00208 
<a name="l00209"></a>00209       <span class="keywordtype">void</span> trace(FILE * = stdout) <span class="keyword">const</span>;
<a name="l00210"></a>00210       std::string toString() <span class="keyword">const</span>;
<a name="l00211"></a>00211     };
<a name="l00212"></a>00212 
<a name="l00213"></a>00213     eyedbsm::Status getStats(std::string&amp; stats) <span class="keyword">const</span>;
<a name="l00214"></a>00214     eyedbsm::Status getStats(BIdx::Stats &amp;stats) <span class="keyword">const</span>;
<a name="l00215"></a>00215 
<a name="l00220"></a><a class="code" href="classeyedbsm_1_1BIdx.html#a80852303d8e36bafb4538403eceddbd0">00220</a>     <span class="keywordtype">unsigned</span> <a class="code" href="classeyedbsm_1_1BIdx.html#a80852303d8e36bafb4538403eceddbd0" title="Not yet documented.">getKeySize</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> keySize;}
<a name="l00221"></a>00221 
<a name="l00226"></a><a class="code" href="classeyedbsm_1_1BIdx.html#a5ca86628e85a8d72e5eab3239d2d2b6b">00226</a>     <span class="keywordtype">unsigned</span> <a class="code" href="classeyedbsm_1_1BIdx.html#a5ca86628e85a8d72e5eab3239d2d2b6b" title="Not yet documented.">getDataSize</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> dataSize;}
<a name="l00227"></a>00227 
<a name="l00233"></a><a class="code" href="classeyedbsm_1_1BIdx.html#a83d52b2b1dc97826f4cae238fa01fc28">00233</a>     <span class="keyword">const</span> Idx::KeyType *<a class="code" href="classeyedbsm_1_1BIdx.html#a83d52b2b1dc97826f4cae238fa01fc28" title="Not yet documented.">getKeyTypes</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> &amp;nkeys)<span class="keyword"> const </span>{
<a name="l00234"></a>00234       nkeys = _nkeys;
<a name="l00235"></a>00235       <span class="keywordflow">return</span> _keyType;
<a name="l00236"></a>00236     }
<a name="l00237"></a>00237 
<a name="l00242"></a><a class="code" href="classeyedbsm_1_1BIdx.html#af50856432307ecb0ae0b4a9423e6a543">00242</a>     <span class="keywordtype">short</span> <a class="code" href="classeyedbsm_1_1BIdx.html#af50856432307ecb0ae0b4a9423e6a543" title="Not yet documented.">getDspid</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> dspid;}
<a name="l00243"></a>00243 
<a name="l00248"></a><a class="code" href="classeyedbsm_1_1BIdx.html#a79c55c3431f44b60de400f3333fae30c">00248</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classeyedbsm_1_1BIdx.html#a79c55c3431f44b60de400f3333fae30c" title="Not yet documented.">getDegree</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> degree;}
<a name="l00249"></a>00249 
<a name="l00254"></a><a class="code" href="classeyedbsm_1_1BIdx.html#af60da08aee4f8cfa5a6b52933b3c43ae">00254</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classeyedbsm_1_1BIdx.html#af60da08aee4f8cfa5a6b52933b3c43ae" title="Not yet documented.">getMaxChildren</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> maxchildren;}
<a name="l00255"></a>00255 
<a name="l00260"></a>00260     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classeyedbsm_1_1BIdx.html#af942d0a9d08e96f71d3f7cf63cb69a4a" title="Not yet documented.">getCount</a>() <span class="keyword">const</span>;
<a name="l00261"></a>00261 
<a name="l00266"></a>00266     <span class="keywordtype">short</span> <a class="code" href="classeyedbsm_1_1BIdx.html#af76933b1c6b5815c80f1a958ecccf440" title="Not yet documented.">getDefaultDspid</a>() <span class="keyword">const</span>;
<a name="l00267"></a>00267 
<a name="l00273"></a>00273     <span class="keywordtype">void</span> <a class="code" href="classeyedbsm_1_1BIdx.html#a4deb5b8d63f9996af80d97d134a10bf0" title="Not yet documented.">setDefaultDspid</a>(<span class="keywordtype">short</span> dspid);
<a name="l00274"></a>00274 
<a name="l00281"></a>00281     eyedbsm::Status <a class="code" href="classeyedbsm_1_1BIdx.html#aec7656d999d0345a7d499bc96cf4014a" title="Not yet documented.">getObjects</a>(eyedbsm::Oid *&amp;oids, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> &amp;cnt) <span class="keyword">const</span>;
<a name="l00282"></a>00282 
<a name="l00288"></a>00288     <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classeyedbsm_1_1BIdx.html#a62caf88912a757ce1a30087e24055109" title="Not yet documented.">getMagOrder</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> degree);
<a name="l00289"></a>00289 
<a name="l00295"></a>00295     <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classeyedbsm_1_1BIdx.html#a79c55c3431f44b60de400f3333fae30c" title="Not yet documented.">getDegree</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> magorder);
<a name="l00296"></a>00296 
<a name="l00297"></a>00297     ~<a class="code" href="classeyedbsm_1_1BIdx.html" title="Not yet documented.">BIdx</a>();
<a name="l00298"></a>00298 
<a name="l00305"></a>00305     eyedbsm::Status <a class="code" href="classeyedbsm_1_1BIdx.html#ab42b614338d6a7df7cf3cb0897df9714" title="Not yet documented.">insert</a>(<span class="keywordtype">void</span> <span class="keyword">const</span> * key, <span class="keywordtype">void</span> <span class="keyword">const</span> * data);
<a name="l00306"></a>00306 
<a name="l00314"></a>00314     Status <a class="code" href="classeyedbsm_1_1BIdx.html#ab42b614338d6a7df7cf3cb0897df9714" title="Not yet documented.">insert</a>(<span class="keyword">const</span> <span class="keywordtype">void</span> *key, <span class="keyword">const</span> <span class="keywordtype">void</span> *data, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> datasz);
<a name="l00315"></a>00315 
<a name="l00323"></a>00323     eyedbsm::Status <span class="keyword">remove</span>(<span class="keywordtype">void</span> <span class="keyword">const</span> * key, <span class="keywordtype">void</span> <span class="keyword">const</span> * data, eyedbsm::Boolean * found = 0);
<a name="l00324"></a>00324 
<a name="l00333"></a>00333     Status <span class="keyword">remove</span>(<span class="keyword">const</span> <span class="keywordtype">void</span> *key, <span class="keyword">const</span> <span class="keywordtype">void</span> *data, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> datasz, Boolean *found = 0);
<a name="l00334"></a>00334 
<a name="l00342"></a>00342     Status <a class="code" href="classeyedbsm_1_1BIdx.html#ae9ed43c965eef05e1f38c34401976c04" title="Not yet documented.">search</a>(<span class="keyword">const</span> <span class="keywordtype">void</span> *key, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *found_cnt);
<a name="l00343"></a>00343 
<a name="l00351"></a>00351     eyedbsm::Status <a class="code" href="classeyedbsm_1_1BIdx.html#a7113506ba985af11c8c5473a311f704b" title="Not yet documented.">searchAny</a>(<span class="keywordtype">void</span> <span class="keyword">const</span> * key, eyedbsm::Boolean * found, <span class="keywordtype">void</span> * data = 0);
<a name="l00352"></a>00352 
<a name="l00357"></a>00357     eyedbsm::Status <a class="code" href="classeyedbsm_1_1BIdx.html#a19d2981c9a2959fac094a108ecb5559d" title="Not yet documented.">destroy</a>();
<a name="l00358"></a>00358 
<a name="l00359"></a>00359     <span class="comment">//  eyedbsm::Status check(unsigned long * = 0);</span>
<a name="l00360"></a>00360 
<a name="l00365"></a><a class="code" href="classeyedbsm_1_1BIdx.html#af803a037365197922ae5e2d8e9b70042">00365</a>     eyedbsm::Oid <span class="keyword">const</span> &amp; <a class="code" href="classeyedbsm_1_1BIdx.html#af803a037365197922ae5e2d8e9b70042" title="Not yet documented.">oid</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> treeOid; }
<a name="l00366"></a>00366 
<a name="l00371"></a><a class="code" href="classeyedbsm_1_1BIdx.html#a0adf9a5605fae8bf2e9b4282907c522e">00371</a>     eyedbsm::Status <a class="code" href="classeyedbsm_1_1BIdx.html#a0adf9a5605fae8bf2e9b4282907c522e" title="Not yet documented.">status</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> stat; }
<a name="l00372"></a>00372   };
<a name="l00373"></a>00373 
<a name="l00374"></a>00374   <span class="keyword">class </span>BIdxChain;
<a name="l00375"></a>00375 
<a name="l00379"></a><a class="code" href="classeyedbsm_1_1BIdxCursor.html">00379</a>   <span class="keyword">class </span><a class="code" href="classeyedbsm_1_1BIdxCursor.html" title="Not yet documented.">BIdxCursor</a> : <span class="keyword">public</span> IdxCursor {
<a name="l00380"></a>00380     <a class="code" href="classeyedbsm_1_1BIdx.html" title="Not yet documented.">BIdx</a> * idx;
<a name="l00381"></a>00381     <span class="keywordtype">void</span> * sKey;
<a name="l00382"></a>00382     eyedbsm::Boolean sExclusive;
<a name="l00383"></a>00383     <span class="keywordtype">void</span> * eKey;
<a name="l00384"></a>00384     eyedbsm::Boolean eExclusive;
<a name="l00385"></a>00385     BIdxChain * chain;
<a name="l00386"></a>00386     BIdxChain * chainFirst;
<a name="l00387"></a>00387     <span class="keyword">static</span> <span class="keywordtype">char</span> <span class="keyword">const</span> defaultSKey[];
<a name="l00388"></a>00388     <a class="code" href="classeyedbsm_1_1BIdxCursor.html" title="Not yet documented.">BIdxCursor</a>(<a class="code" href="classeyedbsm_1_1BIdxCursor.html" title="Not yet documented.">BIdxCursor</a> <span class="keyword">const</span> &amp;);
<a name="l00389"></a>00389     <a class="code" href="classeyedbsm_1_1BIdxCursor.html" title="Not yet documented.">BIdxCursor</a> &amp; operator=(<a class="code" href="classeyedbsm_1_1BIdxCursor.html" title="Not yet documented.">BIdxCursor</a> <span class="keyword">const</span> &amp;);
<a name="l00390"></a>00390     eyedbsm::Boolean (*user_cmp)(<span class="keyword">const</span> <span class="keywordtype">void</span> *key, <span class="keywordtype">void</span> *cmp_arg);
<a name="l00391"></a>00391     <span class="keywordtype">void</span> *cmp_arg;
<a name="l00392"></a>00392 
<a name="l00393"></a>00393   <span class="keyword">public</span>:
<a name="l00404"></a>00404     <a class="code" href="classeyedbsm_1_1BIdxCursor.html" title="Not yet documented.">BIdxCursor</a>(<a class="code" href="classeyedbsm_1_1BIdx.html" title="Not yet documented.">BIdx</a> *idx,
<a name="l00405"></a>00405                <span class="keywordtype">void</span> <span class="keyword">const</span> * sKey = 0,
<a name="l00406"></a>00406                <span class="keywordtype">void</span> <span class="keyword">const</span> * eKey = defaultSKey,
<a name="l00407"></a>00407                eyedbsm::Boolean sExclusive = eyedbsm::False,
<a name="l00408"></a>00408                eyedbsm::Boolean eExclusive = eyedbsm::False,
<a name="l00409"></a>00409                eyedbsm::Boolean (*user_cmp)(<span class="keyword">const</span> <span class="keywordtype">void</span> *key, <span class="keywordtype">void</span> *cmp_arg) = 0,
<a name="l00410"></a>00410                <span class="keywordtype">void</span> *cmp_arg = 0);
<a name="l00411"></a>00411 
<a name="l00419"></a>00419     Status <a class="code" href="classeyedbsm_1_1BIdxCursor.html#a98dab7d5dd595c78b8a92e440c7d10a6" title="Not yet documented.">next</a>(eyedbsm::Boolean * found, <span class="keywordtype">void</span> * data = 0, Idx::Key * key = 0);
<a name="l00420"></a>00420 
<a name="l00428"></a>00428     Status <a class="code" href="classeyedbsm_1_1BIdxCursor.html#a98dab7d5dd595c78b8a92e440c7d10a6" title="Not yet documented.">next</a>(Boolean *found, DataBuffer &amp;data, Idx::Key *key = 0);
<a name="l00429"></a>00429 
<a name="l00436"></a>00436     Status <a class="code" href="classeyedbsm_1_1BIdxCursor.html#a98dab7d5dd595c78b8a92e440c7d10a6" title="Not yet documented.">next</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> *found_cnt, Idx::Key *key = 0);
<a name="l00437"></a>00437 
<a name="l00438"></a>00438     ~<a class="code" href="classeyedbsm_1_1BIdxCursor.html" title="Not yet documented.">BIdxCursor</a>();
<a name="l00439"></a>00439   };
<a name="l00440"></a>00440 
<a name="l00444"></a>00444 }
<a name="l00445"></a>00445 
<a name="l00446"></a>00446 <span class="preprocessor">#endif</span>
</pre></div></div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Wed May 26 10:24:57 2010 for eyedb by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
