<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>eyedb: Database.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    </ul>
  </div>
<h1>Database.h</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/* </span>
<a name="l00002"></a>00002 <span class="comment">   EyeDB Object Database Management System</span>
<a name="l00003"></a>00003 <span class="comment">   Copyright (C) 1994-2008 SYSRA</span>
<a name="l00004"></a>00004 <span class="comment">   </span>
<a name="l00005"></a>00005 <span class="comment">   EyeDB is free software; you can redistribute it and/or</span>
<a name="l00006"></a>00006 <span class="comment">   modify it under the terms of the GNU Lesser General Public</span>
<a name="l00007"></a>00007 <span class="comment">   License as published by the Free Software Foundation; either</span>
<a name="l00008"></a>00008 <span class="comment">   version 2.1 of the License, or (at your option) any later version.</span>
<a name="l00009"></a>00009 <span class="comment">   </span>
<a name="l00010"></a>00010 <span class="comment">   EyeDB is distributed in the hope that it will be useful,</span>
<a name="l00011"></a>00011 <span class="comment">   but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00012"></a>00012 <span class="comment">   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>
<a name="l00013"></a>00013 <span class="comment">   Lesser General Public License for more details.</span>
<a name="l00014"></a>00014 <span class="comment">   </span>
<a name="l00015"></a>00015 <span class="comment">   You should have received a copy of the GNU Lesser General Public</span>
<a name="l00016"></a>00016 <span class="comment">   License along with this library; if not, write to the Free Software</span>
<a name="l00017"></a>00017 <span class="comment">   Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA </span>
<a name="l00018"></a>00018 <span class="comment">*/</span>
<a name="l00019"></a>00019 
<a name="l00020"></a>00020 <span class="comment">/*</span>
<a name="l00021"></a>00021 <span class="comment">   Author: Eric Viara &lt;viara@sysra.com&gt;</span>
<a name="l00022"></a>00022 <span class="comment">*/</span>
<a name="l00023"></a>00023 
<a name="l00024"></a>00024 
<a name="l00025"></a>00025 <span class="preprocessor">#ifndef _EYEDB_DATABASE_H</span>
<a name="l00026"></a>00026 <span class="preprocessor"></span><span class="preprocessor">#define _EYEDB_DATABASE_H</span>
<a name="l00027"></a>00027 <span class="preprocessor"></span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &lt;eyedb/ObjCache.h&gt;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &lt;vector&gt;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &lt;map&gt;</span>
<a name="l00031"></a>00031 
<a name="l00032"></a>00032 <span class="keyword">namespace </span>eyedb {
<a name="l00033"></a>00033 
<a name="l00039"></a>00039   <span class="keyword">class </span>BEQueue;
<a name="l00040"></a>00040   <span class="keyword">class </span>ObjCache;
<a name="l00041"></a>00041   <span class="keyword">class </span>ExecutableCache;
<a name="l00042"></a>00042   <span class="keyword">class </span>Protection;
<a name="l00043"></a>00043   <span class="keyword">class </span>SchemaInfo;
<a name="l00044"></a>00044   <span class="keyword">class </span>DBProperty;
<a name="l00045"></a>00045   <span class="keyword">class </span>Transaction;
<a name="l00046"></a>00046   <span class="keyword">class </span>GenHashTable;
<a name="l00047"></a>00047 
<a name="l00051"></a><a class="code" href="classeyedb_1_1Database.html">00051</a>   <span class="keyword">class </span><a class="code" href="classeyedb_1_1Database.html" title="Not yet documented.">Database</a> : <span class="keyword">public</span> <a class="code" href="classeyedb_1_1Struct.html" title="Not yet documented.">Struct</a> {
<a name="l00052"></a>00052 
<a name="l00053"></a>00053     <span class="comment">// ----------------------------------------------------------------------</span>
<a name="l00054"></a>00054     <span class="comment">// Database Interface</span>
<a name="l00055"></a>00055     <span class="comment">// ----------------------------------------------------------------------</span>
<a name="l00056"></a>00056   <span class="keyword">public</span>:
<a name="l00057"></a>00057 
<a name="l00058"></a>00058     <span class="keyword">enum</span> OpenFlag {
<a name="l00059"></a>00059       DBRead                    = _DBRead,
<a name="l00060"></a>00060       DBRW                      = _DBRW,
<a name="l00061"></a>00061       DBReadLocal               = DBRead | _DBOpenLocal,
<a name="l00062"></a>00062       DBRWLocal                 = DBRW | _DBOpenLocal,
<a name="l00063"></a>00063       DBReadAdmin               = DBRead | _DBAdmin,
<a name="l00064"></a>00064       DBRWAdmin                 = DBRW | _DBAdmin,
<a name="l00065"></a>00065       DBReadAdminLocal          = DBReadAdmin | _DBOpenLocal,
<a name="l00066"></a>00066       DBRWAdminLocal            = DBRWAdmin | _DBOpenLocal,
<a name="l00067"></a>00067       DBSRead                   = _DBSRead,
<a name="l00068"></a>00068       DBSReadLocal              = DBSRead | _DBOpenLocal,
<a name="l00069"></a>00069       DBSReadAdmin              = DBSRead | _DBAdmin
<a name="l00070"></a>00070     };
<a name="l00071"></a>00071 
<a name="l00077"></a>00077     <a class="code" href="classeyedb_1_1Database.html#a7f1e73c3a200106d867303c79ffc0fc2" title="Not yet documented.">Database</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *dbname, <span class="keyword">const</span> <span class="keywordtype">char</span> *dbmdb_str = 0);
<a name="l00078"></a>00078 
<a name="l00087"></a>00087     <a class="code" href="classeyedb_1_1Database.html#a7f1e73c3a200106d867303c79ffc0fc2" title="Not yet documented.">Database</a>(<a class="code" href="classeyedb_1_1Connection.html" title="Not yet documented.">Connection</a> *conn,
<a name="l00088"></a>00088              <span class="keyword">const</span> <span class="keywordtype">char</span> *dbname,
<a name="l00089"></a>00089              Database::OpenFlag flag = Database::DBRead,
<a name="l00090"></a>00090              <span class="keyword">const</span> <span class="keywordtype">char</span> *user = 0,
<a name="l00091"></a>00091              <span class="keyword">const</span> <span class="keywordtype">char</span> *passwd = 0);
<a name="l00092"></a>00092 
<a name="l00102"></a>00102     <a class="code" href="classeyedb_1_1Database.html#a7f1e73c3a200106d867303c79ffc0fc2" title="Not yet documented.">Database</a>(<a class="code" href="classeyedb_1_1Connection.html" title="Not yet documented.">Connection</a> *conn,
<a name="l00103"></a>00103              <span class="keyword">const</span> <span class="keywordtype">char</span> *dbname,
<a name="l00104"></a>00104              <span class="keyword">const</span> <span class="keywordtype">char</span> *dbmdb_str,
<a name="l00105"></a>00105              Database::OpenFlag flag = Database::DBRead,
<a name="l00106"></a>00106              <span class="keyword">const</span> <span class="keywordtype">char</span> *user = 0,
<a name="l00107"></a>00107              <span class="keyword">const</span> <span class="keywordtype">char</span> *passwd = 0);
<a name="l00108"></a>00108 
<a name="l00115"></a>00115     <a class="code" href="classeyedb_1_1Database.html#a7f1e73c3a200106d867303c79ffc0fc2" title="Not yet documented.">Database</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *dbname, <span class="keywordtype">int</span> dbid, <span class="keyword">const</span> <span class="keywordtype">char</span> *dbmdb_str = 0);
<a name="l00116"></a>00116 
<a name="l00122"></a>00122     <a class="code" href="classeyedb_1_1Database.html#a7f1e73c3a200106d867303c79ffc0fc2" title="Not yet documented.">Database</a>(<span class="keywordtype">int</span> dbid, <span class="keyword">const</span> <span class="keywordtype">char</span> *dbmdb_str = 0);
<a name="l00123"></a>00123 
<a name="l00128"></a>00128     <a class="code" href="classeyedb_1_1Database.html#a7f1e73c3a200106d867303c79ffc0fc2" title="Not yet documented.">Database</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Database.html" title="Not yet documented.">Database</a> &amp;db);
<a name="l00129"></a>00129 
<a name="l00134"></a><a class="code" href="classeyedb_1_1Database.html#af58f6f994a0c6a9ff1355428bdf1fc5b">00134</a>     <span class="keyword">virtual</span> <a class="code" href="classeyedb_1_1Object.html" title="Not yet documented.">Object</a> *<a class="code" href="classeyedb_1_1Database.html#af58f6f994a0c6a9ff1355428bdf1fc5b" title="Not yet documented.">clone</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classeyedb_1_1Database.html#a7f1e73c3a200106d867303c79ffc0fc2" title="Not yet documented.">Database</a>(*<span class="keyword">this</span>);}
<a name="l00135"></a>00135 
<a name="l00144"></a>00144     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> create(<a class="code" href="classeyedb_1_1Connection.html" title="Not yet documented.">Connection</a> *conn, <span class="keyword">const</span> <span class="keywordtype">char</span> *user = 0,
<a name="l00145"></a>00145                   <span class="keyword">const</span> <span class="keywordtype">char</span> *passwd = 0,
<a name="l00146"></a>00146                   DbCreateDescription *pdbdesc = 0);
<a name="l00147"></a>00147 
<a name="l00154"></a>00154     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> create(<a class="code" href="classeyedb_1_1Connection.html" title="Not yet documented.">Connection</a> *conn, DbCreateDescription *pdbdesc);
<a name="l00155"></a>00155 
<a name="l00163"></a>00163     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <span class="keyword">remove</span>(<a class="code" href="classeyedb_1_1Connection.html" title="Not yet documented.">Connection</a> *conn, <span class="keyword">const</span> <span class="keywordtype">char</span> *user = 0, <span class="keyword">const</span> <span class="keywordtype">char</span> *passwd = 0);
<a name="l00164"></a>00164 
<a name="l00171"></a>00171     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <span class="keyword">remove</span>(<span class="keyword">const</span> <span class="keywordtype">char</span> *user = 0, <span class="keyword">const</span> <span class="keywordtype">char</span> *passwd = 0);
<a name="l00172"></a>00172 
<a name="l00181"></a>00181     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#aae0398bc36481df9517fb73717058c53" title="Not yet documented.">setDefaultDBAccess</a>(<a class="code" href="classeyedb_1_1Connection.html" title="Not yet documented.">Connection</a> *conn, <span class="keywordtype">int</span> mode,
<a name="l00182"></a>00182                               <span class="keyword">const</span> <span class="keywordtype">char</span> *user = 0, <span class="keyword">const</span> <span class="keywordtype">char</span> *passwd = 0);
<a name="l00183"></a>00183 
<a name="l00193"></a>00193     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#a3d0e1012187666548f530910a5813253" title="Not yet documented.">setUserDBAccess</a>(<a class="code" href="classeyedb_1_1Connection.html" title="Not yet documented.">Connection</a> *conn, <span class="keyword">const</span> <span class="keywordtype">char</span> *username,
<a name="l00194"></a>00194                            <span class="keywordtype">int</span> mode,
<a name="l00195"></a>00195                            <span class="keyword">const</span> <span class="keywordtype">char</span> *user = 0, <span class="keyword">const</span> <span class="keywordtype">char</span> *passwd = 0);
<a name="l00196"></a>00196 
<a name="l00205"></a>00205     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#abc81851047c267a30ba9b1331cd6b647" title="Not yet documented.">getInfo</a>(<a class="code" href="classeyedb_1_1Connection.html" title="Not yet documented.">Connection</a> *conn,
<a name="l00206"></a>00206                    <span class="keyword">const</span> <span class="keywordtype">char</span> *user, <span class="keyword">const</span> <span class="keywordtype">char</span> *passwd, DbInfoDescription *pdbdesc) <span class="keyword">const</span>;
<a name="l00207"></a>00207 
<a name="l00215"></a>00215     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#abc81851047c267a30ba9b1331cd6b647" title="Not yet documented.">getInfo</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *user, <span class="keyword">const</span> <span class="keywordtype">char</span> *passwd, DbInfoDescription *pdbdesc) <span class="keyword">const</span>;
<a name="l00216"></a>00216 
<a name="l00225"></a>00225     <span class="keyword">virtual</span> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#a21facbf98b79d01610c3426f26611872" title="Not yet documented.">open</a>(<a class="code" href="classeyedb_1_1Connection.html" title="Not yet documented.">Connection</a> *conn,
<a name="l00226"></a>00226                         Database::OpenFlag flag = Database::DBRead,
<a name="l00227"></a>00227                         <span class="keyword">const</span> <span class="keywordtype">char</span> *user = 0,
<a name="l00228"></a>00228                         <span class="keyword">const</span> <span class="keywordtype">char</span> *passwd = 0);
<a name="l00229"></a>00229 
<a name="l00239"></a>00239     <span class="keyword">virtual</span> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#a21facbf98b79d01610c3426f26611872" title="Not yet documented.">open</a>(<a class="code" href="classeyedb_1_1Connection.html" title="Not yet documented.">Connection</a> *conn,
<a name="l00240"></a>00240                         Database::OpenFlag flag,
<a name="l00241"></a>00241                         <span class="keyword">const</span> OpenHints *hints,
<a name="l00242"></a>00242                         <span class="keyword">const</span> <span class="keywordtype">char</span> *user = 0,
<a name="l00243"></a>00243                         <span class="keyword">const</span> <span class="keywordtype">char</span> *passwd = 0);
<a name="l00244"></a>00244 
<a name="l00249"></a>00249     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#ac61b9b759796f493e587a0c7567224f1" title="Not yet documented.">close</a>();
<a name="l00250"></a>00250 
<a name="l00258"></a>00258     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#ab91593bf9d6d7ed889d9af6b858e00b3" title="Not yet documented.">rename</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *newdbname, <span class="keyword">const</span> <span class="keywordtype">char</span> *user = 0, <span class="keyword">const</span> <span class="keywordtype">char</span> *passwd = 0);
<a name="l00259"></a>00259 
<a name="l00267"></a>00267     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#a86853a05962e44f3b5e63d9c6c7a108f" title="Not yet documented.">move</a>(DbCreateDescription *dbdesc, <span class="keyword">const</span> <span class="keywordtype">char</span> *user = 0, <span class="keyword">const</span> <span class="keywordtype">char</span> *passwd = 0);
<a name="l00268"></a>00268 
<a name="l00278"></a>00278     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#a1168fe00ef08d73ce9418e195d3653a1" title="Not yet documented.">copy</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *newdbname, Bool newdbid, DbCreateDescription *dbdesc,
<a name="l00279"></a>00279                 <span class="keyword">const</span> <span class="keywordtype">char</span> *user = 0, <span class="keyword">const</span> <span class="keywordtype">char</span> *passwd = 0);
<a name="l00280"></a>00280 
<a name="l00289"></a>00289     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#ab91593bf9d6d7ed889d9af6b858e00b3" title="Not yet documented.">rename</a>(<a class="code" href="classeyedb_1_1Connection.html" title="Not yet documented.">Connection</a> *conn, <span class="keyword">const</span> <span class="keywordtype">char</span> *newdbname,
<a name="l00290"></a>00290                   <span class="keyword">const</span> <span class="keywordtype">char</span> *user = 0, <span class="keyword">const</span> <span class="keywordtype">char</span> *passwd = 0);
<a name="l00291"></a>00291 
<a name="l00300"></a>00300     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#a86853a05962e44f3b5e63d9c6c7a108f" title="Not yet documented.">move</a>(<a class="code" href="classeyedb_1_1Connection.html" title="Not yet documented.">Connection</a> *conn, DbCreateDescription *dbdesc,
<a name="l00301"></a>00301                 <span class="keyword">const</span> <span class="keywordtype">char</span> *user = 0, <span class="keyword">const</span> <span class="keywordtype">char</span> *passwd = 0);
<a name="l00302"></a>00302 
<a name="l00313"></a>00313     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#a1168fe00ef08d73ce9418e195d3653a1" title="Not yet documented.">copy</a>(<a class="code" href="classeyedb_1_1Connection.html" title="Not yet documented.">Connection</a> *conn, <span class="keyword">const</span> <span class="keywordtype">char</span> *newdbname, Bool newdbid,
<a name="l00314"></a>00314                 DbCreateDescription *dbdesc,
<a name="l00315"></a>00315                 <span class="keyword">const</span> <span class="keywordtype">char</span> *user = 0, <span class="keyword">const</span> <span class="keywordtype">char</span> *passwd = 0);
<a name="l00316"></a>00316 
<a name="l00323"></a>00323     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#a33bf22692d350a26f0cccf0c47979636" title="Not yet documented.">containsObject</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Oid.html" title="Not yet documented.">Oid</a> &amp;oid, Bool &amp;found);
<a name="l00324"></a>00324 
<a name="l00331"></a>00331     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#abbc470cbde859721ba9bc1b976f1540d" title="Not yet documented.">getObjectClass</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Oid.html" title="Not yet documented.">Oid</a> &amp;oid, <a class="code" href="classeyedb_1_1Class.html" title="Not yet documented.">Class</a> *&amp;cl);
<a name="l00332"></a>00332 
<a name="l00339"></a>00339     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#abbc470cbde859721ba9bc1b976f1540d" title="Not yet documented.">getObjectClass</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Oid.html" title="Not yet documented.">Oid</a> &amp;oid, <a class="code" href="classeyedb_1_1Oid.html" title="Not yet documented.">Oid</a> &amp;cls_oid);
<a name="l00340"></a>00340 
<a name="l00341"></a>00341     <span class="comment">// object locking</span>
<a name="l00348"></a>00348 <span class="comment"></span>    <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#ac2aaaa0c40f2c567f4777dab2b915cb7" title="Not yet documented.">setObjectLock</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Oid.html" title="Not yet documented.">Oid</a> &amp;oid, LockMode lockmode);
<a name="l00349"></a>00349 
<a name="l00357"></a>00357     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#ac2aaaa0c40f2c567f4777dab2b915cb7" title="Not yet documented.">setObjectLock</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Oid.html" title="Not yet documented.">Oid</a> &amp;oid, LockMode lockmode,
<a name="l00358"></a>00358                          LockMode &amp;alockmode);
<a name="l00359"></a>00359 
<a name="l00366"></a>00366     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#a5613ecba454d1d78c3ec912a2e2d6f27" title="Not yet documented.">getObjectLock</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Oid.html" title="Not yet documented.">Oid</a> &amp;oid, LockMode &amp;alockmode);
<a name="l00367"></a>00367 
<a name="l00368"></a>00368     <span class="comment">// object loading</span>
<a name="l00376"></a>00376 <span class="comment"></span>    <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#aa4ef40afd7646666e2c295cf8d39886f" title="Not yet documented.">loadObject</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Oid.html" title="Not yet documented.">Oid</a> &amp;oid, ObjectPtr &amp;o,
<a name="l00377"></a>00377                       <span class="keyword">const</span> <a class="code" href="classeyedb_1_1RecMode.html" title="Not yet documented.">RecMode</a> *recmode = RecMode::NoRecurs);
<a name="l00378"></a>00378 
<a name="l00379"></a>00379     <span class="comment">// object loading</span>
<a name="l00387"></a>00387 <span class="comment"></span>    <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#aa4ef40afd7646666e2c295cf8d39886f" title="Not yet documented.">loadObject</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Oid.html" title="Not yet documented.">Oid</a> &amp;oid, <a class="code" href="classeyedb_1_1Object.html" title="Not yet documented.">Object</a> *&amp;o,
<a name="l00388"></a>00388                       <span class="keyword">const</span> <a class="code" href="classeyedb_1_1RecMode.html" title="Not yet documented.">RecMode</a> *recmode = RecMode::NoRecurs);
<a name="l00389"></a>00389 
<a name="l00398"></a>00398     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#aa4ef40afd7646666e2c295cf8d39886f" title="Not yet documented.">loadObject</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Oid.html" title="Not yet documented.">Oid</a> &amp;xoid, ObjectPtr &amp;o,
<a name="l00399"></a>00399                       LockMode lockmode,
<a name="l00400"></a>00400                       <span class="keyword">const</span> <a class="code" href="classeyedb_1_1RecMode.html" title="Not yet documented.">RecMode</a> *recmode = RecMode::NoRecurs);
<a name="l00401"></a>00401 
<a name="l00410"></a>00410     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#aa4ef40afd7646666e2c295cf8d39886f" title="Not yet documented.">loadObject</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Oid.html" title="Not yet documented.">Oid</a> &amp;xoid, <a class="code" href="classeyedb_1_1Object.html" title="Not yet documented.">Object</a> *&amp;o,
<a name="l00411"></a>00411                       LockMode lockmode,
<a name="l00412"></a>00412                       <span class="keyword">const</span> <a class="code" href="classeyedb_1_1RecMode.html" title="Not yet documented.">RecMode</a> *recmode = RecMode::NoRecurs);
<a name="l00413"></a>00413 
<a name="l00421"></a>00421     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#a9a46f42e75385775513d0492d4d213cc" title="Not yet documented.">reloadObject</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Oid.html" title="Not yet documented.">Oid</a> &amp;oid, ObjectPtr &amp;o,
<a name="l00422"></a>00422                         <span class="keyword">const</span> <a class="code" href="classeyedb_1_1RecMode.html" title="Not yet documented.">RecMode</a> *recmode = RecMode::NoRecurs);
<a name="l00423"></a>00423 
<a name="l00424"></a>00424 
<a name="l00432"></a>00432     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#a9a46f42e75385775513d0492d4d213cc" title="Not yet documented.">reloadObject</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Oid.html" title="Not yet documented.">Oid</a> &amp;oid, <a class="code" href="classeyedb_1_1Object.html" title="Not yet documented.">Object</a> *&amp;o,
<a name="l00433"></a>00433                         <span class="keyword">const</span> <a class="code" href="classeyedb_1_1RecMode.html" title="Not yet documented.">RecMode</a> *recmode = RecMode::NoRecurs);
<a name="l00434"></a>00434 
<a name="l00435"></a>00435 
<a name="l00444"></a>00444     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#a9a46f42e75385775513d0492d4d213cc" title="Not yet documented.">reloadObject</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Oid.html" title="Not yet documented.">Oid</a> &amp;oid, ObjectPtr &amp;o,
<a name="l00445"></a>00445                         LockMode lockmode,
<a name="l00446"></a>00446                         <span class="keyword">const</span> <a class="code" href="classeyedb_1_1RecMode.html" title="Not yet documented.">RecMode</a> *recmode = RecMode::NoRecurs);
<a name="l00447"></a>00447 
<a name="l00456"></a>00456     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#a9a46f42e75385775513d0492d4d213cc" title="Not yet documented.">reloadObject</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Oid.html" title="Not yet documented.">Oid</a> &amp;oid, <a class="code" href="classeyedb_1_1Object.html" title="Not yet documented.">Object</a> *&amp;o,
<a name="l00457"></a>00457                         LockMode lockmode,
<a name="l00458"></a>00458                         <span class="keyword">const</span> <a class="code" href="classeyedb_1_1RecMode.html" title="Not yet documented.">RecMode</a> *recmode = RecMode::NoRecurs);
<a name="l00459"></a>00459 
<a name="l00467"></a>00467     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#a9835c684797bb786df2bec62ff459e5f" title="Not yet documented.">loadObjects</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1OidArray.html" title="Not yet documented.">OidArray</a> &amp;oid_array, ObjectPtrVector &amp;obj_vect,
<a name="l00468"></a>00468                        <span class="keyword">const</span> <a class="code" href="classeyedb_1_1RecMode.html" title="Not yet documented.">RecMode</a> *recmode = RecMode::NoRecurs);
<a name="l00469"></a>00469 
<a name="l00477"></a>00477     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#a9835c684797bb786df2bec62ff459e5f" title="Not yet documented.">loadObjects</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1OidArray.html" title="Not yet documented.">OidArray</a> &amp;oid_array, <a class="code" href="classeyedb_1_1ObjectArray.html" title="Not yet documented.">ObjectArray</a> &amp;obj_array,
<a name="l00478"></a>00478                        <span class="keyword">const</span> <a class="code" href="classeyedb_1_1RecMode.html" title="Not yet documented.">RecMode</a> *recmode = RecMode::NoRecurs);
<a name="l00479"></a>00479 
<a name="l00488"></a>00488     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#a9835c684797bb786df2bec62ff459e5f" title="Not yet documented.">loadObjects</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1OidArray.html" title="Not yet documented.">OidArray</a> &amp;oid_array, ObjectPtrVector &amp;obj_vect,
<a name="l00489"></a>00489                        LockMode lockmode,
<a name="l00490"></a>00490                        <span class="keyword">const</span> <a class="code" href="classeyedb_1_1RecMode.html" title="Not yet documented.">RecMode</a> *recmode = RecMode::NoRecurs);
<a name="l00491"></a>00491 
<a name="l00500"></a>00500     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#a9835c684797bb786df2bec62ff459e5f" title="Not yet documented.">loadObjects</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1OidArray.html" title="Not yet documented.">OidArray</a> &amp;oid_array, <a class="code" href="classeyedb_1_1ObjectArray.html" title="Not yet documented.">ObjectArray</a> &amp;obj_array,
<a name="l00501"></a>00501                        LockMode lockmode,
<a name="l00502"></a>00502                        <span class="keyword">const</span> <a class="code" href="classeyedb_1_1RecMode.html" title="Not yet documented.">RecMode</a> *recmode = RecMode::NoRecurs);
<a name="l00503"></a>00503 
<a name="l00510"></a>00510     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#a77af8b69a3b256a56b725e6f4a5e04d8" title="Not yet documented.">removeObject</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Oid.html" title="Not yet documented.">Oid</a> &amp;poid, <span class="keyword">const</span> <a class="code" href="classeyedb_1_1RecMode.html" title="Not yet documented.">RecMode</a> *recmode = RecMode::NoRecurs);
<a name="l00511"></a>00511 
<a name="l00518"></a>00518     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Object.html#a26a2f45991f436f2d95055032c7e0cb8" title="Not yet documented.">isRemoved</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Oid.html" title="Not yet documented.">Oid</a> &amp;poid, Bool &amp;isremoved) <span class="keyword">const</span>;
<a name="l00519"></a>00519 
<a name="l00529"></a>00529     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#a28a64b92d4a5377f75fa4ecd53057836" title="Not yet documented.">makeObject</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Oid.html" title="Not yet documented.">Oid</a> *poid, <span class="keyword">const</span> ObjectHeader *hdr,
<a name="l00530"></a>00530                       Data idr, <a class="code" href="classeyedb_1_1Object.html" title="Not yet documented.">Object</a> **o, Bool useCache = False);
<a name="l00531"></a>00531 
<a name="l00532"></a>00532     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> makeObject_realize(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Oid.html" title="Not yet documented.">Oid</a> *, <span class="keyword">const</span> ObjectHeader *,
<a name="l00533"></a>00533                               Data, <a class="code" href="classeyedb_1_1Object.html" title="Not yet documented.">Object</a> **,
<a name="l00534"></a>00534                               Bool useCache = False);
<a name="l00535"></a>00535 
<a name="l00542"></a>00542     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#a0a5fa840eadef7a2eaaabbbfd794ae30" title="Not yet documented.">setObjectProtection</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Oid.html" title="Not yet documented.">Oid</a> &amp;obj_oid, <span class="keyword">const</span> <a class="code" href="classeyedb_1_1Oid.html" title="Not yet documented.">Oid</a> &amp;prot_oid);
<a name="l00543"></a>00543 
<a name="l00550"></a>00550     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#a0a5fa840eadef7a2eaaabbbfd794ae30" title="Not yet documented.">setObjectProtection</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Oid.html" title="Not yet documented.">Oid</a> &amp;obj_oid, Protection *prot);
<a name="l00551"></a>00551 
<a name="l00558"></a>00558     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#a574dc76a580addba29fece96e21217a9" title="Not yet documented.">getObjectProtection</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Oid.html" title="Not yet documented.">Oid</a> &amp;obj_oid, <a class="code" href="classeyedb_1_1Oid.html" title="Not yet documented.">Oid</a> &amp;prot_oid);
<a name="l00559"></a>00559 
<a name="l00566"></a>00566     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#a574dc76a580addba29fece96e21217a9" title="Not yet documented.">getObjectProtection</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Oid.html" title="Not yet documented.">Oid</a> &amp;obj_oid, Protection *&amp;prot);
<a name="l00567"></a>00567 
<a name="l00568"></a>00568     <span class="comment">// location management</span>
<a name="l00575"></a>00575 <span class="comment"></span>    <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#a726ac19f3d7bfda75e28713dca1fe7b8" title="Not yet documented.">getObjectLocations</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1OidArray.html" title="Not yet documented.">OidArray</a> &amp;oid_arr, ObjectLocationArray &amp;locarr);
<a name="l00576"></a>00576 
<a name="l00583"></a>00583     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#a726ac19f3d7bfda75e28713dca1fe7b8" title="Not yet documented.">getObjectLocations</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1ObjectArray.html" title="Not yet documented.">ObjectArray</a> &amp;obj_arr, ObjectLocationArray &amp;locarr);
<a name="l00584"></a>00584 
<a name="l00591"></a>00591     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#a378062bb748fb1fd2dddcc7d47b3194f" title="Not yet documented.">moveObjects</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1OidArray.html" title="Not yet documented.">OidArray</a> &amp;oid_arr, <span class="keyword">const</span> Dataspace *dataspace);
<a name="l00592"></a>00592 
<a name="l00599"></a>00599     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#a378062bb748fb1fd2dddcc7d47b3194f" title="Not yet documented.">moveObjects</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1ObjectArray.html" title="Not yet documented.">ObjectArray</a> &amp;obj_arr, <span class="keyword">const</span> Dataspace *dataspace);
<a name="l00600"></a>00600 
<a name="l00601"></a>00601     <span class="comment">// transaction support</span>
<a name="l00602"></a>00602   
<a name="l00607"></a>00607     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#af8f2213bc15c3d36173af6a5b04134fb" title="Not yet documented.">transactionBegin</a>();
<a name="l00608"></a>00608 
<a name="l00614"></a>00614     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#af8f2213bc15c3d36173af6a5b04134fb" title="Not yet documented.">transactionBegin</a>(<span class="keyword">const</span> TransactionParams &amp;params);
<a name="l00615"></a>00615 
<a name="l00620"></a>00620     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#adfe45b3d075eb194a89dee9bd3b82b19" title="Not yet documented.">transactionBeginExclusive</a>();
<a name="l00621"></a>00621 
<a name="l00626"></a>00626     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#af60f55e612dfd52fb614f4eb5902a432" title="Not yet documented.">transactionCommit</a>();
<a name="l00627"></a>00627 
<a name="l00632"></a>00632     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#a16ee1a0fd9069291fc95b9a5392957d3" title="Not yet documented.">transactionAbort</a>();
<a name="l00633"></a>00633 
<a name="l00638"></a>00638     <a class="code" href="classeyedb_1_1Transaction.html" title="Not yet documented.">Transaction</a> *<a class="code" href="classeyedb_1_1Database.html#a456bd1c11442ff68419496b21ce9f1bf" title="Not yet documented.">getCurrentTransaction</a>();
<a name="l00639"></a>00639 
<a name="l00644"></a>00644     <a class="code" href="classeyedb_1_1Transaction.html" title="Not yet documented.">Transaction</a> *<a class="code" href="classeyedb_1_1Database.html#aa38c3c080b6286894f2676c889652dc6" title="Not yet documented.">getRootTransaction</a>();
<a name="l00645"></a>00645 
<a name="l00650"></a>00650     Bool <a class="code" href="classeyedb_1_1Database.html#afc4fc5d5401c28916c3f85844c27c48b" title="Not yet documented.">isInTransaction</a>() <span class="keyword">const</span>;
<a name="l00651"></a>00651 
<a name="l00657"></a>00657     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#a5602c4a950ca0fac8c4dd0f4c10ab208" title="Not yet documented.">setDefaultTransactionParams</a>(<span class="keyword">const</span> TransactionParams &amp;params);
<a name="l00658"></a>00658 
<a name="l00663"></a>00663     TransactionParams <a class="code" href="classeyedb_1_1Database.html#a153ac3880d6267da92e532e940e8e353" title="Not yet documented.">getDefaultTransactionParams</a>();
<a name="l00664"></a>00664 
<a name="l00669"></a>00669     <span class="keywordtype">void</span> <a class="code" href="classeyedb_1_1Database.html#ab4bcc36d9505e95c1b4c9179da65116a" title="Not yet documented.">setCommitOnClose</a>(Bool commit_on_close);
<a name="l00670"></a>00670 
<a name="l00675"></a><a class="code" href="classeyedb_1_1Database.html#aa6c3f2631167f0bfd76d71ce32d136ea">00675</a>     Bool <a class="code" href="classeyedb_1_1Database.html#aa6c3f2631167f0bfd76d71ce32d136ea" title="Not yet documented.">getCommitOnClose</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> commit_on_close;}
<a name="l00676"></a>00676 
<a name="l00681"></a><a class="code" href="classeyedb_1_1Database.html#ad69634f4f85f8f9e3e4723c0e46bcab6">00681</a>     <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classeyedb_1_1Database.html#ad69634f4f85f8f9e3e4723c0e46bcab6" title="Not yet documented.">setDefaultCommitOnClose</a>(Bool _def_commit_on_close) {
<a name="l00682"></a>00682       def_commit_on_close = _def_commit_on_close;
<a name="l00683"></a>00683     }    
<a name="l00684"></a>00684 
<a name="l00689"></a><a class="code" href="classeyedb_1_1Database.html#a728f36c57f0958e04747ce0a80f75b6c">00689</a>     <span class="keyword">static</span> Bool <a class="code" href="classeyedb_1_1Database.html#a728f36c57f0958e04747ce0a80f75b6c" title="Not yet documented.">getDefaultCommitOnClose</a>() {<span class="keywordflow">return</span> def_commit_on_close;}
<a name="l00690"></a>00690   
<a name="l00695"></a>00695     <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classeyedb_1_1Database.html#a933f6fabf708bd55769c152a94cfaa88" title="Not yet documented.">getName</a>() <span class="keyword">const</span>;
<a name="l00696"></a>00696 
<a name="l00701"></a>00701     <span class="keywordtype">int</span> <a class="code" href="classeyedb_1_1Database.html#a624ecbef3177b6d41b0b3603347b1fe1" title="Not yet documented.">getDbid</a>() <span class="keyword">const</span>;
<a name="l00702"></a>00702 
<a name="l00707"></a><a class="code" href="classeyedb_1_1Database.html#ade2158c80f8300fa852838f79951c506">00707</a>     <span class="keywordtype">int</span> <a class="code" href="classeyedb_1_1Database.html#ade2158c80f8300fa852838f79951c506" title="Not yet documented.">getVersionNumber</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> version;}
<a name="l00708"></a>00708 
<a name="l00713"></a>00713     <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classeyedb_1_1Database.html#a15a9d9dd16fe43c9ea6c44d9256e14bd" title="Not yet documented.">getVersion</a>() <span class="keyword">const</span>;
<a name="l00714"></a>00714 
<a name="l00719"></a>00719     Bool <a class="code" href="classeyedb_1_1Database.html#afde6421358fa2fb3318040d95ea272d0" title="Not yet documented.">isOpened</a>() <span class="keyword">const</span>;
<a name="l00720"></a>00720 
<a name="l00725"></a>00725     Database::OpenFlag <a class="code" href="classeyedb_1_1Database.html#a47e95ecdec6c7f28bbcb1b14b314240b" title="Not yet documented.">getOpenFlag</a>() <span class="keyword">const</span>;
<a name="l00726"></a>00726 
<a name="l00731"></a>00731     DbHandle *<a class="code" href="classeyedb_1_1Database.html#adcdeae78b06ab1433af89c76ec824b5d" title="Not yet documented.">getDbHandle</a>();
<a name="l00732"></a>00732 
<a name="l00737"></a>00737     <span class="keyword">const</span> <a class="code" href="classeyedb_1_1Schema.html" title="Not yet documented.">Schema</a> *<a class="code" href="classeyedb_1_1Database.html#a6dba1e8fac9d52f3713dc1984f7e4bec" title="Not yet documented.">getSchema</a>() <span class="keyword">const</span>;
<a name="l00738"></a>00738 
<a name="l00743"></a>00743     <a class="code" href="classeyedb_1_1Schema.html" title="Not yet documented.">Schema</a> *<a class="code" href="classeyedb_1_1Database.html#a6dba1e8fac9d52f3713dc1984f7e4bec" title="Not yet documented.">getSchema</a>();
<a name="l00744"></a>00744 
<a name="l00749"></a>00749     <a class="code" href="classeyedb_1_1Connection.html" title="Not yet documented.">Connection</a> *<a class="code" href="classeyedb_1_1Database.html#ab7c6bb3b7bdf3464cdbbe8ad1195df88" title="Not yet documented.">getConnection</a>();
<a name="l00750"></a>00750 
<a name="l00755"></a>00755     <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classeyedb_1_1Database.html#a517a048750beb30ff20ff25cb45f7b47" title="Not yet documented.">setDefaultDBMDB</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *dbmdb_str);
<a name="l00756"></a>00756 
<a name="l00761"></a>00761     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classeyedb_1_1Database.html#a60dfae87edca630788778041c7691564" title="Not yet documented.">getDefaultDBMDB</a>();
<a name="l00762"></a>00762 
<a name="l00767"></a>00767     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classeyedb_1_1Database.html#a2c1713fbfd4356687cd592df23f3c590" title="Not yet documented.">getDefaultServerDBMDB</a>();
<a name="l00768"></a>00768 
<a name="l00773"></a>00773     <span class="keyword">static</span> <span class="keyword">const</span> std::vector&lt;std::string&gt; &amp;<a class="code" href="classeyedb_1_1Database.html#ac20d2c2792aae42341e661a94dce2f16" title="Not yet documented.">getGrantedDBMDB</a>();
<a name="l00774"></a>00774 
<a name="l00779"></a>00779     <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classeyedb_1_1Database.html#a48510d26abf5561b24f5174a4f3da479" title="Not yet documented.">getDBMDB</a>() <span class="keyword">const</span>;
<a name="l00780"></a>00780 
<a name="l00785"></a>00785     Bool <a class="code" href="classeyedb_1_1Database.html#ab2c64dd6703f83a8560c6d163105ab82" title="Not yet documented.">isBackEnd</a>() <span class="keyword">const</span>;
<a name="l00786"></a>00786 
<a name="l00791"></a>00791     Bool <a class="code" href="classeyedb_1_1Database.html#ac4d4a95cf3ea9bcbc769b7b1e50cbd79" title="Not yet documented.">isLocal</a>() <span class="keyword">const</span>;
<a name="l00792"></a>00792 
<a name="l00797"></a><a class="code" href="classeyedb_1_1Database.html#a7a9d09e0803bc965bbc8339398ca72b6">00797</a>     <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classeyedb_1_1Database.html#a7a9d09e0803bc965bbc8339398ca72b6" title="Not yet documented.">getUser</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> _user;}
<a name="l00798"></a>00798 
<a name="l00803"></a><a class="code" href="classeyedb_1_1Database.html#a4c71de7fd007584bcb2a939e25d8d466">00803</a>     <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classeyedb_1_1Database.html#a4c71de7fd007584bcb2a939e25d8d466" title="Not yet documented.">getPassword</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> _passwd;}
<a name="l00804"></a>00804 
<a name="l00809"></a><a class="code" href="classeyedb_1_1Database.html#a0b5d650b335b8a761c4cfa9f78e81444">00809</a>     <span class="keywordtype">int</span> <a class="code" href="classeyedb_1_1Database.html#a0b5d650b335b8a761c4cfa9f78e81444" title="Not yet documented.">getUid</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> uid;}
<a name="l00810"></a>00810   
<a name="l00811"></a>00811     <span class="comment">// datafile management</span>
<a name="l00820"></a>00820 <span class="comment"></span>    <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#a74478bce7c66389d96a0cd2164a7e280" title="Not yet documented.">getDatabasefile</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *&amp;database_file,
<a name="l00821"></a>00821                            Bool fetch = False,
<a name="l00822"></a>00822                            <span class="keyword">const</span> <span class="keywordtype">char</span> *user = 0,
<a name="l00823"></a>00823                            <span class="keyword">const</span> <span class="keywordtype">char</span> *passwd = 0);
<a name="l00824"></a>00824 
<a name="l00834"></a>00834     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#a40767eb46ec829f79a9c496029703818" title="Not yet documented.">getDatafiles</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Datafile.html" title="Not yet documented.">Datafile</a> **&amp;datafiles, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> &amp;cnt,
<a name="l00835"></a>00835                         Bool fetch = False,
<a name="l00836"></a>00836                         <span class="keyword">const</span> <span class="keywordtype">char</span> *user = 0,
<a name="l00837"></a>00837                         <span class="keyword">const</span> <span class="keywordtype">char</span> *passwd = 0);
<a name="l00838"></a>00838 
<a name="l00848"></a>00848     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#a9bf4660e16cf21055bbc136add3cf437" title="Not yet documented.">getDatafile</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <span class="keywordtype">id</span>, <span class="keyword">const</span> <a class="code" href="classeyedb_1_1Datafile.html" title="Not yet documented.">Datafile</a> *&amp;datafile,
<a name="l00849"></a>00849                        Bool fetch = False,
<a name="l00850"></a>00850                        <span class="keyword">const</span> <span class="keywordtype">char</span> *user = 0,
<a name="l00851"></a>00851                        <span class="keyword">const</span> <span class="keywordtype">char</span> *passwd = 0);
<a name="l00852"></a>00852 
<a name="l00862"></a>00862     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#a9bf4660e16cf21055bbc136add3cf437" title="Not yet documented.">getDatafile</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *name_or_file, <span class="keyword">const</span> <a class="code" href="classeyedb_1_1Datafile.html" title="Not yet documented.">Datafile</a> *&amp;datafile,
<a name="l00863"></a>00863                        Bool fetch = False,
<a name="l00864"></a>00864                        <span class="keyword">const</span> <span class="keywordtype">char</span> *user = 0,
<a name="l00865"></a>00865                        <span class="keyword">const</span> <span class="keywordtype">char</span> *passwd = 0);
<a name="l00866"></a>00866 
<a name="l00877"></a>00877     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#aeb7425b11d310f69031dfc09ffc2fe94" title="Not yet documented.">createDatafile</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *filedir, <span class="keyword">const</span> <span class="keywordtype">char</span> *filename,
<a name="l00878"></a>00878                           <span class="keyword">const</span> <span class="keywordtype">char</span> *name, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> maxsize,
<a name="l00879"></a>00879                           <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> slotsize, DatType dtype);
<a name="l00880"></a>00880 
<a name="l00881"></a>00881     <span class="comment">// dataspace management</span>
<a name="l00891"></a>00891 <span class="comment"></span>    <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#a8850dc3120452de294769092ce3cdbe3" title="Not yet documented.">getDataspaces</a>(<span class="keyword">const</span> Dataspace **&amp;dataspace, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> &amp;cnt,
<a name="l00892"></a>00892                          Bool fetch = False,
<a name="l00893"></a>00893                          <span class="keyword">const</span> <span class="keywordtype">char</span> *user = 0,
<a name="l00894"></a>00894                          <span class="keyword">const</span> <span class="keywordtype">char</span> *passwd = 0);
<a name="l00895"></a>00895 
<a name="l00905"></a>00905     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#a5bae8674108019bfe1b0ea6697ceec41" title="Not yet documented.">getDataspace</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <span class="keywordtype">id</span>, <span class="keyword">const</span> Dataspace *&amp;dataspace,
<a name="l00906"></a>00906                         Bool fetch = False,
<a name="l00907"></a>00907                         <span class="keyword">const</span> <span class="keywordtype">char</span> *user = 0,
<a name="l00908"></a>00908                         <span class="keyword">const</span> <span class="keywordtype">char</span> *passwd = 0);
<a name="l00909"></a>00909 
<a name="l00919"></a>00919     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#a5bae8674108019bfe1b0ea6697ceec41" title="Not yet documented.">getDataspace</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *name, <span class="keyword">const</span> Dataspace *&amp;dataspace,
<a name="l00920"></a>00920                         Bool fetch = False,
<a name="l00921"></a>00921                         <span class="keyword">const</span> <span class="keywordtype">char</span> *user = 0,
<a name="l00922"></a>00922                         <span class="keyword">const</span> <span class="keywordtype">char</span> *passwd = 0);
<a name="l00923"></a>00923 
<a name="l00929"></a>00929     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#a6a9664e2bd2f24af1281923117b0f39a" title="Not yet documented.">getDefaultDataspace</a>(<span class="keyword">const</span> Dataspace *&amp;dataspace);
<a name="l00930"></a>00930 
<a name="l00936"></a>00936     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#a314157c4ea6e1089c84b08e62d15df9e" title="Not yet documented.">setDefaultDataspace</a>(<span class="keyword">const</span> Dataspace *dataspace);
<a name="l00937"></a>00937 
<a name="l00945"></a>00945     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#a3bb71375eaec226b9343d0643f45cafb" title="Not yet documented.">createDataspace</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *dspname, <span class="keyword">const</span> <a class="code" href="classeyedb_1_1Datafile.html" title="Not yet documented.">Datafile</a> **datafiles,
<a name="l00946"></a>00946                            <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> datafile_cnt);
<a name="l00947"></a>00947 
<a name="l00948"></a>00948     <span class="keyword">const</span> DBProperty *getProperty(<span class="keyword">const</span> <span class="keywordtype">char</span> *) <span class="keyword">const</span>;
<a name="l00949"></a>00949     DBProperty *getProperty(<span class="keyword">const</span> <span class="keywordtype">char</span> *);
<a name="l00950"></a>00950     <span class="keyword">const</span> DBProperty **getProperties(<span class="keywordtype">int</span> &amp;prop_cnt) <span class="keyword">const</span>;
<a name="l00951"></a>00951     DBProperty **getProperties(<span class="keywordtype">int</span> &amp;prop_cnt);
<a name="l00952"></a>00952 
<a name="l00958"></a>00958     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classeyedb_1_1Database.html#a763d85903827db50fb6b8416eaafd9db" title="Not yet documented.">getStringFlag</a>(Database::OpenFlag open_flag);
<a name="l00959"></a>00959 
<a name="l00964"></a><a class="code" href="classeyedb_1_1Database.html#ac7c18b98e0250876030f17866a6db9a1">00964</a>     <span class="keyword">virtual</span> <a class="code" href="classeyedb_1_1Database.html" title="Not yet documented.">Database</a> *<a class="code" href="classeyedb_1_1Database.html#ac7c18b98e0250876030f17866a6db9a1" title="Not yet documented.">asDatabase</a>() {<span class="keywordflow">return</span> <span class="keyword">this</span>;}
<a name="l00965"></a>00965 
<a name="l00970"></a><a class="code" href="classeyedb_1_1Database.html#a8be68f52b9e69b38c8bee495bc040c0d">00970</a>     <span class="keyword">virtual</span> <span class="keyword">const</span> <a class="code" href="classeyedb_1_1Database.html" title="Not yet documented.">Database</a> *<a class="code" href="classeyedb_1_1Database.html#a8be68f52b9e69b38c8bee495bc040c0d" title="Not yet documented.">asDatabase</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <span class="keyword">this</span>;}
<a name="l00971"></a>00971 
<a name="l00975"></a>00975     <span class="keyword">virtual</span> <a class="code" href="classeyedb_1_1Database.html#a8aef0a082a322dfe45424c7386d41f0a" title="Not yet documented.">~Database</a>();
<a name="l00976"></a>00976 
<a name="l00982"></a>00982     <a class="code" href="classeyedb_1_1Object.html" title="Not yet documented.">Object</a> *<a class="code" href="classeyedb_1_1Database.html#a51511edf65dce4d5aab240ec08731632" title="Not yet documented.">getCacheObject</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Oid.html" title="Not yet documented.">Oid</a> &amp;xoid);
<a name="l00983"></a>00983 
<a name="l00984"></a>00984     <span class="comment">// auto register</span>
<a name="l00989"></a>00989 <span class="comment"></span>    <span class="keywordtype">void</span> <a class="code" href="classeyedb_1_1Database.html#ad26e8984c6ad728eea5c6a9b3accf640" title="Not yet documented.">autoRegisterObjects</a>(Bool on);
<a name="l00990"></a>00990 
<a name="l00995"></a><a class="code" href="classeyedb_1_1Database.html#a69551abd7146fae9590f96bc47bdcc00">00995</a>     Bool <a class="code" href="classeyedb_1_1Database.html#a69551abd7146fae9590f96bc47bdcc00" title="Not yet documented.">areObjectsAutoRegistered</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> auto_register_on;}
<a name="l00996"></a>00996 
<a name="l01002"></a>01002     <span class="keywordtype">void</span> <a class="code" href="classeyedb_1_1Database.html#a0ee881a7b49dadcb3c8b9a418821e175" title="Not yet documented.">addToRegister</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Object.html" title="Not yet documented.">Object</a> *o, Bool force = False);
<a name="l01003"></a>01003 
<a name="l01008"></a>01008     <span class="keywordtype">void</span> <a class="code" href="classeyedb_1_1Database.html#a5b3d07b5d05abc901a5378603c6dea21" title="Not yet documented.">rmvFromRegister</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Object.html" title="Not yet documented.">Object</a> *o);
<a name="l01009"></a>01009 
<a name="l01014"></a>01014     ObjectList *<a class="code" href="classeyedb_1_1Database.html#a33b153a7015d46e635723b4ad96dce11" title="Not yet documented.">getRegisteredObjects</a>();
<a name="l01015"></a>01015 
<a name="l01020"></a>01020     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#a095fb292bbaaa4023591da3e29b178ef" title="Not yet documented.">storeRegisteredObjects</a>();
<a name="l01021"></a>01021 
<a name="l01025"></a>01025     <span class="keywordtype">void</span> <a class="code" href="classeyedb_1_1Database.html#ae2ab9c94c365938964b347be7b88f2b0" title="Not yet documented.">clearRegister</a>();
<a name="l01026"></a>01026 
<a name="l01031"></a>01031     <span class="keywordtype">void</span> <a class="code" href="classeyedb_1_1Database.html#a615de9fade875aae973be1a62c57fc21" title="Not yet documented.">storeOnCommit</a>(Bool on);
<a name="l01032"></a>01032 
<a name="l01037"></a><a class="code" href="classeyedb_1_1Database.html#ade9031bdfa4368905baab1dcd5fb1ff5">01037</a>     Bool <a class="code" href="classeyedb_1_1Database.html#ade9031bdfa4368905baab1dcd5fb1ff5" title="Not yet documented.">isStoreOnCommit</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> store_on_commit;}
<a name="l01038"></a>01038 
<a name="l01043"></a>01043     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#ad7d991c148de59b73e945f25b059e4ca" title="Not yet documented.">setMaxObjectCount</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> max_obj_cnt);
<a name="l01044"></a>01044 
<a name="l01049"></a>01049     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#ad35cce210d0fe0a79b6dd2e6072a0ca3" title="Not yet documented.">getMaxObjectCount</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; max_obj_cnt);
<a name="l01050"></a>01050 
<a name="l01055"></a>01055     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#a8ff66bd7896d2e7aaa51e86151eeee5f" title="Not yet documented.">setLogSize</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> logsize);
<a name="l01056"></a>01056 
<a name="l01061"></a>01061     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#ab83ad7cdfc8c6d732ae09f65211a100a" title="Not yet documented.">getLogSize</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; logsize);
<a name="l01062"></a>01062 
<a name="l01063"></a>01063     <span class="comment">// deprecated</span>
<a name="l01064"></a>01064     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#aa4ef40afd7646666e2c295cf8d39886f" title="Not yet documented.">loadObject</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Oid.html" title="Not yet documented.">Oid</a> *, <a class="code" href="classeyedb_1_1Object.html" title="Not yet documented.">Object</a> **,
<a name="l01065"></a>01065                       <span class="keyword">const</span> <a class="code" href="classeyedb_1_1RecMode.html" title="Not yet documented.">RecMode</a> * = RecMode::NoRecurs);
<a name="l01066"></a>01066 
<a name="l01067"></a>01067     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#aa4ef40afd7646666e2c295cf8d39886f" title="Not yet documented.">loadObject</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Oid.html" title="Not yet documented.">Oid</a> *, <a class="code" href="classeyedb_1_1Object.html" title="Not yet documented.">Object</a> **,
<a name="l01068"></a>01068                       LockMode lockmode,
<a name="l01069"></a>01069                       <span class="keyword">const</span> <a class="code" href="classeyedb_1_1RecMode.html" title="Not yet documented.">RecMode</a> * = RecMode::NoRecurs);
<a name="l01070"></a>01070 
<a name="l01071"></a>01071     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#a9a46f42e75385775513d0492d4d213cc" title="Not yet documented.">reloadObject</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Oid.html" title="Not yet documented.">Oid</a> *, <a class="code" href="classeyedb_1_1Object.html" title="Not yet documented.">Object</a> **,
<a name="l01072"></a>01072                         <span class="keyword">const</span> <a class="code" href="classeyedb_1_1RecMode.html" title="Not yet documented.">RecMode</a> * = RecMode::NoRecurs);
<a name="l01073"></a>01073 
<a name="l01074"></a>01074     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#a9a46f42e75385775513d0492d4d213cc" title="Not yet documented.">reloadObject</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Oid.html" title="Not yet documented.">Oid</a> *, <a class="code" href="classeyedb_1_1Object.html" title="Not yet documented.">Object</a> **,
<a name="l01075"></a>01075                         LockMode lockmode,
<a name="l01076"></a>01076                         <span class="keyword">const</span> <a class="code" href="classeyedb_1_1RecMode.html" title="Not yet documented.">RecMode</a> * = RecMode::NoRecurs);
<a name="l01077"></a>01077 
<a name="l01078"></a>01078     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Database.html#a77af8b69a3b256a56b725e6f4a5e04d8" title="Not yet documented.">removeObject</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Oid.html" title="Not yet documented.">Oid</a> *,
<a name="l01079"></a>01079                         <span class="keyword">const</span> <a class="code" href="classeyedb_1_1RecMode.html" title="Not yet documented.">RecMode</a> * = RecMode::NoRecurs);
<a name="l01080"></a>01080 
<a name="l01081"></a>01081     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> updateSchema(<span class="keyword">const</span> <span class="keywordtype">char</span> *odlfile, <span class="keyword">const</span> <span class="keywordtype">char</span> *package,
<a name="l01082"></a>01082                         <span class="keyword">const</span> <span class="keywordtype">char</span> *schname = 0, <span class="keyword">const</span> <span class="keywordtype">char</span> *db_prefix = 0,
<a name="l01083"></a>01083                         FILE *fd = stdout, <span class="keyword">const</span> <span class="keywordtype">char</span> *cpp_cmd = 0,
<a name="l01084"></a>01084                         <span class="keyword">const</span> <span class="keywordtype">char</span> *cpp_flags = 0);
<a name="l01085"></a>01085 
<a name="l01086"></a>01086     <span class="comment">// not implemented (yet ?)</span>
<a name="l01087"></a>01087     <span class="comment">/*</span>
<a name="l01088"></a>01088 <span class="comment">    Status execOQL(Object *&amp;, const char *fmt, ...);</span>
<a name="l01089"></a>01089 <span class="comment">    Status execOQL(Object *&amp;, const RecMode *,</span>
<a name="l01090"></a>01090 <span class="comment">                   const char *fmt, ...);</span>
<a name="l01091"></a>01091 <span class="comment">    Status execOQL(ObjectArray &amp;, const char *fmt, ...);</span>
<a name="l01092"></a>01092 <span class="comment">    Status execOQL(ObjectArray &amp;, const RecMode *,</span>
<a name="l01093"></a>01093 <span class="comment">                   const char *fmt, ...);</span>
<a name="l01094"></a>01094 <span class="comment">    Status execOQL(Oid &amp;, const char *fmt, ...);</span>
<a name="l01095"></a>01095 <span class="comment">    Status execOQL(OidArray &amp;, const char *fmt, ...);</span>
<a name="l01096"></a>01096 <span class="comment">    Status execOQL(Value &amp;, const char *fmt, ...);</span>
<a name="l01097"></a>01097 <span class="comment">    Status execOQL(ValueArray &amp;, const char *fmt, ...);</span>
<a name="l01098"></a>01098 <span class="comment">    */</span>
<a name="l01099"></a>01099 
<a name="l01100"></a>01100     <span class="keyword">static</span> <span class="keywordtype">void</span> operator delete(<span class="keywordtype">void</span> *);
<a name="l01101"></a>01101 
<a name="l01102"></a>01102     <span class="comment">// ----------------------------------------------------------------------</span>
<a name="l01103"></a>01103     <span class="comment">// Database Protected Part</span>
<a name="l01104"></a>01104     <span class="comment">// ----------------------------------------------------------------------</span>
<a name="l01105"></a>01105   <span class="keyword">protected</span>:
<a name="l01106"></a>01106     <span class="keywordtype">char</span> *name;
<a name="l01107"></a>01107     <span class="keywordtype">int</span> dbid;
<a name="l01108"></a>01108     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> version;
<a name="l01109"></a>01109     <a class="code" href="classeyedb_1_1Connection.html" title="Not yet documented.">Connection</a> *conn;
<a name="l01110"></a>01110     OpenFlag open_flag;
<a name="l01111"></a>01111     DbHandle *dbh;
<a name="l01112"></a>01112     <a class="code" href="classeyedb_1_1Schema.html" title="Not yet documented.">Schema</a> *sch;
<a name="l01113"></a>01113     <a class="code" href="classeyedb_1_1ObjCache.html" title="Not yet documented.">ObjCache</a> *temp_cache;
<a name="l01114"></a>01114     <a class="code" href="classeyedb_1_1ObjCache.html" title="Not yet documented.">ObjCache</a> *obj_register;
<a name="l01115"></a>01115     Bool auto_register_on;
<a name="l01116"></a>01116     Bool store_on_commit;
<a name="l01117"></a>01117     Bool open_state;
<a name="l01118"></a>01118     <span class="keywordtype">int</span> open_refcnt;
<a name="l01119"></a>01119     BEQueue *bequeue;
<a name="l01120"></a>01120     Bool is_back_end;
<a name="l01121"></a>01121     <span class="keyword">static</span> <span class="keywordtype">char</span> *defaultDBMDB;
<a name="l01122"></a>01122     <span class="keyword">static</span> LinkedList *dbopen_list;
<a name="l01123"></a>01123     <span class="keywordtype">char</span> *_user, *_passwd;
<a name="l01124"></a>01124     <span class="keywordtype">int</span> uid;
<a name="l01125"></a>01125     <a class="code" href="classeyedb_1_1Transaction.html" title="Not yet documented.">Transaction</a> *curtrs, *roottrs;
<a name="l01126"></a>01126     Bool commit_on_close_set;
<a name="l01127"></a>01127     Bool commit_on_close;
<a name="l01128"></a>01128     <span class="keyword">static</span> Bool def_commit_on_close;
<a name="l01129"></a>01129     <a class="code" href="classeyedb_1_1Oid.html" title="Not yet documented.">Oid</a> m_protoid;
<a name="l01130"></a>01130     Bool oqlInit;
<a name="l01131"></a>01131 
<a name="l01132"></a>01132   <span class="keyword">public</span>:
<a name="l01133"></a>01133     <span class="keyword">typedef</span> <a class="code" href="classeyedb_1_1Object.html" title="Not yet documented.">Object</a> *(*consapp_t)(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Class.html" title="Not yet documented.">Class</a> *, Data);
<a name="l01134"></a>01134 
<a name="l01135"></a>01135   <span class="keyword">protected</span>:
<a name="l01136"></a>01136     <span class="keywordtype">int</span> consapp_cnt;
<a name="l01137"></a>01137     <a class="code" href="classeyedb_1_1GenHashTable.html" title="Not yet documented.">GenHashTable</a> *hashapp[4];
<a name="l01138"></a>01138     consapp_t *consapp[4];
<a name="l01139"></a>01139 
<a name="l01140"></a>01140     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> init_db(<a class="code" href="classeyedb_1_1Connection.html" title="Not yet documented.">Connection</a> *);
<a name="l01141"></a>01141     Bool initialized;
<a name="l01142"></a>01142     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> create_prologue(DbCreateDescription &amp;,
<a name="l01143"></a>01143                            DbCreateDescription **);
<a name="l01144"></a>01144     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> transactionBegin_realize(<span class="keyword">const</span> TransactionParams *params);
<a name="l01145"></a>01145     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> transactionCommit_realize();
<a name="l01146"></a>01146     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> transactionAbort_realize();
<a name="l01147"></a>01147     <span class="keywordtype">void</span> init(<span class="keyword">const</span> <span class="keywordtype">char</span> *);
<a name="l01148"></a>01148     <span class="keyword">static</span> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> open_realize(<a class="code" href="classeyedb_1_1Connection.html" title="Not yet documented.">Connection</a> *,
<a name="l01149"></a>01149                                Bool (*)(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Database.html" title="Not yet documented.">Database</a> *, <span class="keyword">const</span> <span class="keywordtype">void</span> *),
<a name="l01150"></a>01150                                <span class="keyword">const</span> <span class="keywordtype">void</span> *, <span class="keyword">const</span> <span class="keywordtype">char</span> *, OpenFlag,
<a name="l01151"></a>01151                                <span class="keyword">const</span> OpenHints *,
<a name="l01152"></a>01152                                <a class="code" href="classeyedb_1_1Database.html" title="Not yet documented.">Database</a> *(*)(<span class="keyword">const</span> <span class="keywordtype">void</span> *, <span class="keyword">const</span> <span class="keywordtype">char</span> *),
<a name="l01153"></a>01153                                <span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keyword">const</span> <span class="keywordtype">char</span> *,
<a name="l01154"></a>01154                                <a class="code" href="classeyedb_1_1Database.html" title="Not yet documented.">Database</a> **);
<a name="l01155"></a>01155     <span class="keyword">const</span> <span class="keywordtype">char</span> *getTName() <span class="keyword">const</span>;
<a name="l01156"></a>01156 
<a name="l01157"></a>01157     TransactionParams def_params;
<a name="l01158"></a>01158 
<a name="l01159"></a>01159     <span class="keywordtype">char</span> *dbmdb_str;
<a name="l01160"></a>01160     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> invalidDbmdb(Error) <span class="keyword">const</span>;
<a name="l01161"></a>01161 
<a name="l01162"></a>01162     <span class="comment">// ----------------------------------------------------------------------</span>
<a name="l01163"></a>01163     <span class="comment">// Database Private Part</span>
<a name="l01164"></a>01164     <span class="comment">// ----------------------------------------------------------------------</span>
<a name="l01165"></a>01165   <span class="keyword">private</span>:
<a name="l01166"></a>01166     <span class="keywordtype">void</span> init_open(<a class="code" href="classeyedb_1_1Connection.html" title="Not yet documented.">Connection</a> *conn,
<a name="l01167"></a>01167                    <span class="keyword">const</span> <span class="keywordtype">char</span> *dbname,
<a name="l01168"></a>01168                    <span class="keyword">const</span> <span class="keywordtype">char</span> *dbmdb_str,
<a name="l01169"></a>01169                    Database::OpenFlag flag,
<a name="l01170"></a>01170                    <span class="keyword">const</span> <span class="keywordtype">char</span> *user,
<a name="l01171"></a>01171                    <span class="keyword">const</span> <span class="keywordtype">char</span> *passwd);
<a name="l01172"></a>01172 
<a name="l01173"></a>01173     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> create();
<a name="l01174"></a>01174     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> update();
<a name="l01175"></a>01175     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> realize(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1RecMode.html" title="Not yet documented.">RecMode</a> * = RecMode::NoRecurs);
<a name="l01176"></a>01176     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <span class="keyword">remove</span>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1RecMode.html" title="Not yet documented.">RecMode</a> * = RecMode::NoRecurs);
<a name="l01177"></a>01177     <span class="keywordtype">int</span> trs_cnt;
<a name="l01178"></a>01178     LinkedList mark_deleted;
<a name="l01179"></a>01179     LinkedList purge_action_list;
<a name="l01180"></a>01180     std::map&lt;Oid, bool&gt; mark_created;
<a name="l01181"></a>01181     <span class="keywordtype">void</span> purgeOnAbort();
<a name="l01182"></a>01182     <span class="keywordtype">void</span> purgeRelease();
<a name="l01183"></a>01183     <span class="keyword">static</span> <a class="code" href="classeyedb_1_1ObjCache.html" title="Not yet documented.">ObjCache</a> *makeRegister();
<a name="l01184"></a>01184     <a class="code" href="classeyedb_1_1ObjCache.html" title="Not yet documented.">ObjCache</a> conv_cache;
<a name="l01185"></a>01185 
<a name="l01186"></a>01186     <span class="keywordtype">char</span> *database_file;
<a name="l01187"></a>01187     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> datafile_cnt;
<a name="l01188"></a>01188     <a class="code" href="classeyedb_1_1Datafile.html" title="Not yet documented.">Datafile</a> **datafiles;
<a name="l01189"></a>01189     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dataspace_cnt;
<a name="l01190"></a>01190     Dataspace **dataspaces;
<a name="l01191"></a>01191     std::map&lt;Object *, bool&gt; realizedMap;
<a name="l01192"></a>01192     <span class="keywordtype">bool</span> useMap;
<a name="l01193"></a>01193     <span class="keywordtype">void</span> make_dat_dsp(<span class="keyword">const</span> DbCreateDescription &amp;dbdesc);
<a name="l01194"></a>01194     <span class="keywordtype">void</span> garbage_dat_dsp();
<a name="l01195"></a>01195     <span class="keyword">const</span> <a class="code" href="classeyedb_1_1Datafile.html" title="Not yet documented.">Datafile</a> **get_datafiles(<span class="keyword">const</span> eyedbsm::Dataspace *dsp);
<a name="l01196"></a>01196     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> getDatDspPrologue(Bool fetch,
<a name="l01197"></a>01197                              <span class="keyword">const</span> <span class="keywordtype">char</span> *user, <span class="keyword">const</span> <span class="keywordtype">char</span> *passwd);
<a name="l01198"></a>01198 
<a name="l01199"></a>01199     <span class="comment">// ----------------------------------------------------------------------</span>
<a name="l01200"></a>01200     <span class="comment">// Database Restricted Access (conceptually private)</span>
<a name="l01201"></a>01201     <span class="comment">// ----------------------------------------------------------------------</span>
<a name="l01202"></a>01202   <span class="keyword">public</span>:
<a name="l01203"></a>01203     <span class="keyword">static</span> <span class="keywordtype">void</span> init();
<a name="l01204"></a>01204     <span class="keyword">static</span> <span class="keywordtype">void</span> _release();
<a name="l01205"></a>01205     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <span class="keyword">set</span>(ConnHandle *, int, int, DbHandle *,
<a name="l01206"></a>01206                rpcDB_LocalDBContext *, <span class="keyword">const</span> <a class="code" href="classeyedb_1_1Oid.html" title="Not yet documented.">Oid</a> *, <span class="keywordtype">unsigned</span> int);
<a name="l01207"></a>01207 
<a name="l01208"></a>01208     <span class="keywordtype">void</span> beginRealize();
<a name="l01209"></a>01209     <span class="keywordtype">bool</span> isRealized(<a class="code" href="classeyedb_1_1Object.html" title="Not yet documented.">Object</a> *o)<span class="keyword"> const </span>{
<a name="l01210"></a>01210       <span class="keywordflow">return</span> useMap &amp;&amp; realizedMap.find(o) != realizedMap.end();
<a name="l01211"></a>01211     }
<a name="l01212"></a>01212     <span class="keywordtype">void</span> setRealized(<a class="code" href="classeyedb_1_1Object.html#a2c86a8da6fa7c92d3ff1c1f8573474ce" title="Not yet documented.">Object</a> *o) {<span class="keywordflow">if</span> (useMap) {realizedMap[o] = <span class="keyword">true</span>;}}
<a name="l01213"></a>01213     <span class="keywordtype">void</span> endRealize();
<a name="l01214"></a>01214 
<a name="l01215"></a>01215     <span class="keywordtype">void</span> cacheObject(<a class="code" href="classeyedb_1_1Object.html#a2c86a8da6fa7c92d3ff1c1f8573474ce" title="Not yet documented.">Object</a> *);
<a name="l01216"></a>01216     <span class="keywordtype">void</span> uncacheObject(<a class="code" href="classeyedb_1_1Object.html#a2c86a8da6fa7c92d3ff1c1f8573474ce" title="Not yet documented.">Object</a> *);
<a name="l01217"></a>01217     <span class="keywordtype">void</span> uncacheObject(<span class="keyword">const</span> Oid &amp;_oid);
<a name="l01218"></a>01218 
<a name="l01219"></a>01219     <span class="keywordtype">void</span> insertTempCache(<span class="keyword">const</span> Oid&amp;, <span class="keywordtype">void</span> *);
<a name="l01220"></a>01220     Bool isOpeningState();
<a name="l01221"></a>01221     BEQueue *getBEQueue();
<a name="l01222"></a>01222     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classeyedb_1_1Database.html#a2451da0efcf71cb88bd16852ed820f97" title="Not yet documented.">garbage</a>();
<a name="l01223"></a>01223 
<a name="l01224"></a>01224     <span class="keywordtype">void</span> setSchema(Schema *);
<a name="l01225"></a>01225 
<a name="l01226"></a>01226     <span class="keyword">static</span> Status getOpenedDB(<span class="keywordtype">int</span> dbid, <a class="code" href="classeyedb_1_1Database.html#a7f1e73c3a200106d867303c79ffc0fc2" title="Not yet documented.">Database</a> *, <a class="code" href="classeyedb_1_1Database.html#a7f1e73c3a200106d867303c79ffc0fc2" title="Not yet documented.">Database</a> *&amp;);
<a name="l01227"></a>01227 
<a name="l01228"></a>01228     <span class="keyword">static</span> Status <a class="code" href="classeyedb_1_1Database.html#a21facbf98b79d01610c3426f26611872" title="Not yet documented.">open</a>(Connection *, <span class="keywordtype">int</span>,
<a name="l01229"></a>01229                        <span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keyword">const</span> <span class="keywordtype">char</span> *,
<a name="l01230"></a>01230                        OpenFlag, <span class="keyword">const</span> OpenHints *, <a class="code" href="classeyedb_1_1Database.html#a7f1e73c3a200106d867303c79ffc0fc2" title="Not yet documented.">Database</a> **);
<a name="l01231"></a>01231 
<a name="l01232"></a>01232     <span class="keyword">static</span> Status <a class="code" href="classeyedb_1_1Database.html#a21facbf98b79d01610c3426f26611872" title="Not yet documented.">open</a>(Connection *, <span class="keyword">const</span> <span class="keywordtype">char</span> *,
<a name="l01233"></a>01233                        <span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keyword">const</span> <span class="keywordtype">char</span> *, <span class="keyword">const</span> <span class="keywordtype">char</span> *,
<a name="l01234"></a>01234                        OpenFlag, <span class="keyword">const</span> OpenHints *, <a class="code" href="classeyedb_1_1Database.html#a7f1e73c3a200106d867303c79ffc0fc2" title="Not yet documented.">Database</a> **);
<a name="l01235"></a>01235 
<a name="l01236"></a>01236     <span class="keyword">virtual</span> Status loadObject_realize(<span class="keyword">const</span> Oid *, <a class="code" href="classeyedb_1_1Object.html#a2c86a8da6fa7c92d3ff1c1f8573474ce" title="Not yet documented.">Object</a> **,
<a name="l01237"></a>01237                                       LockMode lockmode,
<a name="l01238"></a>01238                                       <span class="keyword">const</span> RecMode * =
<a name="l01239"></a>01239                                       RecMode::NoRecurs,
<a name="l01240"></a>01240                                       Bool reload = False);
<a name="l01241"></a>01241     Bool writeBackConvertedObjects() <span class="keyword">const</span>;
<a name="l01242"></a>01242     <span class="keywordtype">void</span> addPurgeActionOnAbort(<span class="keywordtype">void</span> (*purge_action)(<span class="keywordtype">void</span> *), <span class="keywordtype">void</span> *);
<a name="l01243"></a>01243     ExecutableCache *exec_cache;
<a name="l01244"></a>01244     <span class="keywordtype">void</span> *trig_dl;
<a name="l01245"></a>01245     <span class="keyword">const</span> Oid&amp; getMprotOid()<span class="keyword"> const </span>{<span class="keywordflow">return</span> m_protoid;}
<a name="l01246"></a>01246     <span class="keywordtype">void</span> updateSchema(<span class="keyword">const</span> SchemaInfo &amp;schinfo);
<a name="l01247"></a>01247     LinkedList&amp; getMarkDeleted() {<span class="keywordflow">return</span> mark_deleted;}
<a name="l01248"></a>01248     <span class="keywordtype">void</span> addMarkCreated(<span class="keyword">const</span> Oid &amp;);
<a name="l01249"></a>01249     <span class="keywordtype">bool</span> isMarkCreated(<span class="keyword">const</span> Oid &amp;) <span class="keyword">const</span>;
<a name="l01250"></a>01250     <span class="keywordtype">void</span> markCreatedEmpty();
<a name="l01251"></a>01251     <span class="keywordtype">void</span> setIncoherency();
<a name="l01252"></a>01252     Bool isOQLInit()<span class="keyword"> const </span>{<span class="keywordflow">return</span> oqlInit;}
<a name="l01253"></a>01253     <span class="keywordtype">void</span> setOQLInit() {oqlInit = True;}
<a name="l01254"></a>01254     Bool isApp()<span class="keyword"> const </span>{<span class="keywordflow">return</span> IDBBOOL(hashapp);}
<a name="l01255"></a>01255     <span class="keywordtype">void</span> add(GenHashTable *, consapp_t *);
<a name="l01256"></a>01256     consapp_t getConsApp(<span class="keyword">const</span> Class *);
<a name="l01257"></a>01257     ObjCache &amp;getConvCache() {<span class="keywordflow">return</span> conv_cache;}
<a name="l01258"></a>01258   };
<a name="l01259"></a>01259 
<a name="l01264"></a>01264 }
<a name="l01265"></a>01265 
<a name="l01266"></a>01266 <span class="preprocessor">#endif</span>
<a name="l01267"></a>01267 <span class="preprocessor"></span>
<a name="l01268"></a>01268   
</pre></div></div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Wed May 26 10:24:58 2010 for eyedb by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
