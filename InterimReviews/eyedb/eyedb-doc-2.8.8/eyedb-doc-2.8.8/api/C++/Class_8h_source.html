<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>eyedb: Class.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    </ul>
  </div>
<h1>Class.h</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/* </span>
<a name="l00002"></a>00002 <span class="comment">   EyeDB Object Database Management System</span>
<a name="l00003"></a>00003 <span class="comment">   Copyright (C) 1994-2008 SYSRA</span>
<a name="l00004"></a>00004 <span class="comment">   </span>
<a name="l00005"></a>00005 <span class="comment">   EyeDB is free software; you can redistribute it and/or</span>
<a name="l00006"></a>00006 <span class="comment">   modify it under the terms of the GNU Lesser General Public</span>
<a name="l00007"></a>00007 <span class="comment">   License as published by the Free Software Foundation; either</span>
<a name="l00008"></a>00008 <span class="comment">   version 2.1 of the License, or (at your option) any later version.</span>
<a name="l00009"></a>00009 <span class="comment">   </span>
<a name="l00010"></a>00010 <span class="comment">   EyeDB is distributed in the hope that it will be useful,</span>
<a name="l00011"></a>00011 <span class="comment">   but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00012"></a>00012 <span class="comment">   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>
<a name="l00013"></a>00013 <span class="comment">   Lesser General Public License for more details.</span>
<a name="l00014"></a>00014 <span class="comment">   </span>
<a name="l00015"></a>00015 <span class="comment">   You should have received a copy of the GNU Lesser General Public</span>
<a name="l00016"></a>00016 <span class="comment">   License along with this library; if not, write to the Free Software</span>
<a name="l00017"></a>00017 <span class="comment">   Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA </span>
<a name="l00018"></a>00018 <span class="comment">*/</span>
<a name="l00019"></a>00019 
<a name="l00020"></a>00020 <span class="comment">/*</span>
<a name="l00021"></a>00021 <span class="comment">   Author: Eric Viara &lt;viara@sysra.com&gt;</span>
<a name="l00022"></a>00022 <span class="comment">*/</span>
<a name="l00023"></a>00023 
<a name="l00024"></a>00024 
<a name="l00025"></a>00025 <span class="preprocessor">#ifndef _EYEDB_CLASS_H</span>
<a name="l00026"></a>00026 <span class="preprocessor"></span><span class="preprocessor">#define _EYEDB_CLASS_H</span>
<a name="l00027"></a>00027 <span class="preprocessor"></span>
<a name="l00028"></a>00028 <span class="keyword">namespace </span>eyedb {
<a name="l00029"></a>00029 
<a name="l00035"></a>00035   <span class="keyword">typedef</span> eyedbsm::Idx Idx;
<a name="l00036"></a>00036 
<a name="l00037"></a>00037   <span class="keyword">class </span>Instance;
<a name="l00038"></a>00038   <span class="keyword">class </span>Schema;
<a name="l00039"></a>00039   <span class="keyword">class </span>Collection;
<a name="l00040"></a>00040   <span class="keyword">class </span>ClassPeer;
<a name="l00041"></a>00041   <span class="keyword">class </span>ClassComponent;
<a name="l00042"></a>00042   <span class="keyword">class </span>Trigger;
<a name="l00043"></a>00043   <span class="keyword">class </span>GenCodeHints;
<a name="l00044"></a>00044   <span class="keyword">class </span>Signature;
<a name="l00045"></a>00045   <span class="keyword">class </span>ClassVariable;
<a name="l00046"></a>00046   <span class="keyword">class </span>GenContext;
<a name="l00047"></a>00047   <span class="keyword">class </span>AttributeComponent;
<a name="l00048"></a>00048   <span class="keyword">class </span>IndexImpl;
<a name="l00049"></a>00049 
<a name="l00053"></a><a class="code" href="classeyedb_1_1Class.html">00053</a>   <span class="keyword">class </span><a class="code" href="classeyedb_1_1Class.html" title="Not yet documented.">Class</a> : <span class="keyword">public</span> <a class="code" href="classeyedb_1_1Object.html" title="Not yet documented.">Object</a> {
<a name="l00054"></a>00054 
<a name="l00055"></a>00055     <span class="comment">// ----------------------------------------------------------------------</span>
<a name="l00056"></a>00056     <span class="comment">// Class Interface</span>
<a name="l00057"></a>00057     <span class="comment">// ----------------------------------------------------------------------</span>
<a name="l00058"></a>00058   <span class="keyword">public</span>:
<a name="l00059"></a>00059     <span class="keyword">enum</span> MType {
<a name="l00060"></a>00060       System = 1,
<a name="l00061"></a>00061       User = 2
<a name="l00062"></a>00062     };
<a name="l00063"></a>00063 
<a name="l00069"></a>00069     <a class="code" href="classeyedb_1_1Class.html#ada2741c543d86641fba1093bf887b385" title="Not yet documented.">Class</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *s, <a class="code" href="classeyedb_1_1Class.html" title="Not yet documented.">Class</a> *p = NULL);
<a name="l00070"></a>00070 
<a name="l00076"></a>00076     <a class="code" href="classeyedb_1_1Class.html#ada2741c543d86641fba1093bf887b385" title="Not yet documented.">Class</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *s, <span class="keyword">const</span> <a class="code" href="classeyedb_1_1Oid.html" title="Not yet documented.">Oid</a> *poid);
<a name="l00077"></a>00077 
<a name="l00084"></a>00084     <a class="code" href="classeyedb_1_1Class.html#ada2741c543d86641fba1093bf887b385" title="Not yet documented.">Class</a>(<a class="code" href="classeyedb_1_1Database.html" title="Not yet documented.">Database</a> *db, <span class="keyword">const</span> <span class="keywordtype">char</span> *s, <a class="code" href="classeyedb_1_1Class.html" title="Not yet documented.">Class</a> *p = NULL);
<a name="l00085"></a>00085 
<a name="l00092"></a>00092     <a class="code" href="classeyedb_1_1Class.html#ada2741c543d86641fba1093bf887b385" title="Not yet documented.">Class</a>(<a class="code" href="classeyedb_1_1Database.html" title="Not yet documented.">Database</a> *db, <span class="keyword">const</span> <span class="keywordtype">char</span> *s, <span class="keyword">const</span> <a class="code" href="classeyedb_1_1Oid.html" title="Not yet documented.">Oid</a> *poid);
<a name="l00093"></a>00093 
<a name="l00098"></a>00098     <a class="code" href="classeyedb_1_1Class.html#ada2741c543d86641fba1093bf887b385" title="Not yet documented.">Class</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Class.html" title="Not yet documented.">Class</a> &amp;cl);
<a name="l00099"></a>00099 
<a name="l00104"></a><a class="code" href="classeyedb_1_1Class.html#ae5fc8f9dc1d92876c9ed612e54f33cd2">00104</a>     <span class="keyword">virtual</span> <a class="code" href="classeyedb_1_1Object.html" title="Not yet documented.">Object</a> *<a class="code" href="classeyedb_1_1Class.html#ae5fc8f9dc1d92876c9ed612e54f33cd2" title="Not yet documented.">clone</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classeyedb_1_1Class.html#ada2741c543d86641fba1093bf887b385" title="Not yet documented.">Class</a>(*<span class="keyword">this</span>);}
<a name="l00105"></a>00105 
<a name="l00111"></a>00111     <a class="code" href="classeyedb_1_1Class.html" title="Not yet documented.">Class</a>&amp; <a class="code" href="classeyedb_1_1Class.html#a52052763478f18cb98a0e4c8de727d4d" title="Not yet documented.">operator=</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Class.html" title="Not yet documented.">Class</a> &amp;cl);
<a name="l00112"></a>00112 
<a name="l00117"></a><a class="code" href="classeyedb_1_1Class.html#af38e817e4edaf5921e9ca05bd5e6367e">00117</a>     <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classeyedb_1_1Class.html#af38e817e4edaf5921e9ca05bd5e6367e" title="Not yet documented.">getName</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> name;}
<a name="l00118"></a>00118 
<a name="l00124"></a>00124     <span class="keyword">virtual</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="classeyedb_1_1Class.html#a94ddafead9a04b52cf58a506e8b82f35" title="Not yet documented.">getCName</a>(Bool useAsRef = False) <span class="keyword">const</span>;
<a name="l00125"></a>00125 
<a name="l00130"></a><a class="code" href="classeyedb_1_1Class.html#a940151927468027012a323f7201f0f31">00130</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classeyedb_1_1Class.html#a940151927468027012a323f7201f0f31" title="Not yet documented.">getNum</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> num;};
<a name="l00131"></a>00131 
<a name="l00137"></a>00137     <span class="keyword">virtual</span> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Class.html#a126e24599db815158d43322026a5b994" title="Not yet documented.">setName</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *s);
<a name="l00138"></a>00138 
<a name="l00143"></a>00143     <a class="code" href="classeyedb_1_1Class.html" title="Not yet documented.">Class</a> *<a class="code" href="classeyedb_1_1Class.html#a4a2f136880c7e40ca629468634e7ca3f" title="Not yet documented.">getParent</a>();
<a name="l00144"></a>00144 
<a name="l00149"></a>00149     <span class="keyword">const</span> <a class="code" href="classeyedb_1_1Class.html" title="Not yet documented.">Class</a> *<a class="code" href="classeyedb_1_1Class.html#a4a2f136880c7e40ca629468634e7ca3f" title="Not yet documented.">getParent</a>() <span class="keyword">const</span>;
<a name="l00150"></a>00150 
<a name="l00157"></a>00157     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Class.html#a4a2f136880c7e40ca629468634e7ca3f" title="Not yet documented.">getParent</a>(<a class="code" href="classeyedb_1_1Database.html" title="Not yet documented.">Database</a> *db, <a class="code" href="classeyedb_1_1Class.html" title="Not yet documented.">Class</a> *&amp;rparent);
<a name="l00158"></a>00158 
<a name="l00163"></a>00163     <a class="code" href="classeyedb_1_1Schema.html" title="Not yet documented.">Schema</a> *<a class="code" href="classeyedb_1_1Class.html#ae9af5f9c632a0851168ae8cb16095475" title="Not yet documented.">getSchema</a>();
<a name="l00164"></a>00164 
<a name="l00169"></a>00169     <span class="keyword">const</span> <a class="code" href="classeyedb_1_1Schema.html" title="Not yet documented.">Schema</a> *<a class="code" href="classeyedb_1_1Class.html#ae9af5f9c632a0851168ae8cb16095475" title="Not yet documented.">getSchema</a>() <span class="keyword">const</span>;
<a name="l00170"></a>00170 
<a name="l00176"></a>00176     <span class="keyword">virtual</span> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Class.html#afc4028e138f4bab1f39098a1db431b99" title="Not yet documented.">setDatabase</a>(<a class="code" href="classeyedb_1_1Database.html" title="Not yet documented.">Database</a> *mdb);
<a name="l00177"></a>00177 
<a name="l00184"></a>00184     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Class.html#a9b9655592a47f03b3eeeb5dd11349f54" title="Not yet documented.">getExtent</a>(<a class="code" href="classeyedb_1_1Collection.html" title="Not yet documented.">Collection</a> *&amp;extent, Bool reload = False) <span class="keyword">const</span>;
<a name="l00185"></a>00185 
<a name="l00192"></a>00192     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Class.html#a0eca88e10060db1b5a87a1ed66fc1546" title="Not yet documented.">getComponents</a>(<a class="code" href="classeyedb_1_1Collection.html" title="Not yet documented.">Collection</a> *&amp;components, Bool reload = False) <span class="keyword">const</span>;
<a name="l00193"></a>00193 
<a name="l00199"></a>00199     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Class.html#ab7cb5b58e15e71f384113dd7cc0c41ba" title="Not yet documented.">setExtentImplementation</a>(<span class="keyword">const</span> IndexImpl *idximpl);
<a name="l00200"></a>00200 
<a name="l00205"></a>00205     IndexImpl *<a class="code" href="classeyedb_1_1Class.html#aba67a28bb262bf5f37a05b4d2c840e35" title="Not yet documented.">getExtentImplementation</a>() <span class="keyword">const</span>;
<a name="l00206"></a>00206 
<a name="l00211"></a><a class="code" href="classeyedb_1_1Class.html#ac59472f3e00c5df940082f7cba54bbb5">00211</a>     Size <a class="code" href="classeyedb_1_1Class.html#ac59472f3e00c5df940082f7cba54bbb5" title="Not yet documented.">getIDRObjectSize</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> idr_objsz;}
<a name="l00212"></a>00212 
<a name="l00220"></a>00220     Size <a class="code" href="classeyedb_1_1Class.html#ac59472f3e00c5df940082f7cba54bbb5" title="Not yet documented.">getIDRObjectSize</a>(Size *psize, Size *vsize = 0, Size *isize = 0) <span class="keyword">const</span>;
<a name="l00221"></a>00221 
<a name="l00228"></a>00228     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Class.html#a5bfb17c7a83f25b8b339873437df5606" title="Not yet documented.">add</a>(ClassComponent *comp, Bool incrRefCount = True);
<a name="l00229"></a>00229 
<a name="l00237"></a>00237     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Class.html#a5bfb17c7a83f25b8b339873437df5606" title="Not yet documented.">add</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> w, ClassComponent * comp, Bool incrRefCount = True);
<a name="l00238"></a>00238 
<a name="l00245"></a>00245     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Class.html#a5bfb17c7a83f25b8b339873437df5606" title="Not yet documented.">add</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> w, AttributeComponent *comp);
<a name="l00246"></a>00246 
<a name="l00253"></a>00253     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Class.html#a53681761efc41df97957ba66bc181dcf" title="Not yet documented.">suppress</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> w, ClassComponent *comp);
<a name="l00254"></a>00254 
<a name="l00261"></a>00261     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Class.html#a53681761efc41df97957ba66bc181dcf" title="Not yet documented.">suppress</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> w, AttributeComponent *comp);
<a name="l00262"></a>00262 
<a name="l00268"></a>00268     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Class.html#a53681761efc41df97957ba66bc181dcf" title="Not yet documented.">suppress</a>(ClassComponent *comp);
<a name="l00269"></a>00269 
<a name="l00275"></a>00275     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Class.html#a8d0327b44369539e6b0d44d1e4c92fee" title="Not yet documented.">getDefaultInstanceDataspace</a>(<span class="keyword">const</span> Dataspace *&amp;instance_dataspace) <span class="keyword">const</span>;
<a name="l00276"></a>00276 
<a name="l00282"></a>00282     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Class.html#ad01211a8caabf498895bcd72fc0b6c38" title="Not yet documented.">setDefaultInstanceDataspace</a>(<span class="keyword">const</span> Dataspace *instance_dataspace);
<a name="l00283"></a>00283 
<a name="l00290"></a>00290     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Class.html#a9c14005c085646b37b85370f2b9cd417" title="Not yet documented.">getInstanceLocations</a>(ObjectLocationArray &amp;locarr,
<a name="l00291"></a>00291                                 Bool include_subclasses = False);
<a name="l00292"></a>00292 
<a name="l00299"></a>00299     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Class.html#a73a7f5995aea73291ae5243ffdeb0795" title="Not yet documented.">moveInstances</a>(<span class="keyword">const</span> Dataspace *dataspace,
<a name="l00300"></a>00300                          Bool include_subclasses = False);
<a name="l00301"></a>00301 
<a name="l00306"></a><a class="code" href="classeyedb_1_1Class.html#a3b290294c146f4016a7cda7c7e3436d9">00306</a>     Bool <a class="code" href="classeyedb_1_1Class.html#a3b290294c146f4016a7cda7c7e3436d9" title="Not yet documented.">isSystem</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> (m_type == System) ? True : False;}
<a name="l00307"></a>00307 
<a name="l00312"></a><a class="code" href="classeyedb_1_1Class.html#a5391ffaa42285d35af4ad1474584aa27">00312</a>     Class::MType <a class="code" href="classeyedb_1_1Class.html#a5391ffaa42285d35af4ad1474584aa27" title="Not yet documented.">getMType</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> m_type;}
<a name="l00313"></a>00313 
<a name="l00318"></a><a class="code" href="classeyedb_1_1Class.html#a5e9c80cf53d4d9da47f2993f5a34dd61">00318</a>     <span class="keyword">virtual</span> <a class="code" href="classeyedb_1_1Class.html" title="Not yet documented.">Class</a> *<a class="code" href="classeyedb_1_1Class.html#a5e9c80cf53d4d9da47f2993f5a34dd61" title="Not yet documented.">asClass</a>() {<span class="keywordflow">return</span> <span class="keyword">this</span>;}
<a name="l00319"></a>00319 
<a name="l00324"></a><a class="code" href="classeyedb_1_1Class.html#acc85a3e4a012b52e2f733da065619391">00324</a>     <span class="keyword">virtual</span> <span class="keyword">const</span> <a class="code" href="classeyedb_1_1Class.html" title="Not yet documented.">Class</a> *<a class="code" href="classeyedb_1_1Class.html#acc85a3e4a012b52e2f733da065619391" title="Not yet documented.">asClass</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <span class="keyword">this</span>;}
<a name="l00325"></a>00325 
<a name="l00326"></a>00326     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Class.html#ad0bd42f106934d1179a0e47ca8945735" title="Not yet documented.">setValue</a>(Data);
<a name="l00327"></a>00327     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Class.html#a2181c8ff660626ee3d36c5520369da91" title="Not yet documented.">getValue</a>(Data *) <span class="keyword">const</span>;
<a name="l00328"></a>00328 
<a name="l00329"></a>00329     <span class="keyword">virtual</span> <a class="code" href="classeyedb_1_1Object.html" title="Not yet documented.">Object</a> * newObj(<a class="code" href="classeyedb_1_1Database.html" title="Not yet documented.">Database</a> * = NULL) <span class="keyword">const</span>;
<a name="l00330"></a>00330     <span class="keyword">virtual</span> <a class="code" href="classeyedb_1_1Object.html" title="Not yet documented.">Object</a> * newObj(Data, Bool _copy = True) <span class="keyword">const</span>;
<a name="l00331"></a>00331 
<a name="l00336"></a>00336     <span class="keyword">virtual</span> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Class.html#aed5251ef70a0b5855311a11dd0f26298" title="Not yet documented.">create</a>();
<a name="l00337"></a>00337 
<a name="l00342"></a>00342     <span class="keyword">virtual</span> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Class.html#a75fddd9de7629d767abc1f5bdc333d8f" title="Not yet documented.">update</a>();
<a name="l00343"></a>00343 
<a name="l00344"></a>00344     <span class="keyword">virtual</span> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <span class="keyword">remove</span>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1RecMode.html" title="Not yet documented.">RecMode</a>* = RecMode::NoRecurs);
<a name="l00345"></a>00345 
<a name="l00353"></a>00353     <span class="keyword">virtual</span> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Class.html#a8e96df8de8e2b13ccadd1b320b0166ac" title="Not yet documented.">trace</a>(FILE *fd = stdout, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags = 0,
<a name="l00354"></a>00354                          <span class="keyword">const</span> <a class="code" href="classeyedb_1_1RecMode.html" title="Not yet documented.">RecMode</a> *recmode = RecMode::FullRecurs) <span class="keyword">const</span>;
<a name="l00355"></a>00355 
<a name="l00363"></a>00363     <span class="keyword">static</span> Bool <a class="code" href="classeyedb_1_1Class.html#aab8ffc2022f36062380f7434db986be0" title="Not yet documented.">isClass</a>(<a class="code" href="classeyedb_1_1Database.html" title="Not yet documented.">Database</a> *db, <span class="keyword">const</span> <a class="code" href="classeyedb_1_1Oid.html" title="Not yet documented.">Oid</a>&amp; cl_oid, <span class="keyword">const</span> <a class="code" href="classeyedb_1_1Oid.html" title="Not yet documented.">Oid</a>&amp; oid);
<a name="l00364"></a>00364 
<a name="l00370"></a>00370     Bool <a class="code" href="classeyedb_1_1Class.html#a6e050f5722e61299c03dbc09f612c110" title="Not yet documented.">compare</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Class.html" title="Not yet documented.">Class</a> *cl) <span class="keyword">const</span>;
<a name="l00371"></a>00371 
<a name="l00377"></a>00377     Bool <a class="code" href="classeyedb_1_1Class.html#a887c01c0dd9a712ab628c4117b864c0a" title="Not yet documented.">compare_l</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Class.html" title="Not yet documented.">Class</a> *cl) <span class="keyword">const</span>;
<a name="l00378"></a>00378 
<a name="l00385"></a>00385     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Class.html#a89fa257e1ccd735c6ee8a7145aff5b89" title="Not yet documented.">isSuperClassOf</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Class.html" title="Not yet documented.">Class</a> *cl, Bool *is) <span class="keyword">const</span>;
<a name="l00386"></a>00386 
<a name="l00393"></a>00393     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Class.html#a8afbec297aaa1d2e1a9c5a0bfe4ab881" title="Not yet documented.">isSubClassOf</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Class.html" title="Not yet documented.">Class</a> *cl, Bool *is) <span class="keyword">const</span>;
<a name="l00394"></a>00394 
<a name="l00402"></a>00402     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Class.html#abc4f500d20ecbe5a153111bca8ab6a04" title="Not yet documented.">getSubClasses</a>(<a class="code" href="classeyedb_1_1Class.html" title="Not yet documented.">Class</a> **&amp;subclasses, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> &amp;subclass_count,
<a name="l00403"></a>00403                          Bool sort_down_to_top = True) <span class="keyword">const</span>;
<a name="l00404"></a>00404 
<a name="l00412"></a>00412     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Class.html#a364f8857195e4240a03a28b1dbb4d64d" title="Not yet documented.">isObjectOfClass</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Object.html" title="Not yet documented.">Object</a> *o, Bool *is, Bool issub) <span class="keyword">const</span>;
<a name="l00413"></a>00413 
<a name="l00422"></a>00422     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Class.html#a364f8857195e4240a03a28b1dbb4d64d" title="Not yet documented.">isObjectOfClass</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Oid.html" title="Not yet documented.">Oid</a> *o_oid, Bool *is, Bool issub,
<a name="l00423"></a>00423                            <a class="code" href="classeyedb_1_1Class.html" title="Not yet documented.">Class</a> **po_class = NULL) <span class="keyword">const</span>;
<a name="l00424"></a>00424 
<a name="l00429"></a>00429     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classeyedb_1_1Class.html#ab7bbeeca5d38cdd8381c07ac3edffce0" title="Not yet documented.">getAttributesCount</a>(<span class="keywordtype">void</span>) <span class="keyword">const</span>;
<a name="l00430"></a>00430 
<a name="l00436"></a>00436     <span class="keyword">const</span> <a class="code" href="classeyedb_1_1Attribute.html" title="Not yet documented.">Attribute</a> *<a class="code" href="classeyedb_1_1Class.html#ac994f350229ad741522999695c099681" title="Not yet documented.">getAttribute</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> n) <span class="keyword">const</span>;
<a name="l00437"></a>00437 
<a name="l00443"></a>00443     <span class="keyword">const</span> <a class="code" href="classeyedb_1_1Attribute.html" title="Not yet documented.">Attribute</a> *<a class="code" href="classeyedb_1_1Class.html#ac994f350229ad741522999695c099681" title="Not yet documented.">getAttribute</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *nm) <span class="keyword">const</span>;
<a name="l00444"></a>00444 
<a name="l00451"></a>00451     <span class="keyword">virtual</span> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Class.html#a19e0355d21d8e40e492d3a0d294ea111" title="Not yet documented.">setAttributes</a>(<a class="code" href="classeyedb_1_1Attribute.html" title="Not yet documented.">Attribute</a> **agr, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> base_n);
<a name="l00452"></a>00452 
<a name="l00458"></a><a class="code" href="classeyedb_1_1Class.html#a00a9619d76e5c8fc8914b1a51c2bf3d0">00458</a>     <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classeyedb_1_1Attribute.html" title="Not yet documented.">Attribute</a> **<a class="code" href="classeyedb_1_1Class.html#a00a9619d76e5c8fc8914b1a51c2bf3d0" title="Not yet documented.">getAttributes</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; cnt)<span class="keyword"> const </span>{
<a name="l00459"></a>00459       cnt = items_cnt;
<a name="l00460"></a>00460       <span class="keywordflow">return</span> (<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Attribute.html" title="Not yet documented.">Attribute</a> **)items;
<a name="l00461"></a>00461     }
<a name="l00462"></a>00462 
<a name="l00467"></a><a class="code" href="classeyedb_1_1Class.html#ae5fc1913c65195523b2365836ccb1b43">00467</a>     <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classeyedb_1_1Attribute.html" title="Not yet documented.">Attribute</a> **<a class="code" href="classeyedb_1_1Class.html#ae5fc1913c65195523b2365836ccb1b43" title="Not yet documented.">getAttributes</a>()<span class="keyword"> const </span>{
<a name="l00468"></a>00468       <span class="keywordflow">return</span> (<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Attribute.html" title="Not yet documented.">Attribute</a> **)items;
<a name="l00469"></a>00469     }
<a name="l00470"></a>00470 
<a name="l00477"></a>00477     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Class.html#ae0394ef8157283e8ffd8d5e160e33d29" title="Not yet documented.">getComp</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *mcname, ClassComponent *&amp;comp) <span class="keyword">const</span>;
<a name="l00478"></a>00478 
<a name="l00484"></a>00484     Method **<a class="code" href="classeyedb_1_1Class.html#abdd37386d529ce19dd82fcd302a7ef8a" title="Not yet documented.">getMethods</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; mth_cnt);
<a name="l00485"></a>00485 
<a name="l00491"></a>00491     <span class="keyword">const</span> Method **<a class="code" href="classeyedb_1_1Class.html#abdd37386d529ce19dd82fcd302a7ef8a" title="Not yet documented.">getMethods</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; mth_cnt) <span class="keyword">const</span>;
<a name="l00492"></a>00492 
<a name="l00500"></a>00500     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Class.html#a7060ef6b8e6f93cc1caea123a938315e" title="Not yet documented.">getMethod</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *name, Method *&amp;mth,
<a name="l00501"></a>00501                      Signature *sign = 0);
<a name="l00502"></a>00502 
<a name="l00510"></a>00510     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Class.html#a7060ef6b8e6f93cc1caea123a938315e" title="Not yet documented.">getMethod</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *name, <span class="keyword">const</span> Method *&amp;mth,
<a name="l00511"></a>00511                      Signature *sign = 0) <span class="keyword">const</span>;
<a name="l00512"></a>00512 
<a name="l00517"></a>00517     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classeyedb_1_1Class.html#ab1e7ef5c24b6898ac8282940626a2b07" title="Not yet documented.">getMethodCount</a>() <span class="keyword">const</span>;
<a name="l00518"></a>00518 
<a name="l00525"></a>00525     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Class.html#ab1e7ef5c24b6898ac8282940626a2b07" title="Not yet documented.">getMethodCount</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *name, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> &amp;cnt) <span class="keyword">const</span>;
<a name="l00526"></a>00526 
<a name="l00532"></a>00532     Trigger **<a class="code" href="classeyedb_1_1Class.html#addd5d8238a9b5460ebdb33f4547f3a69" title="Not yet documented.">getTriggers</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; cnt);
<a name="l00533"></a>00533 
<a name="l00539"></a>00539     <span class="keyword">const</span> Trigger **<a class="code" href="classeyedb_1_1Class.html#addd5d8238a9b5460ebdb33f4547f3a69" title="Not yet documented.">getTriggers</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; cnt) <span class="keyword">const</span>;
<a name="l00540"></a>00540 
<a name="l00546"></a>00546     ClassVariable **<a class="code" href="classeyedb_1_1Class.html#ae23fbb8c454c5a850cf9f4ed4d91bde6" title="Not yet documented.">getVariables</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; cnt);
<a name="l00547"></a>00547 
<a name="l00553"></a>00553     <span class="keyword">const</span> ClassVariable **<a class="code" href="classeyedb_1_1Class.html#ae23fbb8c454c5a850cf9f4ed4d91bde6" title="Not yet documented.">getVariables</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; cnt) <span class="keyword">const</span>;
<a name="l00554"></a>00554 
<a name="l00561"></a>00561     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Class.html#a95a4e4e623b706afa8a5b417a4cd7cb9" title="Not yet documented.">getVariable</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *name, ClassVariable *&amp;rvar);
<a name="l00562"></a>00562 
<a name="l00569"></a>00569     <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> <a class="code" href="classeyedb_1_1Class.html#a95a4e4e623b706afa8a5b417a4cd7cb9" title="Not yet documented.">getVariable</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *name, <span class="keyword">const</span> ClassVariable *&amp;rvar) <span class="keyword">const</span>;
<a name="l00570"></a>00570 
<a name="l00571"></a>00571     <span class="keyword">virtual</span> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> generateCode_C(<a class="code" href="classeyedb_1_1Schema.html" title="Not yet documented.">Schema</a> *,
<a name="l00572"></a>00572                                   <span class="keyword">const</span> <span class="keywordtype">char</span> *prefix,
<a name="l00573"></a>00573                                   <span class="keyword">const</span> GenCodeHints &amp;,
<a name="l00574"></a>00574                                   <span class="keyword">const</span> <span class="keywordtype">char</span> *stubs,
<a name="l00575"></a>00575                                   FILE *fdh, FILE *fdc, FILE *, FILE *,
<a name="l00576"></a>00576                                   FILE *, FILE *);
<a name="l00577"></a>00577 
<a name="l00578"></a>00578     <span class="keyword">virtual</span> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> generateCode_Java(<a class="code" href="classeyedb_1_1Schema.html" title="Not yet documented.">Schema</a> *,
<a name="l00579"></a>00579                                      <span class="keyword">const</span> <span class="keywordtype">char</span> *prefix,
<a name="l00580"></a>00580                                      <span class="keyword">const</span> GenCodeHints &amp;,
<a name="l00581"></a>00581                                      FILE *);
<a name="l00582"></a>00582 
<a name="l00583"></a>00583     <span class="keyword">virtual</span> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> generateMethodBody_C(<a class="code" href="classeyedb_1_1Schema.html" title="Not yet documented.">Schema</a> *, GenContext *,
<a name="l00584"></a>00584                                         GenContext *, GenContext *,
<a name="l00585"></a>00585                                         GenContext *, GenContext *);
<a name="l00586"></a>00586 
<a name="l00587"></a>00587     <span class="keyword">virtual</span> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> generateMethodBodyBE_C(<a class="code" href="classeyedb_1_1Schema.html" title="Not yet documented.">Schema</a> *, GenContext *,
<a name="l00588"></a>00588                                           GenContext *, Method *);
<a name="l00589"></a>00589   
<a name="l00590"></a>00590     <span class="keyword">virtual</span> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> generateTriggerBody_C(<a class="code" href="classeyedb_1_1Schema.html" title="Not yet documented.">Schema</a> *m, GenContext *,
<a name="l00591"></a>00591                                          Trigger *);
<a name="l00592"></a>00592 
<a name="l00593"></a>00593     <span class="keyword">virtual</span> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> generateMethodBodyFE_C(<a class="code" href="classeyedb_1_1Schema.html" title="Not yet documented.">Schema</a> *, GenContext *,
<a name="l00594"></a>00594                                           Method *);
<a name="l00595"></a>00595 
<a name="l00596"></a>00596     <span class="keyword">virtual</span> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> generateClassComponent_C(GenContext *);
<a name="l00597"></a>00597 
<a name="l00598"></a>00598     <span class="keyword">virtual</span> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> generateAttrComponent_C(GenContext *);
<a name="l00599"></a>00599 
<a name="l00600"></a>00600     <span class="keyword">virtual</span> <a class="code" href="classeyedb_1_1Exception.html" title="Not yet documented.">Status</a> checkInverse(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Schema.html" title="Not yet documented.">Schema</a> *) <span class="keyword">const</span>;
<a name="l00601"></a>00601 
<a name="l00602"></a>00602     <span class="keyword">enum</span> CompIdx {
<a name="l00603"></a>00603       Variable_C,
<a name="l00604"></a>00604       Method_C,
<a name="l00605"></a>00605       TrigCreateBefore_C,
<a name="l00606"></a>00606       TrigCreateAfter_C,
<a name="l00607"></a>00607       TrigUpdateBefore_C,
<a name="l00608"></a>00608       TrigUpdateAfter_C,
<a name="l00609"></a>00609       TrigLoadBefore_C,
<a name="l00610"></a>00610       TrigLoadAfter_C,
<a name="l00611"></a>00611       TrigRemoveBefore_C,
<a name="l00612"></a>00612       TrigRemoveAfter_C,
<a name="l00613"></a>00613       ComponentCount_C
<a name="l00614"></a>00614     };
<a name="l00615"></a>00615 
<a name="l00620"></a>00620     <span class="keyword">const</span> LinkedList *<a class="code" href="classeyedb_1_1Class.html#ac8255802630be6cf653eb9b66cecf0b7" title="Not yet documented.">getCompList</a>() <span class="keyword">const</span>;
<a name="l00621"></a>00621 
<a name="l00627"></a>00627     <span class="keyword">const</span> LinkedList *<a class="code" href="classeyedb_1_1Class.html#ac8255802630be6cf653eb9b66cecf0b7" title="Not yet documented.">getCompList</a>(CompIdx idx) <span class="keyword">const</span>;
<a name="l00628"></a>00628 
<a name="l00629"></a>00629     <span class="keyword">enum</span> AttrCompIdx {
<a name="l00630"></a>00630       UniqueConstraint_C,
<a name="l00631"></a>00631       NotnullConstraint_C,
<a name="l00632"></a>00632       CardinalityConstraint_C,
<a name="l00633"></a>00633       Index_C,
<a name="l00634"></a>00634       CollectionImpl_C,
<a name="l00635"></a>00635       AttrComponentCount_C
<a name="l00636"></a>00636     };
<a name="l00637"></a>00637 
<a name="l00644"></a>00644     Status <a class="code" href="classeyedb_1_1Class.html#aae49ac93db947ca2926bcf6fcafaea7d" title="Not yet documented.">getAttrComp</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *mcname, AttributeComponent *&amp;comp) <span class="keyword">const</span>;
<a name="l00645"></a>00645 
<a name="l00651"></a>00651     Status <a class="code" href="classeyedb_1_1Class.html#acb90a33463f7a8d1dad5bc907cbbb79f" title="Not yet documented.">getAttrCompList</a>(<span class="keyword">const</span> LinkedList *&amp;list);
<a name="l00652"></a>00652 
<a name="l00659"></a>00659     Status <a class="code" href="classeyedb_1_1Class.html#acb90a33463f7a8d1dad5bc907cbbb79f" title="Not yet documented.">getAttrCompList</a>(AttrCompIdx idx, <span class="keyword">const</span> LinkedList *&amp;list);
<a name="l00660"></a>00660 
<a name="l00667"></a>00667     <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="classeyedb_1_1Class.html#a3923f014e45f176639b84b78274e7d01" title="Not yet documented.">genODL</a>(FILE *fd, Schema *m) <span class="keyword">const</span>;
<a name="l00668"></a>00668 
<a name="l00673"></a>00673     Bool <a class="code" href="classeyedb_1_1Class.html#af3bc3c17f4f3e7cad3beced683896817" title="Not yet documented.">isFlatStructure</a>() <span class="keyword">const</span>;
<a name="l00674"></a>00674 
<a name="l00678"></a>00678     <span class="keyword">virtual</span> <a class="code" href="classeyedb_1_1Class.html#a245720857856bc44ea43f7f0df28a8f1" title="Not yet documented.">~Class</a>();
<a name="l00679"></a>00679 
<a name="l00680"></a>00680     <span class="comment">// ----------------------------------------------------------------------</span>
<a name="l00681"></a>00681     <span class="comment">// Class Protected Part</span>
<a name="l00682"></a>00682     <span class="comment">// ----------------------------------------------------------------------</span>
<a name="l00683"></a>00683   <span class="keyword">protected</span>:
<a name="l00684"></a>00684     <a class="code" href="classeyedb_1_1Class.html#ada2741c543d86641fba1093bf887b385" title="Not yet documented.">Class</a> *parent;
<a name="l00685"></a>00685     <span class="keywordtype">char</span> *name;
<a name="l00686"></a>00686     <span class="keywordtype">char</span> *aliasname;
<a name="l00687"></a>00687     <span class="keywordtype">char</span> *canonname;
<a name="l00688"></a>00688     <span class="keyword">const</span> Dataspace *instance_dataspace;
<a name="l00689"></a>00689     <span class="keywordtype">short</span> instance_dspid;
<a name="l00690"></a>00690     Bool mustCreateComps;
<a name="l00691"></a>00691     IndexImpl *idximpl;
<a name="l00692"></a>00692 
<a name="l00693"></a>00693     Size idr_psize, idr_vsize, idr_inisize;
<a name="l00694"></a>00694     Size idr_objsz;
<a name="l00695"></a>00695 
<a name="l00696"></a>00696     Bool attrs_complete;
<a name="l00697"></a>00697     Oid parent_oid;
<a name="l00698"></a>00698     Oid coll_oid;
<a name="l00699"></a>00699     Collection *extent;
<a name="l00700"></a>00700     Collection *components;
<a name="l00701"></a>00701     LinkedList *complist, *clist[ComponentCount_C];
<a name="l00702"></a>00702     LinkedList *attr_complist, *attr_clist[AttrComponentCount_C];
<a name="l00703"></a>00703 
<a name="l00704"></a>00704     MType m_type;
<a name="l00705"></a>00705 
<a name="l00706"></a>00706     <span class="comment">//virtual Bool compare_perform(const Class *) const;</span>
<a name="l00707"></a>00707     <span class="keyword">virtual</span> Bool compare_perform(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Class.html#ada2741c543d86641fba1093bf887b385" title="Not yet documented.">Class</a> *cl,
<a name="l00708"></a>00708                                  Bool compClassOwner,
<a name="l00709"></a>00709                                  Bool compNum,
<a name="l00710"></a>00710                                  Bool compName,
<a name="l00711"></a>00711                                  Bool inDepth) <span class="keyword">const</span>;
<a name="l00712"></a>00712     <span class="keyword">virtual</span> <span class="keywordtype">void</span> garbage();
<a name="l00713"></a>00713     Status setNameRealize(<span class="keyword">const</span> <span class="keywordtype">char</span> *);
<a name="l00714"></a>00714     Status trace_comps(FILE *, <span class="keywordtype">int</span>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>, <span class="keyword">const</span> RecMode *) <span class="keyword">const</span>;
<a name="l00715"></a>00715     Status trace_common(FILE *, <span class="keywordtype">int</span>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>, <span class="keyword">const</span> RecMode *) <span class="keyword">const</span>;
<a name="l00716"></a>00716     Bool items_set;
<a name="l00717"></a>00717     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> items_cnt;
<a name="l00718"></a>00718     Attribute ** items;
<a name="l00719"></a>00719     <span class="keywordtype">void</span> free_items();
<a name="l00720"></a>00720     <span class="keyword">virtual</span> Status trace_realize(FILE*, <span class="keywordtype">int</span>, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>, <span class="keyword">const</span> RecMode *) <span class="keyword">const</span>;
<a name="l00721"></a>00721     Status check_items(Attribute **, <span class="keywordtype">int</span>);
<a name="l00722"></a>00722     Bool isFlat;
<a name="l00723"></a>00723     Bool isFlatSet;
<a name="l00724"></a>00724     <span class="keywordtype">void</span> setPName(<span class="keyword">const</span> <span class="keywordtype">char</span> *);
<a name="l00725"></a>00725     <span class="keywordtype">void</span> codeExtentCompOids(Size);
<a name="l00726"></a>00726 
<a name="l00727"></a>00727     <span class="comment">// ----------------------------------------------------------------------</span>
<a name="l00728"></a>00728     <span class="comment">// Class Private Part</span>
<a name="l00729"></a>00729     <span class="comment">// ----------------------------------------------------------------------</span>
<a name="l00730"></a>00730   <span class="keyword">private</span>:
<a name="l00731"></a>00731     Bool is_root;
<a name="l00732"></a>00732     <span class="keywordtype">char</span> *tied_code;
<a name="l00733"></a>00733     Bool sort_down_to_top;
<a name="l00734"></a>00734     Bool subclass_set;
<a name="l00735"></a>00735     <a class="code" href="classeyedb_1_1Class.html#ada2741c543d86641fba1093bf887b385" title="Not yet documented.">Class</a> **subclasses;
<a name="l00736"></a>00736     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> subclass_count;
<a name="l00737"></a>00737     Schema *sch;
<a name="l00738"></a>00738     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> num;
<a name="l00739"></a>00739     Oid extent_oid, comp_oid;
<a name="l00740"></a>00740     Bool partially_loaded;
<a name="l00741"></a>00741     Bool setup_complete;
<a name="l00742"></a>00742 
<a name="l00743"></a>00743     <span class="keyword">friend</span> <span class="keyword">class </span>Schema;
<a name="l00744"></a>00744     <span class="keyword">friend</span> <span class="keyword">class </span>ClassPeer;
<a name="l00745"></a>00745 
<a name="l00746"></a>00746     <span class="keyword">virtual</span> Status realize(<span class="keyword">const</span> RecMode* = RecMode::NoRecurs);
<a name="l00747"></a>00747     <span class="keywordtype">void</span> _init(<span class="keyword">const</span> <span class="keywordtype">char</span> *);
<a name="l00748"></a>00748     <span class="keyword">virtual</span> <span class="keywordtype">void</span> newObjRealize(<a class="code" href="classeyedb_1_1Object.html#a2c86a8da6fa7c92d3ff1c1f8573474ce" title="Not yet documented.">Object</a> *) <span class="keyword">const</span>;
<a name="l00749"></a>00749     Status setupInherit();
<a name="l00750"></a>00750     Status scanComponents();
<a name="l00751"></a>00751     Status triggerManage(Trigger *);
<a name="l00752"></a>00752     Status sort(Bool sort_down_to_top) <span class="keyword">const</span>;
<a name="l00753"></a>00753     <span class="keywordtype">void</span> setNum(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> _num) {num = _num;};
<a name="l00754"></a>00754 
<a name="l00755"></a>00755     <span class="keywordtype">void</span> <a class="code" href="classeyedb_1_1Class.html#a3923f014e45f176639b84b78274e7d01" title="Not yet documented.">genODL</a>(FILE *fd, Schema *m, Attribute *attr) <span class="keyword">const</span>;
<a name="l00756"></a>00756     Status makeAttrCompList();
<a name="l00757"></a>00757     <span class="keywordtype">void</span> compAddGenerate(GenContext *ctx, FILE *fd);
<a name="l00758"></a>00758     <span class="keywordtype">void</span> pre_release();
<a name="l00759"></a>00759 
<a name="l00760"></a>00760     <span class="comment">// ----------------------------------------------------------------------</span>
<a name="l00761"></a>00761     <span class="comment">// Class Restricted Access (conceptually private)</span>
<a name="l00762"></a>00762     <span class="comment">// ----------------------------------------------------------------------</span>
<a name="l00763"></a>00763   <span class="keyword">public</span>:
<a name="l00764"></a>00764     <span class="keyword">static</span> <span class="keywordtype">void</span> init(<span class="keywordtype">void</span>);
<a name="l00765"></a>00765     <span class="keyword">static</span> <span class="keywordtype">void</span> _release(<span class="keywordtype">void</span>);
<a name="l00766"></a>00766     <span class="keyword">static</span> <span class="keywordtype">int</span> RemoveInstances;
<a name="l00767"></a>00767     Status manageDataspace(<span class="keywordtype">short</span> dspid);
<a name="l00768"></a>00768     <span class="keywordtype">void</span> setInstanceDspid(<span class="keywordtype">short</span> dspid);
<a name="l00769"></a>00769     <span class="keywordtype">short</span> get_instdspid() <span class="keyword">const</span>;
<a name="l00770"></a>00770     <span class="keywordtype">void</span> setSchema(Schema *_sch) {sch = _sch;}
<a name="l00771"></a>00771     <span class="keyword">virtual</span> Status compile(<span class="keywordtype">void</span>);
<a name="l00772"></a>00772     <span class="keyword">const</span> <span class="keywordtype">char</span> *getAliasName()<span class="keyword"> const </span>{<span class="keywordflow">return</span> (aliasname ? aliasname : name);}
<a name="l00773"></a>00773     <span class="keyword">const</span> <span class="keywordtype">char</span> *getStrictAliasName()<span class="keyword"> const </span>{<span class="keywordflow">return</span> aliasname;}
<a name="l00774"></a>00774     <span class="keywordtype">void</span> setAliasName(<span class="keyword">const</span> <span class="keywordtype">char</span> *_aliasname) {
<a name="l00775"></a>00775       free(aliasname);
<a name="l00776"></a>00776       aliasname = (_aliasname ? strdup(_aliasname) : 0);
<a name="l00777"></a>00777     }
<a name="l00778"></a>00778     <span class="keyword">const</span> <span class="keywordtype">char</span> *getCanonicalName()<span class="keyword"> const </span>{<span class="keywordflow">return</span> (canonname ? canonname : name);}
<a name="l00779"></a>00779     <span class="keywordtype">void</span> setCanonicalName(<span class="keyword">const</span> <span class="keywordtype">char</span> *_canonname) {
<a name="l00780"></a>00780       free(canonname);
<a name="l00781"></a>00781       canonname = (_canonname ? strdup(_canonname) : 0);
<a name="l00782"></a>00782     }
<a name="l00783"></a>00783     Status setInSubClasses(ClassComponent *, Bool);
<a name="l00784"></a>00784     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> getMagorder() <span class="keyword">const</span>;
<a name="l00785"></a>00785 
<a name="l00786"></a>00786     <span class="keywordtype">void</span> unmakeAttrCompList();
<a name="l00787"></a>00787     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *getSCName(<span class="keyword">const</span> <span class="keywordtype">char</span> *);
<a name="l00788"></a>00788     <span class="keyword">static</span> Status makeClass(Database *db, <span class="keyword">const</span> Oid &amp;oid,
<a name="l00789"></a>00789                             <span class="keywordtype">int</span>, <span class="keyword">const</span> <span class="keywordtype">char</span> *, Bool &amp;, <a class="code" href="classeyedb_1_1Class.html#ada2741c543d86641fba1093bf887b385" title="Not yet documented.">Class</a> *&amp;cl);
<a name="l00790"></a>00790     <span class="keyword">virtual</span> Status postCreate();
<a name="l00791"></a>00791     Bool isRootClass()<span class="keyword"> const </span>{<span class="keywordflow">return</span> is_root;}
<a name="l00792"></a>00792     <span class="keywordtype">void</span> setIsRootClass() {is_root = True;}
<a name="l00793"></a>00793     Status setup(Bool, Bool = False);
<a name="l00794"></a>00794     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *classNameToCName(<span class="keyword">const</span> <span class="keywordtype">char</span> *name);
<a name="l00795"></a>00795     <span class="keyword">virtual</span> <span class="keywordtype">void</span> revert(Bool) { }
<a name="l00796"></a>00796     <span class="keywordtype">void</span> setTiedCode(<span class="keywordtype">char</span> *);
<a name="l00797"></a>00797     <span class="keywordtype">char</span> *getTiedCode();
<a name="l00798"></a>00798     <span class="keyword">virtual</span> Status createComps();
<a name="l00799"></a>00799     <span class="keywordtype">void</span> setExtentCompOid(<span class="keyword">const</span> Oid &amp;, <span class="keyword">const</span> Oid &amp;);
<a name="l00800"></a>00800     <span class="keywordtype">void</span> setPartiallyLoaded(Bool _partially_loaded) {partially_loaded = _partially_loaded;}
<a name="l00801"></a>00801     <span class="keywordtype">void</span> <a class="code" href="classeyedb_1_1Class.html#ab7cb5b58e15e71f384113dd7cc0c41ba" title="Not yet documented.">setExtentImplementation</a>(<span class="keyword">const</span> IndexImpl *, Bool);
<a name="l00802"></a>00802 
<a name="l00803"></a>00803     <span class="keyword">static</span> EnumClass *makeBoolClass();
<a name="l00804"></a>00804     <span class="keyword">static</span> Bool isBoolClass(<span class="keyword">const</span> <span class="keywordtype">char</span> *);
<a name="l00805"></a>00805     <span class="keyword">static</span> Bool isBoolClass(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Class.html#ada2741c543d86641fba1093bf887b385" title="Not yet documented.">Class</a> *cls) {
<a name="l00806"></a>00806       <span class="keywordflow">return</span> isBoolClass(cls-&gt;getName());
<a name="l00807"></a>00807     }
<a name="l00808"></a>00808   
<a name="l00809"></a>00809     Bool <a class="code" href="classeyedb_1_1Class.html#a6e050f5722e61299c03dbc09f612c110" title="Not yet documented.">compare</a>(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Class.html#ada2741c543d86641fba1093bf887b385" title="Not yet documented.">Class</a> *cl,
<a name="l00810"></a>00810                  Bool compClassOwner,
<a name="l00811"></a>00811                  Bool compNum,
<a name="l00812"></a>00812                  Bool compName,
<a name="l00813"></a>00813                  Bool inDepth) <span class="keyword">const</span>;
<a name="l00814"></a>00814 
<a name="l00815"></a>00815     <span class="comment">// completion management</span>
<a name="l00816"></a>00816     Bool isAttrsComplete()<span class="keyword"> const </span>{<span class="keywordflow">return</span> attrs_complete;}
<a name="l00817"></a>00817     Bool isSetupComplete()<span class="keyword"> const </span>{<span class="keywordflow">return</span> setup_complete;}
<a name="l00818"></a>00818     Bool isPartiallyLoaded()<span class="keyword"> const </span>{<span class="keywordflow">return</span> partially_loaded;}
<a name="l00819"></a>00819 
<a name="l00820"></a>00820     <span class="keyword">virtual</span> Status attrsComplete();
<a name="l00821"></a>00821     Status setupComplete();
<a name="l00822"></a>00822     <span class="keyword">virtual</span> Status loadComplete(<span class="keyword">const</span> <a class="code" href="classeyedb_1_1Class.html#ada2741c543d86641fba1093bf887b385" title="Not yet documented.">Class</a> *);
<a name="l00823"></a>00823     Status wholeComplete();
<a name="l00824"></a>00824 
<a name="l00825"></a>00825     <span class="keywordtype">void</span> setSetupComplete(Bool _setup_complete) {
<a name="l00826"></a>00826       setup_complete = _setup_complete;
<a name="l00827"></a>00827     }
<a name="l00828"></a>00828 
<a name="l00829"></a>00829     <a class="code" href="classeyedb_1_1Class.html#ada2741c543d86641fba1093bf887b385" title="Not yet documented.">Class</a>(<span class="keyword">const</span> Oid&amp;, <span class="keyword">const</span> <span class="keywordtype">char</span> *);
<a name="l00830"></a>00830     Status clean(Database *db);
<a name="l00831"></a>00831 
<a name="l00832"></a>00832     <span class="comment">// XDR</span>
<a name="l00833"></a>00833     <span class="keyword">virtual</span> <span class="keywordtype">void</span> decode(<span class="keywordtype">void</span> * hdata, <span class="comment">// to</span>
<a name="l00834"></a>00834                         <span class="keyword">const</span> <span class="keywordtype">void</span> * xdata, <span class="comment">// from</span>
<a name="l00835"></a>00835                         Size incsize, <span class="comment">// temporarely necessary </span>
<a name="l00836"></a>00836                         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nb = 1) <span class="keyword">const</span>;
<a name="l00837"></a>00837 
<a name="l00838"></a>00838     <span class="keyword">virtual</span> <span class="keywordtype">void</span> encode(<span class="keywordtype">void</span> * xdata, <span class="comment">// to</span>
<a name="l00839"></a>00839                         <span class="keyword">const</span> <span class="keywordtype">void</span> * hdata, <span class="comment">// from</span>
<a name="l00840"></a>00840                         Size incsize, <span class="comment">// temporarely necessary </span>
<a name="l00841"></a>00841                         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nb = 1) <span class="keyword">const</span>;
<a name="l00842"></a>00842 
<a name="l00843"></a>00843     <span class="keyword">virtual</span> <span class="keywordtype">int</span> cmp(<span class="keyword">const</span> <span class="keywordtype">void</span> * xdata,
<a name="l00844"></a>00844                     <span class="keyword">const</span> <span class="keywordtype">void</span> * hdata,
<a name="l00845"></a>00845                     Size incsize, <span class="comment">// temporarely necessary </span>
<a name="l00846"></a>00846                     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nb = 1) <span class="keyword">const</span>;
<a name="l00847"></a>00847   };
<a name="l00848"></a>00848 
<a name="l00849"></a>00849   <span class="keyword">class </span>ClassPtr : <span class="keyword">public</span> ObjectPtr {
<a name="l00850"></a>00850 
<a name="l00851"></a>00851   <span class="keyword">public</span>:
<a name="l00852"></a>00852     ClassPtr(Class *o = 0) : ObjectPtr(o) { }
<a name="l00853"></a>00853 
<a name="l00854"></a>00854     Class *getClass() {<span class="keywordflow">return</span> <span class="keyword">dynamic_cast&lt;</span>Class *<span class="keyword">&gt;</span>(o);}
<a name="l00855"></a>00855     <span class="keyword">const</span> Class *getClass()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <span class="keyword">dynamic_cast&lt;</span>Class *<span class="keyword">&gt;</span>(o);}
<a name="l00856"></a>00856 
<a name="l00857"></a>00857     Class *operator-&gt;() {<span class="keywordflow">return</span> <span class="keyword">dynamic_cast&lt;</span>Class *<span class="keyword">&gt;</span>(o);}
<a name="l00858"></a>00858     <span class="keyword">const</span> Class *operator-&gt;()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <span class="keyword">dynamic_cast&lt;</span>Class *<span class="keyword">&gt;</span>(o);}
<a name="l00859"></a>00859   };
<a name="l00860"></a>00860 
<a name="l00861"></a>00861   <span class="keyword">typedef</span> std::vector&lt;ClassPtr&gt; ClassPtrVector;
<a name="l00862"></a>00862 
<a name="l00863"></a>00863   <span class="keyword">extern</span> Class
<a name="l00864"></a>00864   *Object_Class,
<a name="l00865"></a>00865 
<a name="l00866"></a>00866     *Class_Class,
<a name="l00867"></a>00867     *BasicClass_Class,
<a name="l00868"></a>00868     *EnumClass_Class,
<a name="l00869"></a>00869     *AgregatClass_Class,
<a name="l00870"></a>00870     *StructClass_Class,
<a name="l00871"></a>00871     *UnionClass_Class,
<a name="l00872"></a>00872 
<a name="l00873"></a>00873     *Instance_Class,
<a name="l00874"></a>00874     *Basic_Class,
<a name="l00875"></a>00875     *Enum_Class,
<a name="l00876"></a>00876     *Agregat_Class,
<a name="l00877"></a>00877     *Struct_Class,
<a name="l00878"></a>00878     *Union_Class,
<a name="l00879"></a>00879     *Schema_Class,
<a name="l00880"></a>00880     *Bool_Class,
<a name="l00881"></a>00881 
<a name="l00882"></a>00882     *CollectionClass_Class,
<a name="l00883"></a>00883     *CollSetClass_Class,
<a name="l00884"></a>00884     *CollBagClass_Class,
<a name="l00885"></a>00885     *CollListClass_Class,
<a name="l00886"></a>00886     *CollArrayClass_Class,
<a name="l00887"></a>00887 
<a name="l00888"></a>00888     *Collection_Class,
<a name="l00889"></a>00889     *CollSet_Class,
<a name="l00890"></a>00890     *CollBag_Class,
<a name="l00891"></a>00891     *CollList_Class,
<a name="l00892"></a>00892     *CollArray_Class;
<a name="l00893"></a>00893 
<a name="l00894"></a>00894   <span class="keyword">class </span>AttrNative;
<a name="l00895"></a>00895 
<a name="l00896"></a>00896   <span class="keyword">extern</span> <span class="keyword">struct </span>InstanceInfo {
<a name="l00897"></a>00897     <span class="keyword">const</span> <span class="keywordtype">char</span> *name;
<a name="l00898"></a>00898     <span class="keywordtype">int</span> items_cnt;
<a name="l00899"></a>00899     AttrNative **items;
<a name="l00900"></a>00900   } class_info[];
<a name="l00901"></a>00901 
<a name="l00906"></a>00906 }
<a name="l00907"></a>00907 
<a name="l00908"></a>00908 <span class="preprocessor">#endif</span>
</pre></div></div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Wed May 26 10:24:57 2010 for eyedb by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
